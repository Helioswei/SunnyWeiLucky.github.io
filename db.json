{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/Staticfile","path":"Staticfile","modified":0,"renderable":0},{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"source/robots.txt","path":"robots.txt","modified":0,"renderable":0},{"_id":"source/images/P11.png","path":"images/P11.png","modified":0,"renderable":0},{"_id":"source/images/access_key.png","path":"images/access_key.png","modified":0,"renderable":0},{"_id":"source/images/bar.png","path":"images/bar.png","modified":0,"renderable":0},{"_id":"source/images/cuvid.png","path":"images/cuvid.png","modified":0,"renderable":0},{"_id":"source/images/dnssec.png","path":"images/dnssec.png","modified":0,"renderable":0},{"_id":"source/images/drive.png","path":"images/drive.png","modified":0,"renderable":0},{"_id":"source/images/gmp.png","path":"images/gmp.png","modified":0,"renderable":0},{"_id":"source/images/gnutls.png","path":"images/gnutls.png","modified":0,"renderable":0},{"_id":"source/images/go.png","path":"images/go.png","modified":0,"renderable":0},{"_id":"source/images/host_bucket.png","path":"images/host_bucket.png","modified":0,"renderable":0},{"_id":"source/images/ladspa.png","path":"images/ladspa.png","modified":0,"renderable":0},{"_id":"source/images/libass.png","path":"images/libass.png","modified":0,"renderable":0},{"_id":"source/images/libgsm.png","path":"images/libgsm.png","modified":0,"renderable":0},{"_id":"source/images/libmp3lame.png","path":"images/libmp3lame.png","modified":0,"renderable":0},{"_id":"source/images/libopencore_amrnb.png","path":"images/libopencore_amrnb.png","modified":0,"renderable":0},{"_id":"source/images/libopenjp2.png","path":"images/libopenjp2.png","modified":0,"renderable":0},{"_id":"source/images/libtheora.png","path":"images/libtheora.png","modified":0,"renderable":0},{"_id":"source/images/libsoxr.png","path":"images/libsoxr.png","modified":0,"renderable":0},{"_id":"source/images/libx264.png","path":"images/libx264.png","modified":0,"renderable":0},{"_id":"source/images/libtasn1.png","path":"images/libtasn1.png","modified":0,"renderable":0},{"_id":"source/images/libxcb.png","path":"images/libxcb.png","modified":0,"renderable":0},{"_id":"source/images/libxvid.png","path":"images/libxvid.png","modified":0,"renderable":0},{"_id":"source/images/ogg.png","path":"images/ogg.png","modified":0,"renderable":0},{"_id":"source/images/openal.png","path":"images/openal.png","modified":0,"renderable":0},{"_id":"source/images/openh264.png","path":"images/openh264.png","modified":0,"renderable":0},{"_id":"source/images/opus.png","path":"images/opus.png","modified":0,"renderable":0},{"_id":"source/images/secret_key.png","path":"images/secret_key.png","modified":0,"renderable":0},{"_id":"source/images/speex.png","path":"images/speex.png","modified":0,"renderable":0},{"_id":"source/images/unistring.png","path":"images/unistring.png","modified":0,"renderable":0},{"_id":"source/images/vga.png","path":"images/vga.png","modified":0,"renderable":0},{"_id":"source/images/vorbis.png","path":"images/vorbis.png","modified":0,"renderable":0},{"_id":"source/images/x265.png","path":"images/x265.png","modified":0,"renderable":0},{"_id":"source/images/xvid.png","path":"images/xvid.png","modified":0,"renderable":0},{"_id":"source/images/hw.png","path":"images/hw.png","modified":0,"renderable":0},{"_id":"source/images/readme.png","path":"images/readme.png","modified":0,"renderable":0},{"_id":"source/images/blog/baidu.png","path":"images/blog/baidu.png","modified":0,"renderable":0},{"_id":"source/images/blog/gitee.png","path":"images/blog/gitee.png","modified":0,"renderable":0},{"_id":"source/images/cuda/nouveau.png","path":"images/cuda/nouveau.png","modified":0,"renderable":0},{"_id":"source/images/cuda/图片1.png","path":"images/cuda/图片1.png","modified":0,"renderable":0},{"_id":"source/images/cuda/图片10.png","path":"images/cuda/图片10.png","modified":0,"renderable":0},{"_id":"source/images/cuda/图片11.png","path":"images/cuda/图片11.png","modified":0,"renderable":0},{"_id":"source/images/cuda/图片12.png","path":"images/cuda/图片12.png","modified":0,"renderable":0},{"_id":"source/images/cuda/图片13.png","path":"images/cuda/图片13.png","modified":0,"renderable":0},{"_id":"source/images/cuda/图片14.png","path":"images/cuda/图片14.png","modified":0,"renderable":0},{"_id":"source/images/cuda/图片15.png","path":"images/cuda/图片15.png","modified":0,"renderable":0},{"_id":"source/images/cuda/图片16.png","path":"images/cuda/图片16.png","modified":0,"renderable":0},{"_id":"source/images/cuda/图片17.png","path":"images/cuda/图片17.png","modified":0,"renderable":0},{"_id":"source/images/cuda/图片4.png","path":"images/cuda/图片4.png","modified":0,"renderable":0},{"_id":"source/images/cuda/图片5.png","path":"images/cuda/图片5.png","modified":0,"renderable":0},{"_id":"source/images/cuda/图片6.png","path":"images/cuda/图片6.png","modified":0,"renderable":0},{"_id":"source/images/cuda/图片7.png","path":"images/cuda/图片7.png","modified":0,"renderable":0},{"_id":"source/images/cuda/图片8.png","path":"images/cuda/图片8.png","modified":0,"renderable":0},{"_id":"source/images/cuda/图片3.png","path":"images/cuda/图片3.png","modified":0,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/images/algolia_logo.svg","path":"images/algolia_logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/apple-touch-icon-next.png","path":"images/apple-touch-icon-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.gif","path":"images/avatar.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-16x16-next.png","path":"images/favicon-16x16-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/favicon-32x32-next.png","path":"images/favicon-32x32-next.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/logo.svg","path":"images/logo.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":0,"renderable":1},{"_id":"source/images/cuda/图片2.png","path":"images/cuda/图片2.png","modified":0,"renderable":0},{"_id":"themes/next/source/images/alipay.jpg","path":"images/alipay.jpg","modified":0,"renderable":1},{"_id":"themes/next/source/images/avatar.jpeg","path":"images/avatar.jpeg","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/algolia-search.js","path":"js/src/algolia-search.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/clicklove.js","path":"js/src/clicklove.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/exturl.js","path":"js/src/exturl.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/js.cookie.js","path":"js/src/js.cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/post-details.js","path":"js/src/post-details.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scroll-cookie.js","path":"js/src/scroll-cookie.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","path":"lib/canvas-nest/canvas-nest.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","path":"lib/algolia-instant-search/instantsearch.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","path":"lib/canvas-ribbon/canvas-ribbon.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/LICENSE","path":"lib/fastclick/LICENSE","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/README.md","path":"lib/fastclick/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/bower.json","path":"lib/fastclick/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","path":"lib/font-awesome/HELP-US-OUT.txt","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/bower.json","path":"lib/font-awesome/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","path":"lib/jquery_lazyload/CONTRIBUTING.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","path":"lib/jquery_lazyload/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","path":"lib/jquery_lazyload/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","path":"lib/jquery_lazyload/jquery.lazyload.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","path":"lib/jquery_lazyload/jquery.scrollstop.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/font-embedded.css","path":"lib/needsharebutton/font-embedded.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.css","path":"lib/needsharebutton/needsharebutton.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.js","path":"lib/needsharebutton/needsharebutton.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","path":"lib/pace/pace-theme-big-counter.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","path":"lib/pace/pace-theme-bounce.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","path":"lib/pace/pace-theme-center-atom.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","path":"lib/pace/pace-theme-barber-shop.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","path":"lib/pace/pace-theme-center-circle.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","path":"lib/pace/pace-theme-center-radar.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","path":"lib/pace/pace-theme-center-simple.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","path":"lib/pace/pace-theme-corner-indicator.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","path":"lib/pace/pace-theme-fill-left.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","path":"lib/pace/pace-theme-flash.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","path":"lib/pace/pace-theme-loading-bar.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","path":"lib/pace/pace-theme-mac-osx.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","path":"lib/pace/pace-theme-minimal.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/pace/pace.min.js","path":"lib/pace/pace.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","path":"lib/three/canvas_lines.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","path":"lib/three/canvas_sphere.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/three-waves.min.js","path":"lib/three/three-waves.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/bower.json","path":"lib/velocity/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.min.js","path":"lib/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","path":"lib/velocity/velocity.ui.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","path":"lib/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/jquery/index.js","path":"lib/jquery/index.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.css","path":"lib/Han/dist/han.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.min.js","path":"lib/Han/dist/han.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","path":"lib/fancybox/source/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","path":"lib/fancybox/source/blank.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","path":"lib/fancybox/source/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","path":"lib/fancybox/source/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","path":"lib/fancybox/source/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","path":"lib/fancybox/source/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","path":"lib/fancybox/source/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","path":"lib/fancybox/source/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","path":"lib/fastclick/lib/fastclick.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","path":"lib/fastclick/lib/fastclick.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","path":"lib/fancybox/source/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","path":"lib/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","path":"lib/font-awesome/css/font-awesome.css.map","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","path":"lib/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","path":"lib/ua-parser-js/dist/ua-parser.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","path":"lib/ua-parser-js/dist/ua-parser.pack.js","modified":0,"renderable":1},{"_id":"source/images/linux/cache.png","path":"images/linux/cache.png","modified":0,"renderable":0},{"_id":"themes/next/source/lib/Han/dist/han.css","path":"lib/Han/dist/han.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","path":"lib/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/velocity/velocity.js","path":"lib/velocity/velocity.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","path":"lib/Han/dist/font/han-space.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","path":"lib/Han/dist/font/han-space.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","path":"lib/Han/dist/font/han.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","path":"lib/Han/dist/font/han.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","path":"lib/Han/dist/font/han.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/lib/Han/dist/han.js","path":"lib/Han/dist/han.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","path":"lib/fancybox/source/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"lib/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","path":"lib/fancybox/source/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","path":"lib/font-awesome/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","path":"lib/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","path":"lib/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","path":"lib/font-awesome/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","path":"lib/algolia-instant-search/instantsearch.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/three/three.min.js","path":"lib/three/three.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","path":"lib/font-awesome/fonts/fontawesome-webfont.svg","modified":0,"renderable":1}],"Cache":[{"_id":"source/Staticfile","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1589252774384},{"_id":"source/CNAME","hash":"865b6311f1d44e8e9dd22fd80260601a73be349c","modified":1589191329555},{"_id":"source/robots.txt","hash":"34764549e4497bb2d8fdbd992eb17d034be8a29c","modified":1589858763828},{"_id":"themes/next/.bowerrc","hash":"334da94ca6f024d60d012cc26ea655681e724ad8","modified":1589191329684},{"_id":"themes/next/.editorconfig","hash":"211d2c92bfdddb3e81ea946f4ca7a539f150f4da","modified":1589191329684},{"_id":"themes/next/.gitattributes","hash":"8454b9313cb1a97b63fb87e2d29daee497ce6249","modified":1589191329684},{"_id":"themes/next/.gitignore","hash":"ee0b13c268cc8695d3883a5da84930af02d4ed08","modified":1589191329685},{"_id":"themes/next/.hound.yml","hash":"289dcf5bfe92dbd680d54d6e0668f41c9c9c0c78","modified":1589191329686},{"_id":"themes/next/.javascript_ignore","hash":"cd250ad74ca22bd2c054476456a73d9687f05f87","modified":1589191329686},{"_id":"themes/next/.jshintrc","hash":"b7d23f2ce8d99fa073f22f9960605f318acd7710","modified":1589191329687},{"_id":"themes/next/.stylintrc","hash":"3b7f9785e9ad0dab764e1c535b40df02f4ff5fd6","modified":1589191329687},{"_id":"themes/next/.travis.yml","hash":"6674fbdfe0d0c03b8a04527ffb8ab66a94253acd","modified":1589191329688},{"_id":"themes/next/LICENSE","hash":"ec44503d7e617144909e54533754f0147845f0c5","modified":1589191329688},{"_id":"themes/next/README.cn.md","hash":"23e92a2599725db2f8dbd524fbef2087c6d11c7b","modified":1589191329688},{"_id":"themes/next/README.md","hash":"50abff86ffe4113051a409c1ed9261195d2aead0","modified":1589191329689},{"_id":"themes/next/_config.yml","hash":"b9cc66923a691707fbdcb55ebd15ddd88b80be7f","modified":1589853071023},{"_id":"themes/next/bower.json","hash":"486ebd72068848c97def75f36b71cbec9bb359c5","modified":1589191329689},{"_id":"themes/next/gulpfile.coffee","hash":"412defab3d93d404b7c26aaa0279e2e586e97454","modified":1589191329690},{"_id":"themes/next/package.json","hash":"3963ad558a24c78a3fd4ef23cf5f73f421854627","modified":1589191329741},{"_id":"source/_posts/centos7-163yum源下载.md","hash":"19b235f030493d50e1aa71115404962eec3d0e33","modified":1589768053387},{"_id":"source/_posts/centos7-epel源下载.md","hash":"880ecda09f2321fba659e1b0bdad205d4f287ce4","modified":1589768172150},{"_id":"source/_posts/centos7-常用的命令.md","hash":"82904d80758a96fbc1eead9ed738a4310529cbeb","modified":1589767807895},{"_id":"source/_posts/centos7-控制系统的CPU.md","hash":"a14f91675bac0043e6bed21ecf5838e3e210f3a1","modified":1589191329556},{"_id":"source/_posts/cpp-关于内存泄漏的问题.md","hash":"2edd6e421019af1f089f3b692ab91396f9e8c309","modified":1589191329556},{"_id":"source/_posts/cuda-cuda10-0安装.md","hash":"692a151e63d14c3b92cf3f2b057284a5bce2cae4","modified":1589191329557},{"_id":"source/_posts/ffmpeg-avfilter的使用详解.md","hash":"132fdd0a935feefdb7ea655c3fe3282efb2a74a0","modified":1589191329557},{"_id":"source/_posts/ffmpeg-源码编译支持GPU.md","hash":"60bd74118d5ca9a0c37daf6ffb68100c247896f2","modified":1589191329557},{"_id":"source/_posts/ffmpeg-编码的步骤.md","hash":"3f0fe3463c3426b454943b630d57dfa2ba475780","modified":1589191329558},{"_id":"source/_posts/gcc-5-1-0源码安装.md","hash":"3e51b2a6dc21a5446fc3f0047f5c82fd55fb375b","modified":1589191329558},{"_id":"source/_posts/git-大文件上传管理.md","hash":"e45cc21299d7dfae3dee4b9d9301e499a38655e4","modified":1590137181612},{"_id":"source/_posts/git-常用的命令.md","hash":"6345ae0b37c7461bd3d8556f5c0054aea2a5bf60","modified":1590113453762},{"_id":"source/_posts/grpc编译.md","hash":"201fa6abc5a47376ced3b6e3e6c371c3a8253aca","modified":1589191329559},{"_id":"source/_posts/hello-world.md","hash":"8013042677b4e0d83c78798d126a78db80005483","modified":1589191329559},{"_id":"source/_posts/hexo-gulp压缩.md","hash":"106e06f46f1d7143a3d3813400a802d02b8a1cf7","modified":1590373555376},{"_id":"source/_posts/hexo-next主题配置.md","hash":"971ebcc1aa945240227759ef8f70d9c8ec240a0c","modified":1589254331987},{"_id":"source/_posts/hexo-常用命令.md","hash":"f05f8ceea7e4e317840ae8fcd874dde46d89f31b","modified":1589191329560},{"_id":"source/_posts/image-libraw相机图片库源码编译.md","hash":"bb73c6c53a2d37cb52053250f7581b6c7fa50cde","modified":1589191329560},{"_id":"source/_posts/image-libvips图片处理库源码编译.md","hash":"94f3b16c8ab8bb5393d5f57eaeb1d3e28427c286","modified":1589191329560},{"_id":"source/_posts/image-图片处理库总结.md","hash":"32f818c598ce6a66ba6c40515141e7cf07640c5c","modified":1589191329560},{"_id":"source/_posts/markdown语言的总结.md","hash":"1b752dd4cad079a88f3bbfc11530cdf4fbb28d8c","modified":1589191329561},{"_id":"source/_posts/mupdf-源码安装.md","hash":"09c82591ef47fa6dd7878073c18202ec1838c128","modified":1589191329561},{"_id":"source/_posts/mysql-centos7源码安装mysql8-0.md","hash":"9c29837710a8b5c7e1e669b7859a0747aeb89e5f","modified":1589191329561},{"_id":"source/_posts/opencv-源码安装.md","hash":"c97edf417cc8f7eea0d9f8b9abbbbda586d77686","modified":1589191329561},{"_id":"source/_posts/others-时间管理.md","hash":"242e558ebc7b01125f9a92b1c0a0ee8c0841e922","modified":1589191329561},{"_id":"source/_posts/poco-源码编译包含mysql.md","hash":"ebb0b3fd4d3e1d8ebe4c8b53f8f8d3e972b67869","modified":1589191329562},{"_id":"source/_posts/s3-关于s3cmd的下载.md","hash":"15088a0d2c9a3a1f43d1b4ebddc66f3e9d0da49a","modified":1589191329562},{"_id":"source/_posts/相机底片的解析.md","hash":"e5d4a1207501287cadb4b9d3d81b96773510f415","modified":1589191329562},{"_id":"source/_posts/系统io状态排查.md","hash":"0b05dac0751699e837df039accd54c75f62b22b4","modified":1589191329563},{"_id":"source/about/index.md","hash":"393bc7fb0b0cf63bbc14c554366ad700e6e9dc86","modified":1589191329563},{"_id":"source/categories/index.md","hash":"790f053361f365de43e68db2ffae4885badd72a1","modified":1589191329563},{"_id":"source/images/P11.png","hash":"becbae28b163501e5e40f8c58eae1a898c1e0584","modified":1589191329564},{"_id":"source/images/access_key.png","hash":"fb35be6c02f500daf7f475791a3523db3ac181bd","modified":1589191329564},{"_id":"source/images/bar.png","hash":"7e42c75e58dbf4a20b48d49e8d82d2cde85b7e0f","modified":1589191329565},{"_id":"source/images/cuvid.png","hash":"258a07fcf89ab7e2bb853ca9bc1395296be26041","modified":1589191329577},{"_id":"source/images/dnssec.png","hash":"8d07dbfe14865c860e97fcc9a99c273ffc83152b","modified":1589191329577},{"_id":"source/images/drive.png","hash":"d7c3e1608480e91cb046bbb435ec49e374a69be3","modified":1589191329578},{"_id":"source/images/gmp.png","hash":"f7257b5275b181890640dc52552ae71d0d24d902","modified":1589191329578},{"_id":"source/images/gnutls.png","hash":"37fc5622167d7155c47767ef620f0157121a56b7","modified":1589191329579},{"_id":"source/images/go.png","hash":"e96d5d377a2bcabc48c1781f53e0c465affa0c55","modified":1589191329580},{"_id":"source/images/host_bucket.png","hash":"425d3304be44d15d0299450406d006ee37db9373","modified":1589191329580},{"_id":"source/images/ladspa.png","hash":"daf33c329560e4f341096d8cbaf7c1c11777ac07","modified":1589191329582},{"_id":"source/images/libass.png","hash":"c567d42012eae7522ef4f478ea29045d294946c6","modified":1589191329583},{"_id":"source/images/libgsm.png","hash":"a56794bd89e436de9e3bd2e52c5a046f6daa752b","modified":1589191329584},{"_id":"source/images/libmp3lame.png","hash":"d884d3159c055e72bf50782330bb6fc59d483a7c","modified":1589191329584},{"_id":"source/images/libopencore_amrnb.png","hash":"e13b2ca682399ca156b7ed2762b4cdcef51b416d","modified":1589191329584},{"_id":"source/images/libopenjp2.png","hash":"4c929a02a420b2f8711aa6238ec78dae15ae5ebf","modified":1589191329584},{"_id":"source/images/libtheora.png","hash":"f1df4385281801737b726bfc6be6a3b3da785b2c","modified":1589191329585},{"_id":"source/images/libsoxr.png","hash":"2f2a33b93e6a4679a07a7f8c757cfd2d3e2978ca","modified":1589191329585},{"_id":"source/images/libx264.png","hash":"a31455fe74c536dfa08f3230b3407271e96b12c7","modified":1589191329585},{"_id":"source/images/libtasn1.png","hash":"242e9f4bc560b036cb79a38ed1d4890a1025e091","modified":1589191329585},{"_id":"source/images/libxcb.png","hash":"2a93ed117daf5ce3b39d56a02009b94db0baba08","modified":1589191329586},{"_id":"source/images/libxvid.png","hash":"6e4c6608caddd01829bde91f8efeb97d3f162cbc","modified":1589191329586},{"_id":"source/images/ogg.png","hash":"0ba07d4e5f4c8a68bbc97e2b24fe4f227e201212","modified":1589191329586},{"_id":"source/images/openal.png","hash":"81ce7dc794bf77ecfbb6a264cb5b2eca57309908","modified":1589191329587},{"_id":"source/images/openh264.png","hash":"dc9d49ef722465454d9fd26b4587168d148b4e18","modified":1589191329587},{"_id":"source/images/opus.png","hash":"1061912cba044ddc4bf223736ad09d0843e850c1","modified":1589191329587},{"_id":"source/images/secret_key.png","hash":"b87eaeb261cee2f46ea801fe07b1a16d9689441d","modified":1589191329588},{"_id":"source/images/speex.png","hash":"220ebd5232ef0676756a205e178b0297e409aecc","modified":1589191329589},{"_id":"source/images/unistring.png","hash":"aa761485590b42d8277d5c4e01f61c6d28660d70","modified":1589191329589},{"_id":"source/images/vga.png","hash":"0d7c6f7bda3996f479fc9be30739c56dddc35f41","modified":1589191329589},{"_id":"source/images/vorbis.png","hash":"7f8d8ad8175e85d7e0d9dff556c1785e4d10aaa2","modified":1589191329590},{"_id":"source/images/x265.png","hash":"80318f294e3ce4f97016703b4d3e8e2f1367fe7b","modified":1589191329590},{"_id":"source/images/xvid.png","hash":"f713c592a99b96dbce968c6e5e36a69826e91948","modified":1589191329590},{"_id":"source/tags/index.md","hash":"84d063fa42aba4bb60bde1bc746e0d5d7cac768f","modified":1589191329591},{"_id":"themes/next/.github/CONTRIBUTING.md","hash":"5adfad3ef1b870063e621bc0838268eb2c7c697a","modified":1589191329684},{"_id":"themes/next/.github/ISSUE_TEMPLATE.md","hash":"a0a82dbfabdef9a9d7c17a08ceebfb4052d98d81","modified":1589191329685},{"_id":"themes/next/.github/PULL_REQUEST_TEMPLATE.md","hash":"1228506a940114288d61812bfe60c045a0abeac1","modified":1589191329685},{"_id":"themes/next/.github/browserstack_logo.png","hash":"a6c43887f64a7f48a2814e3714eaa1215e542037","modified":1589191329685},{"_id":"themes/next/languages/de.yml","hash":"fd02d9c2035798d5dc7c1a96b4c3e24b05b31a47","modified":1589191329690},{"_id":"themes/next/languages/default.yml","hash":"b3bcd8934327448a43d9bfada5dd11b1b8c1402e","modified":1589191329691},{"_id":"themes/next/languages/en.yml","hash":"2f4b4776ca1a08cc266a19afb0d1350a3926f42c","modified":1589191329692},{"_id":"themes/next/languages/fr-FR.yml","hash":"efeeb55d5c4add54ad59a612fc0630ee1300388c","modified":1589191329692},{"_id":"themes/next/languages/id.yml","hash":"dccae33e2a5b3c9f11c0e05ec4a7201af1b25745","modified":1589191329692},{"_id":"themes/next/languages/it.yml","hash":"a215d016146b1bd92cef046042081cbe0c7f976f","modified":1589191329693},{"_id":"themes/next/languages/ja.yml","hash":"37f954e47a3bc669620ca559e3edb3b0072a4be5","modified":1589191329693},{"_id":"themes/next/languages/ko.yml","hash":"dc8f3e8c64eb7c4bb2385025b3006b8efec8b31d","modified":1589191329694},{"_id":"themes/next/languages/nl-NL.yml","hash":"213e7a002b82fb265f69dabafbbc382cfd460030","modified":1589191329695},{"_id":"themes/next/languages/pt-BR.yml","hash":"568d494a1f37726a5375b11452a45c71c3e2852d","modified":1589191329695},{"_id":"themes/next/languages/pt.yml","hash":"2efcd240c66ab1a122f061505ca0fb1e8819877b","modified":1589191329696},{"_id":"themes/next/languages/ru.yml","hash":"e33ee44e80f82e329900fc41eb0bb6823397a4d6","modified":1589191329696},{"_id":"themes/next/languages/vi.yml","hash":"a9b89ebd3e5933033d1386c7c56b66c44aca299a","modified":1589191329697},{"_id":"themes/next/languages/zh-Hans.yml","hash":"99b77a53e5a10ed5cf78a32a146e179cf05688cd","modified":1589191329698},{"_id":"themes/next/languages/zh-hk.yml","hash":"fe0d45807d015082049f05b54714988c244888da","modified":1589191329698},{"_id":"themes/next/languages/zh-tw.yml","hash":"432463b481e105073accda16c3e590e54c8e7b74","modified":1589191329699},{"_id":"themes/next/layout/_layout.swig","hash":"7481ef9184a94d4dd7a921671b77924c8b57b004","modified":1589191818900},{"_id":"themes/next/layout/archive.swig","hash":"9a2c14874a75c7085d2bada5e39201d3fc4fd2b4","modified":1589191329737},{"_id":"themes/next/layout/category.swig","hash":"3cbb3f72429647411f9e85f2544bdf0e3ad2e6b2","modified":1589191329738},{"_id":"themes/next/layout/index.swig","hash":"555a357ecf17128db4e29346c92bb6298e66547a","modified":1589860792827},{"_id":"themes/next/layout/page.swig","hash":"e8fcaa641d46930237675d2ad4b56964d9e262e9","modified":1589191329739},{"_id":"themes/next/layout/post.swig","hash":"7a6ce102ca82c3a80f776e555dddae1a9981e1ed","modified":1589191329740},{"_id":"themes/next/layout/schedule.swig","hash":"87ad6055df01fa2e63e51887d34a2d8f0fbd2f5a","modified":1589191329740},{"_id":"themes/next/layout/tag.swig","hash":"34e1c016cbdf94a31f9c5d494854ff46b2a182e9","modified":1589191329741},{"_id":"themes/next/scripts/merge.js","hash":"39b84b937b2a9608b94e5872349a47200e1800ff","modified":1589191329743},{"_id":"themes/next/scripts/merge-configs.js","hash":"38d86aab4fc12fb741ae52099be475196b9db972","modified":1589191329742},{"_id":"themes/next/test/.jshintrc","hash":"c9fca43ae0d99718e45a6f5ce736a18ba5fc8fb6","modified":1589191329871},{"_id":"themes/next/test/intern.js","hash":"db90b1063356727d72be0d77054fdc32fa882a66","modified":1589191329871},{"_id":"themes/next/test/helpers.js","hash":"f25e7f3265eb5a6e1ccbb5e5012fa9bebf134105","modified":1589191329871},{"_id":"source/images/hw.png","hash":"eaf6e78864c94e48939501ed8dc499c213eaa958","modified":1589191329582},{"_id":"source/images/readme.png","hash":"75859f1a68138b7dc28d6c3a2988f62ffb9072e0","modified":1589191329588},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1589191329802},{"_id":"source/images/blog/baidu.png","hash":"7d69aee17bc1498f2e82465d44f280b4792c66cb","modified":1589191329566},{"_id":"source/images/blog/gitee.png","hash":"0be6e9b391c630702e3d86f5c1a8902c997b8e5b","modified":1589254261398},{"_id":"source/images/cuda/nouveau.png","hash":"f60588dabac60dc43f215d09b466d5232eae7044","modified":1589191329567},{"_id":"source/images/cuda/图片1.png","hash":"31f184c16554ba2607d7c1d8a2385f34439f3437","modified":1589191329568},{"_id":"source/images/cuda/图片10.png","hash":"311619e056b73466a150363be0f1e18ffa9400a8","modified":1589191329568},{"_id":"source/images/cuda/图片11.png","hash":"5c0fbe191d08d87d7d078560fc6e4997a638c86c","modified":1589191329569},{"_id":"source/images/cuda/图片12.png","hash":"627a07b9f0748605cb30cd0b8d280fe942f8cf6e","modified":1589191329569},{"_id":"source/images/cuda/图片13.png","hash":"709f1d871ec7beb759748beaf8df3fddef3f810c","modified":1589191329569},{"_id":"source/images/cuda/图片14.png","hash":"2bc504c0dfc7b3862e5a6817b02fe20815e5018d","modified":1589191329570},{"_id":"source/images/cuda/图片15.png","hash":"badd25bdb39aa5ec973bdf11b606f7aab4eb9222","modified":1589191329570},{"_id":"source/images/cuda/图片16.png","hash":"4b8be5cc8527e1f671fea3598a64c75df90f9e13","modified":1589191329571},{"_id":"source/images/cuda/图片17.png","hash":"6e9c09d24f283df5f0f3573618b3135831ec1737","modified":1589191329572},{"_id":"source/images/cuda/图片4.png","hash":"a3d5e4cc62bb642adc931a832f453f16a516ba79","modified":1589191329575},{"_id":"source/images/cuda/图片5.png","hash":"aa2d324ee51f2f0939ff3fed01b4c976ce1354c1","modified":1589191329575},{"_id":"source/images/cuda/图片6.png","hash":"d074718f501212ba05445a5eaa779c49a9549658","modified":1589191329575},{"_id":"source/images/cuda/图片7.png","hash":"ecfade1fc5b77b643339b7d2acf828410a42f52c","modified":1589191329576},{"_id":"source/images/cuda/图片8.png","hash":"40bfec8f83069a52b30cf29a5f4984cfbff65915","modified":1589191329576},{"_id":"source/images/cuda/图片3.png","hash":"a30910cadc4b922fa5b115b36186e1ded72f6969","modified":1589191329574},{"_id":"themes/next/layout/_custom/sidebar.swig","hash":"ba8ab5a0280b953aa97435ff8946cbcbb2755a27","modified":1589191329701},{"_id":"themes/next/layout/_custom/header.swig","hash":"ba8ab5a0280b953aa97435ff8946cbcbb2755a27","modified":1589191329700},{"_id":"themes/next/layout/_partials/comments.swig","hash":"b79bf64dde56f34a85ee5346a59274db71314ad9","modified":1589191329705},{"_id":"themes/next/layout/_partials/footer.swig","hash":"81f0d8c0e43fda83e4097fdc37a5de355df2f80f","modified":1589860784862},{"_id":"themes/next/layout/_partials/head.swig","hash":"f14a39dad1ddd98e6d3ceb25dda092ba80d391b5","modified":1589191329706},{"_id":"themes/next/layout/_partials/header.swig","hash":"c54b32263bc8d75918688fb21f795103b3f57f03","modified":1589191329709},{"_id":"themes/next/layout/_partials/page-header.swig","hash":"77c61e0baea3544df361b7338c3cd13dc84dde22","modified":1589191329709},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"1634fb887842698e01ff6e632597fe03c75d2d01","modified":1589191329710},{"_id":"themes/next/layout/_partials/search.swig","hash":"b4ebe4a52a3b51efe549dd1cdee846103664f5eb","modified":1589191329710},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"8c56dd26157cbc580ae41d97ac34b90ab48ced3f","modified":1589191329702},{"_id":"themes/next/layout/_macro/post-copyright.swig","hash":"f83befdc740beb8dc88805efd7fbb0fef9ed19be","modified":1589191329702},{"_id":"themes/next/layout/_macro/post.swig","hash":"4ba938822d56c597490f0731893eaa2443942e0f","modified":1589191329703},{"_id":"themes/next/layout/_macro/reward.swig","hash":"357d86ec9586705bfbb2c40a8c7d247a407db21a","modified":1589191329703},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"9c7343fd470e0943ebd75f227a083a980816290b","modified":1589191329704},{"_id":"themes/next/layout/_macro/wechat-subscriber.swig","hash":"e2e4eae391476da994045ed4c7faf5e05aca2cd7","modified":1589191329704},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"c0f5a0955f69ca4ed9ee64a2d5f8aa75064935ad","modified":1589191329715},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"931808ad9b8d8390c0dcf9bdeb0954eeb9185d68","modified":1589191329716},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"9be624634703be496a5d2535228bc568a8373af9","modified":1589191329720},{"_id":"themes/next/layout/_third-party/duoshuo-hot-articles.swig","hash":"ba75672183d94f1de7c8bd0eeee497a58c70e889","modified":1589191329732},{"_id":"themes/next/layout/_third-party/exturl.swig","hash":"8301c9600bb3e47f7fb98b0e0332ef3c51bb1688","modified":1589191329732},{"_id":"themes/next/layout/_third-party/mathjax.swig","hash":"a0bd3388587fd943baae0d84ca779a707fbcad89","modified":1589191329732},{"_id":"themes/next/layout/_third-party/needsharebutton.swig","hash":"fa882641da3bd83d9a58a8a97f9d4c62a9ee7b5c","modified":1589191329733},{"_id":"themes/next/layout/_third-party/rating.swig","hash":"554ec568e9d2c71e4a624a8de3cb5929050811d6","modified":1589191329733},{"_id":"themes/next/layout/_third-party/schedule.swig","hash":"db15d7e1552aa2d2386a6b8a33b3b3a40bf9e43d","modified":1589191329734},{"_id":"themes/next/layout/_third-party/scroll-cookie.swig","hash":"9a188938d46931d5f3882a140aa1c48b3a893f0c","modified":1589191329734},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"99b66949f18398689b904907af23c013be1b978f","modified":1589191329744},{"_id":"themes/next/scripts/tags/button.js","hash":"eddbb612c15ac27faf11c59c019ce188f33dec2c","modified":1589191329744},{"_id":"themes/next/scripts/tags/exturl.js","hash":"5022c0ba9f1d13192677cf1fd66005c57c3d0f53","modified":1589191329745},{"_id":"themes/next/scripts/tags/full-image.js","hash":"c9f833158c66bd72f627a0559cf96550e867aa72","modified":1589191329745},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"ac681b0d0d8d39ba3817336c0270c6787c2b6b70","modified":1589191329746},{"_id":"themes/next/scripts/tags/label.js","hash":"6f00952d70aadece844ce7fd27adc52816cc7374","modified":1589191329746},{"_id":"themes/next/scripts/tags/lazy-image.js","hash":"bcba2ff25cd7850ce6da322d8bd85a8dd00b5ceb","modified":1589191329747},{"_id":"themes/next/scripts/tags/note.js","hash":"f7eae135f35cdab23728e9d0d88b76e00715faa0","modified":1589191329747},{"_id":"themes/next/scripts/tags/tabs.js","hash":"aa7fc94a5ec27737458d9fe1a75c0db7593352fd","modified":1589191329748},{"_id":"themes/next/source/css/main.styl","hash":"a91dbb7ef799f0a171b5e726c801139efe545176","modified":1589191329802},{"_id":"themes/next/source/images/algolia_logo.svg","hash":"45eeea0b5fba833e21e38ea10ed5ab385ceb4f01","modified":1589191329803},{"_id":"themes/next/source/images/apple-touch-icon-next.png","hash":"2959dbc97f31c80283e67104fe0854e2369e40aa","modified":1589191329806},{"_id":"themes/next/source/images/avatar.gif","hash":"264082bb3a1af70d5499c7d22b0902cb454b6d12","modified":1589191329806},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"bc3588c9b2d7c68830524783120ff6cf957cf668","modified":1589191329808},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"6f55543d1fb9cbc436c101d24f802dec7b41efc3","modified":1589191329808},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"6f076713fb9bf934aa2c1046bdf2cf2e37bc1eab","modified":1589191329809},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"42cd73da328077ccc92f859bb8f3cf621b3484f8","modified":1589191329810},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"70c1535f43e54e5ff35ca81419e77e4c0c301398","modified":1589191329810},{"_id":"themes/next/source/images/cc-by.svg","hash":"e92a33c32d1dac8ed94849b2b4e6456e887efe70","modified":1589191329810},{"_id":"themes/next/source/images/cc-zero.svg","hash":"9bfb52b2f63527a7049247bf00d44e6dc1170e7d","modified":1589191329811},{"_id":"themes/next/source/images/favicon-16x16-next.png","hash":"943a0d67a9cdf8c198109b28f9dbd42f761d11c3","modified":1589191329811},{"_id":"themes/next/source/images/favicon-32x32-next.png","hash":"0749d7b24b0d2fae1c8eb7f671ad4646ee1894b1","modified":1589191329811},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1589191329811},{"_id":"themes/next/source/images/logo.svg","hash":"169f56fd82941591dad3abd734a50ec7259be950","modified":1589191329812},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1589191329812},{"_id":"themes/next/source/images/quote-l.svg","hash":"cd108d6f44351cadf8e6742565217f88818a0458","modified":1589191329812},{"_id":"themes/next/source/images/quote-r.svg","hash":"2a2a250b32a87c69dcc1b1976c74b747bedbfb41","modified":1589191329812},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1589191329813},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1589191329718},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1589191329719},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1589191329790},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1589191329790},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1589191329790},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1589191329802},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1589191329801},{"_id":"source/images/cuda/图片2.png","hash":"b620c0b301c54df216f59d1dd9f4280efa27c797","modified":1589191329574},{"_id":"themes/next/layout/_partials/head/custom-head.swig","hash":"a223919d2e1bf17ca4d6abb2c86f2efca9883dc1","modified":1589191329708},{"_id":"themes/next/layout/_partials/head/external-fonts.swig","hash":"f5e487b0d213ca0bd94aa30bc23b240d65081627","modified":1589191329708},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"b2f0d247b213e4cf8de47af6a304d98070cc7256","modified":1589191329711},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"a8c7f9ca7c605d039a1f3bf4e4d3183700a3dd62","modified":1589191329712},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"b25002a83cbd2ca0c4a5df87ad5bff26477c0457","modified":1589191329712},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"9e3d133ac5bcc6cb51702c83b2611a49811abad1","modified":1589191329713},{"_id":"themes/next/layout/_partials/share/baidushare.swig","hash":"d9e2d9282f9be6e04eae105964abb81e512bffed","modified":1589191329713},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"d4fbffd7fa8f2090eb32a871872665d90a885fac","modified":1589191329714},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"0a9cdd6958395fcdffc80ab60f0c6301b63664a5","modified":1589191329714},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"9b84ab576982b2c3bb0291da49143bc77fba3cc6","modified":1589191329717},{"_id":"themes/next/layout/_scripts/schemes/gemini.swig","hash":"a9a3995b9615adfb8d6b127c78c6771627bee19a","modified":1589191329718},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a9a3995b9615adfb8d6b127c78c6771627bee19a","modified":1589191329719},{"_id":"themes/next/layout/_third-party/analytics/analytics-with-widget.swig","hash":"ff947f3561b229bc528cb1837d4ca19612219411","modified":1589191329722},{"_id":"themes/next/layout/_third-party/analytics/application-insights.swig","hash":"71397a5823e8ec8aad3b68aace13150623b3e19d","modified":1589191329723},{"_id":"themes/next/layout/_third-party/analytics/baidu-analytics.swig","hash":"753d262911c27baf663fcaf199267133528656af","modified":1589191329723},{"_id":"themes/next/layout/_third-party/analytics/busuanzi-counter.swig","hash":"7b11eac3a0685fa1ab2ab6ecff60afc4f15f0d16","modified":1589191329724},{"_id":"themes/next/layout/_third-party/analytics/cnzz-analytics.swig","hash":"a10b7f19d7b5725527514622899df413a34a89db","modified":1589191329724},{"_id":"themes/next/layout/_third-party/analytics/facebook-sdk.swig","hash":"7d94845f96197d9d84a405fa5d4ede75fb81b225","modified":1589191329725},{"_id":"themes/next/layout/_third-party/analytics/firestore.swig","hash":"ccc443b22bd4f8c7ac4145664686c756395b90e0","modified":1589191329725},{"_id":"themes/next/layout/_third-party/analytics/google-analytics.swig","hash":"b1e13df83fb2b1d5d513b30b7aa6158b0837daab","modified":1589191329726},{"_id":"themes/next/layout/_third-party/analytics/index.swig","hash":"45f3f629c2aacc381095750e1c8649041a71a84b","modified":1589191329726},{"_id":"themes/next/layout/_third-party/analytics/lean-analytics.swig","hash":"e6d10ee4fb70b3ae1cd37e9e36e000306734aa2e","modified":1589191329726},{"_id":"themes/next/layout/_third-party/analytics/tencent-analytics.swig","hash":"8a399df90dadba5ad4e781445b58f4765aeb701e","modified":1589191329726},{"_id":"themes/next/layout/_third-party/analytics/tencent-mta.swig","hash":"5a8027328f060f965b3014060bebec1d7cf149c1","modified":1589191329727},{"_id":"themes/next/layout/_third-party/analytics/vkontakte-api.swig","hash":"f9a1647a8f1866deeb94052d1f87a5df99cb1e70","modified":1589191329727},{"_id":"themes/next/layout/_third-party/comments/changyan.swig","hash":"4c501ea0b9c494181eb3c607c5526a5754e7fbd8","modified":1589191329728},{"_id":"themes/next/layout/_third-party/comments/disqus.swig","hash":"b83a51bbe0f1e2ded9819070840b0ea145f003a6","modified":1589191329728},{"_id":"themes/next/layout/_third-party/comments/duoshuo.swig","hash":"1600f340e0225361580c44890568dc07dbcf2c89","modified":1589191329729},{"_id":"themes/next/layout/_third-party/comments/gitalk.swig","hash":"9c818f8f966fc7f76706e9cda2db543c12d2ae89","modified":1589191329729},{"_id":"themes/next/layout/_third-party/comments/gitment.swig","hash":"4dcc3213c033994d342d02b800b6229295433d30","modified":1589191329729},{"_id":"themes/next/layout/_third-party/comments/hypercomments.swig","hash":"af7f3e43cbdc4f88c13f101f0f341af96ace3383","modified":1589191329730},{"_id":"themes/next/layout/_third-party/comments/index.swig","hash":"75d973fc442af673a15b253379a1839df29b1a32","modified":1589191329730},{"_id":"themes/next/layout/_third-party/comments/livere.swig","hash":"9246162d4bc7e949ce1d12d135cbbaf5dc3024ec","modified":1589191329731},{"_id":"themes/next/layout/_third-party/comments/valine.swig","hash":"4050553d44ba1396174161c9a6bb0f89fa779eca","modified":1589191329731},{"_id":"themes/next/layout/_third-party/comments/youyan.swig","hash":"7e65ff8fe586cd655b0e9d1ad2912663ff9bd36c","modified":1589191329731},{"_id":"themes/next/layout/_third-party/search/index.swig","hash":"34599633658f3b0ffb487728b7766e1c7b551f5a","modified":1589191329735},{"_id":"themes/next/layout/_third-party/search/localsearch.swig","hash":"93479642fd076a1257fecc25fcf5d20ccdefe509","modified":1589191329736},{"_id":"themes/next/layout/_third-party/search/tinysou.swig","hash":"fe95dd3d166634c466e19aa756e65ad6e8254d3e","modified":1589191329736},{"_id":"themes/next/layout/_third-party/seo/baidu-push.swig","hash":"d8c98938719284fa06492c114d99a1904652a555","modified":1589191329737},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"3403fdd8efde1a0afd11ae8a5a97673f5903087f","modified":1589191329789},{"_id":"themes/next/source/css/_mixins/Gemini.styl","hash":"07f7da320689f828f6e36a6123807964a45157a0","modified":1589191329789},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"0e55cbd93852dc3f8ccb44df74d35d9918f847e0","modified":1589191329790},{"_id":"themes/next/source/css/_variables/Gemini.styl","hash":"58e7dd5947817d9fc30770712fc39b2f52230d1e","modified":1589191329800},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"a25408534f8fe6e321db4bbf9dd03335d648fe17","modified":1589191329801},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"4069f918ccc312da86db6c51205fc6c6eaabb116","modified":1589191329801},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"7896c3ee107e1a8b9108b6019f1c070600a1e8cc","modified":1589191329790},{"_id":"themes/next/source/css/_variables/base.styl","hash":"b1f6ea881a4938a54603d68282b0f8efb4d7915d","modified":1589191329802},{"_id":"themes/next/source/images/alipay.jpg","hash":"0abddda1b8657bd54adea23b9fd0cdc104b8c8d7","modified":1589191329805},{"_id":"themes/next/source/images/avatar.jpeg","hash":"b9903fab4f07532d6d07244ee41a3dc228de4d60","modified":1589191329808},{"_id":"themes/next/source/js/src/affix.js","hash":"1b509c3b5b290a6f4607f0f06461a0c33acb69b1","modified":1589191329814},{"_id":"themes/next/source/js/src/algolia-search.js","hash":"cb431b54ba9c692165a1f5a12e4c564a560f8058","modified":1589191329814},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"0289031200c3d4c2bdd801ee10fff13bb2c353e4","modified":1589191329815},{"_id":"themes/next/source/js/src/clicklove.js","hash":"5492ce36457a23ae3ed47597ff6b10aba63ace32","modified":1589191786913},{"_id":"themes/next/source/js/src/exturl.js","hash":"a2a0f0de07e46211f74942a468f42ee270aa555c","modified":1589191329815},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"b35a7dc47b634197b93487cea8671a40a9fdffce","modified":1589191329815},{"_id":"themes/next/source/js/src/js.cookie.js","hash":"1512c751d219577d338ac0780fb2bbd9075d5298","modified":1589191329816},{"_id":"themes/next/source/js/src/motion.js","hash":"885176ed51d468f662fbf0fc09611f45c7e5a3b1","modified":1589191329816},{"_id":"themes/next/source/js/src/post-details.js","hash":"93a18271b4123dd8f94f09d1439b47c3c19a8712","modified":1589191329817},{"_id":"themes/next/source/js/src/scroll-cookie.js","hash":"02cf91514e41200bc9df5d8bdbeb58575ec06074","modified":1589191329818},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"b7657be25fc52ec67c75ab5481bdcb483573338b","modified":1589191329818},{"_id":"themes/next/source/js/src/utils.js","hash":"b3e9eca64aba59403334f3fa821f100d98d40337","modified":1589191329819},{"_id":"themes/next/source/lib/canvas-nest/canvas-nest.min.js","hash":"0387e75e23b1db108a755073fe52a0d03eb391a7","modified":1589191329828},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.css","hash":"90ef19edc982645b118b095615838d9c5eaba0de","modified":1589191329824},{"_id":"themes/next/source/lib/canvas-ribbon/canvas-ribbon.js","hash":"b02737510e9b89aeed6b54f89f602a9c24b06ff2","modified":1589191329828},{"_id":"themes/next/source/lib/fastclick/.bower.json","hash":"bf3eef9d647cd7c9b62feda3bc708c6cdd7c0877","modified":1589191329835},{"_id":"themes/next/source/lib/fastclick/LICENSE","hash":"6f474ea75c42442da7bbcf2e9143ce98258efd8d","modified":1589191329835},{"_id":"themes/next/source/lib/fastclick/README.md","hash":"68a9b9d53126405b0fa5f3324f1fb96dbcc547aa","modified":1589191329836},{"_id":"themes/next/source/lib/fastclick/bower.json","hash":"a9b3ee1e4db71a0e4ea6d5bed292d176dd68b261","modified":1589191329836},{"_id":"themes/next/source/lib/font-awesome/.bower.json","hash":"b4aefc910578d76b267e86dfffdd5121c8db9aec","modified":1589191329837},{"_id":"themes/next/source/lib/font-awesome/.gitignore","hash":"03ddbf76c1dd1afb93eed0b670d2eee747472ef1","modified":1589191329837},{"_id":"themes/next/source/lib/font-awesome/.npmignore","hash":"c31ff06a740955e44edd4403902e653ccabfd4db","modified":1589191329838},{"_id":"themes/next/source/lib/font-awesome/HELP-US-OUT.txt","hash":"ee33b2798b1e714b904d663436c6b3521011d1fa","modified":1589191329838},{"_id":"themes/next/source/lib/font-awesome/bower.json","hash":"71e7183634dc1b9449f590f15ebd7201add22ca7","modified":1589191329838},{"_id":"themes/next/source/lib/jquery/.bower.json","hash":"865d6c1328ab209a4376b9d2b7a7824369565f28","modified":1589191329851},{"_id":"themes/next/source/lib/jquery_lazyload/.bower.json","hash":"90fa628f156d8045357ff11eaf32e61abacf10e8","modified":1589191329852},{"_id":"themes/next/source/lib/jquery_lazyload/CONTRIBUTING.md","hash":"4ded6fee668544778e97e38c2b211fc56c848e77","modified":1589191329853},{"_id":"themes/next/source/lib/jquery_lazyload/README.md","hash":"b930297cb98b8e1dbd5abe9bc1ed9d5935d18ce8","modified":1589191329853},{"_id":"themes/next/source/lib/jquery_lazyload/bower.json","hash":"e0acf1db27b0cc16128a59c46db1db406b5c4c58","modified":1589191329853},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.lazyload.js","hash":"f4a570908f6c89c6edfb1c74959e733eaadea4f2","modified":1589191329853},{"_id":"themes/next/source/lib/jquery_lazyload/jquery.scrollstop.js","hash":"bf773ad48a0b9aa77681a89d7569eefc0f7b7b18","modified":1589191329854},{"_id":"themes/next/source/lib/needsharebutton/font-embedded.css","hash":"14264a210bf94232d58d7599ea2ba93bfa4fb458","modified":1589191329854},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.css","hash":"e33aa8fa48b6639d8d8b937d13261597dd473b3a","modified":1589191329855},{"_id":"themes/next/source/lib/needsharebutton/needsharebutton.js","hash":"2ce5f3bf15c523b9bfc97720d8884bb22602a454","modified":1589191329855},{"_id":"themes/next/source/lib/pace/pace-theme-big-counter.min.css","hash":"5b561dc328af4c4d512e20a76fe964d113a32ba8","modified":1589191329856},{"_id":"themes/next/source/lib/pace/pace-theme-bounce.min.css","hash":"f6bdb9a785b7979dd8ec5c60e278af955ef1e585","modified":1589191329857},{"_id":"themes/next/source/lib/pace/pace-theme-center-atom.min.css","hash":"dcf79c24fe5350fb73d8038573a104e73639e9d3","modified":1589191329857},{"_id":"themes/next/source/lib/pace/pace-theme-barber-shop.min.css","hash":"ee0d51446cb4ffe1bb96bd7bc8c8e046dddfcf46","modified":1589191329856},{"_id":"themes/next/source/lib/pace/pace-theme-center-circle.min.css","hash":"a4066769c78affbfbc5e30a600e2c7862cd532e0","modified":1589191329857},{"_id":"themes/next/source/lib/pace/pace-theme-center-radar.min.css","hash":"ab7cba998bf4c03b13df342bf43647fa4f419783","modified":1589191329858},{"_id":"themes/next/source/lib/pace/pace-theme-center-simple.min.css","hash":"67f44c947548bd4d77e7590d3f59e236cbf9e98a","modified":1589191329858},{"_id":"themes/next/source/lib/pace/pace-theme-corner-indicator.min.css","hash":"b3c64c973f31884e3d8145989476707333406b9a","modified":1589191329858},{"_id":"themes/next/source/lib/pace/pace-theme-fill-left.min.css","hash":"0bec1e235a4a2cccda3f993b205424e1441a44ae","modified":1589191329858},{"_id":"themes/next/source/lib/pace/pace-theme-flash.min.css","hash":"13ace22c40312d7bbd8d9c1e50eff897a7a497d8","modified":1589191329859},{"_id":"themes/next/source/lib/pace/pace-theme-loading-bar.min.css","hash":"7ee28875dfc1230d76c537f6605766e8d4011e9f","modified":1589191329859},{"_id":"themes/next/source/lib/pace/pace-theme-mac-osx.min.css","hash":"9f2e7b51b084da407863826b25265b31150b3821","modified":1589191329859},{"_id":"themes/next/source/lib/pace/pace-theme-minimal.min.css","hash":"9cd783cceb8a191f3c8b5d81f7a430ecc3e489d3","modified":1589191329859},{"_id":"themes/next/source/lib/pace/pace.min.js","hash":"8aaa675f577d5501f5f22d5ccb07c2b76310b690","modified":1589191329860},{"_id":"themes/next/source/lib/three/canvas_lines.min.js","hash":"2d9a9f38c493fdf7c0b833bb9184b6a1645c11b2","modified":1589191329860},{"_id":"themes/next/source/lib/three/canvas_sphere.min.js","hash":"46a50b91c98b639c9a2b9265c5a1e66a5c656881","modified":1589191329861},{"_id":"themes/next/source/lib/three/three-waves.min.js","hash":"8148492dd49aa876d32bb7d5b728d3f5bf6f5074","modified":1589191329861},{"_id":"themes/next/source/lib/velocity/.bower.json","hash":"63da5e80ebb61bb66a2794d5936315ca44231f0c","modified":1589191329867},{"_id":"themes/next/source/lib/velocity/bower.json","hash":"92d92860418c4216aa59eb4cb4a556290a7ad9c3","modified":1589191329867},{"_id":"themes/next/source/lib/velocity/velocity.min.js","hash":"bf172816a9c57f9040e3d19c24e181a142daf92b","modified":1589191329870},{"_id":"themes/next/source/lib/velocity/velocity.ui.js","hash":"dbbfb50f6502f6b81dcc9fee7b31f1e812da3464","modified":1589191329870},{"_id":"themes/next/source/lib/velocity/velocity.ui.min.js","hash":"dde584994ac13dc601836e86f4cf490e418d9723","modified":1589191329870},{"_id":"themes/next/source/lib/jquery/index.js","hash":"17a740d68a1c330876c198b6a4d9319f379f3af2","modified":1589191329852},{"_id":"themes/next/layout/_third-party/search/algolia-search/dom.swig","hash":"2530de0f3125a912756f6c0e9090cd012134a4c5","modified":1589191329735},{"_id":"themes/next/layout/_third-party/search/algolia-search/assets.swig","hash":"218cc936ba3518a3591b2c9eda46bc701edf7710","modified":1589191329735},{"_id":"themes/next/source/css/_common/components/back-to-top-sidebar.styl","hash":"8f86f694c0749a18ab3ad6f6df75466ca137a4bc","modified":1589191329750},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"237d185ac62ec9877e300947fa0109c44fb8db19","modified":1589191329750},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"8b32928686c327151e13d3ab100157f9a03cd59f","modified":1589191329751},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"ff4489cd582f518bba6909a301ac1292a38b4e96","modified":1589191329751},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"7ad4081466b397e2a6204141bb7768b7c01bd93c","modified":1589191329751},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"4f2801fc4cf3f31bf2069f41db8c6ce0e3da9e39","modified":1589191329764},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"12662536c7a07fff548abe94171f34b768dd610f","modified":1589191329787},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"1da5c800d025345f212a3bf1be035060f4e5e6ed","modified":1589191329787},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"24ee4b356ff55fc6e58f26a929fa07750002cf29","modified":1589191329787},{"_id":"themes/next/source/css/_common/scaffolding/mobile.styl","hash":"91ca75492cd51f2553f4d294ed2f48239fcd55eb","modified":1589191329788},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"6eb4bcc3056bd279d000607e8b4dad50d368ca69","modified":1589191329779},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"3f40e8a9fe8e7bd5cfc4cf4cbbbcb9539462e973","modified":1589191329788},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"a17e2b871a335f290afb392a08f94fd35f59c715","modified":1589191329788},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"ea9069645696f86c5df64208490876fe150c8cae","modified":1589191329789},{"_id":"themes/next/source/css/_schemes/Gemini/index.styl","hash":"60fa84aa7731760f05f52dd7d8f79b5f74ac478d","modified":1589191329791},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"25d5e45a355ee2093f3b8b8eeac125ebf3905026","modified":1589191329792},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"d0bfd1bef988c76f7d7dd72d88af6f0908a8b0db","modified":1589191329792},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"b1025c421406d2c24cc92a02ae28c1915b01e240","modified":1589191329792},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"26666c1f472bf5f3fb9bc62081cca22b4de15ccb","modified":1589191329793},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"9c99034f8e00d47e978b3959f51eb4a9ded0fcc8","modified":1589191329793},{"_id":"themes/next/source/css/_schemes/Mist/_search.styl","hash":"09c965022c13b84ed8a661fee8ac2a6d550495ae","modified":1589191329793},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"9b913b73d31d21f057f97115ffab93cfa578b884","modified":1589191329794},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"31127dcbf4c7b4ada53ffbf1638b5fe325b7cbc0","modified":1589191329796},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"748dbfbf9c08e719ddc775958003c64b00d39dab","modified":1589191329796},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"e695e58f714129ca292c2e54cd62c251aca7f7fe","modified":1589191329796},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"09c965022c13b84ed8a661fee8ac2a6d550495ae","modified":1589191329796},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"5dbc0d0c897e46760e5dbee416530d485c747bba","modified":1589191329796},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"bce344d3a665b4c55230d2a91eac2ad16d6f32fd","modified":1589191329798},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"416988dca389e6e2fdfa51fa7f4ee07eb53f82fb","modified":1589191329798},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"4642e30010af8b2b037f5b43146b10a934941958","modified":1589191329799},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"1f6e2ce674735269599acc6d77b3ea18d31967fc","modified":1589191329799},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"ad2dcedf393ed1f3f5afd2508d24969c916d02fc","modified":1589191329799},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"86197902dfd3bededba10ba62b8f9f22e0420bde","modified":1589191329800},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"f1d0b5d7af32c423eaa8bb93ab6a0b45655645dc","modified":1589191329817},{"_id":"themes/next/source/lib/Han/dist/han.min.css","hash":"6d586bfcfb7ae48f1b12f76eec82d3ad31947501","modified":1589191329823},{"_id":"themes/next/source/lib/Han/dist/han.min.js","hash":"16b03db23a52623348f37c04544f2792032c1fb6","modified":1589191329823},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1589191329829},{"_id":"themes/next/source/lib/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1589191329829},{"_id":"themes/next/source/lib/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1589191329830},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1589191329830},{"_id":"themes/next/source/lib/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1589191329830},{"_id":"themes/next/source/lib/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1589191329831},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.css","hash":"82f33ad0842aa9c154d029e0dada2497d4eb1d57","modified":1589191329834},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.js","hash":"d71602cbca33b9ecdb7ab291b7f86a49530f3601","modified":1589191329834},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.js","hash":"1d6aeda0480d0e4cb6198edf7719d601d4ae2ccc","modified":1589191329836},{"_id":"themes/next/source/lib/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1589191329837},{"_id":"themes/next/source/lib/fancybox/source/jquery.fancybox.pack.js","hash":"ae6318aeb62ad4ce7a7e9a4cdacd93ffb004f0fb","modified":1589191329835},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css","hash":"3655f1fdf1e584c4d8e8d39026093ca306a5a341","modified":1589191329839},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.css.map","hash":"1573904b82807abbb32c97a3632c6c6808eaac50","modified":1589191329840},{"_id":"themes/next/source/lib/font-awesome/css/font-awesome.min.css","hash":"88af80502c44cd52ca81ffe7dc7276b7eccb06cf","modified":1589191329840},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.min.js","hash":"41ea797c68dbcff2f6fb3aba1d1043a22e7cc0f6","modified":1589191329866},{"_id":"themes/next/source/lib/ua-parser-js/dist/ua-parser.pack.js","hash":"a817b6c158cbc5bab3582713de9fe18a18a80552","modified":1589191329867},{"_id":"source/images/linux/cache.png","hash":"a4caf7beabb4eed210626e9266f7b2b0e27c3dd7","modified":1589265151149},{"_id":"themes/next/source/lib/Han/dist/han.css","hash":"6c26cdb36687d4f0a11dabf5290a909c3506be5c","modified":1589191329821},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1589191329850},{"_id":"themes/next/source/lib/velocity/velocity.js","hash":"4237c6e9d59da349639de20e559e87c2c0218cfd","modified":1589191329869},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"9f73c4696f0907aa451a855444f88fc0698fa472","modified":1589191329753},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"53cde051e0337f4bf42fb8d6d7a79fa3fa6d4ef2","modified":1589191329753},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d63e0cacc53dd375fcc113465a4328c59ff5f2c1","modified":1589191329754},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"1a0d059799a298fe17c49a44298d32cebde93785","modified":1589191329755},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"0656e753f182c9f47fef7304c847b7587a85ef0d","modified":1589191329755},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"1727702eac5d326b5c81a667944a245016668231","modified":1589191329756},{"_id":"themes/next/source/css/_common/components/highlight/diff.styl","hash":"167986d0f649516671ddf7193eebba7b421cd115","modified":1589191329757},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"50450d9fdc8a2b2be8cfca51e3e1a01ffd636c0b","modified":1589191329758},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"7fe4d4d656e86276c17cb4e48a560cb6a4def703","modified":1589191329759},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"b6f3a06a94a6ee5470c956663164d58eda818a64","modified":1589191329761},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"7fb593f90d74a99c21840679933b9ef6fdc16a61","modified":1589191329762},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"f9760ecf186954cee3ba4a149be334e9ba296b89","modified":1589191329763},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"4e3838d7ac81d9ad133960f0f7ed58a44a015285","modified":1589191329763},{"_id":"themes/next/source/css/_common/components/pages/schedule.styl","hash":"8cf318644acc8b4978537c263290363e21c7f5af","modified":1589191329764},{"_id":"themes/next/source/css/_common/components/post/post-button.styl","hash":"62fbbd32cf5a99ae550c45c763a2c4813a138d01","modified":1589191329765},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"875cbe88d5c7f6248990e2beb97c9828920e7e24","modified":1589191329766},{"_id":"themes/next/source/css/_common/components/post/post-copyright.styl","hash":"caf263d1928496688c0e1419801eafd7e6919ce5","modified":1589191329766},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"a200c0a1c5a895ac9dc41e0641a5dfcd766be99b","modified":1589191329767},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"a6c6eb8adba0a090ad1f4b9124e866887f20d10d","modified":1589191329767},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"cd9e214e502697f2f2db84eb721bac57a49b0fce","modified":1589191329768},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"d0d7a5c90d62b685520d2b47fea8ba6019ff5402","modified":1589191329768},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"27deb3d3a243d30022055dac7dad851024099a8b","modified":1589191329769},{"_id":"themes/next/source/css/_common/components/post/post-reward.styl","hash":"ca88ea6999a61fb905eb6e72eba5f92d4ee31e6e","modified":1589191329770},{"_id":"themes/next/source/css/_common/components/post/post-rtl.styl","hash":"b2495ae5e04dcca610aacadc47881d9e716cd440","modified":1589191329770},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"5a982d8ef3b3623ea5f59e63728990f5623c1b57","modified":1589191329771},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"ccb34c52be8adba5996c6b94f9e723bd07d34c16","modified":1589191329771},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"01567edaea6978628aa5521a122a85434c418bfd","modified":1589191329772},{"_id":"themes/next/source/css/_common/components/post/post-widgets.styl","hash":"7968343e41f8b94b318c36289dff1196c3eb1791","modified":1589191329772},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"89d6c3b697efc63de42afd2e89194b1be14152af","modified":1589191329773},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"39f04c4c7237a4e10acd3002331992b79945d241","modified":1589191329774},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"57427e0239d2da82ded80185bf6d54b630a2d1d5","modified":1589191329775},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-blogroll.styl","hash":"8dd9a1c6f4f6baa00c2cf01837e7617120cf9660","modified":1589191329776},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-daf.styl","hash":"761eba9811b050b25d548cc0854de4824b41eb08","modified":1589191329774},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-dimmer.styl","hash":"11c22f0fb3f6beb13e5a425ec064a4ff974c13b7","modified":1589191329776},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"61f8cea3c01acd600e90e1bc2a07def405503748","modified":1589191329776},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"1153bb71edf253765145559674390e16dd67c633","modified":1589191329777},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"c8fe49a4bc014c24dead05b782a7082411a4abc5","modified":1589191329778},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"a1521d48bb06d8d703753f52a198baa197af7da2","modified":1589191329778},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"5ef6343835f484a2c0770bd1eb9cc443609e4c39","modified":1589191329778},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"e71652d3216e289c8548b1ea2357822c1476a425","modified":1589191329778},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"2fe76476432b31993338cb45cdb3b29a518b6379","modified":1589191329779},{"_id":"themes/next/source/css/_common/components/tags/exturl.styl","hash":"a3bdd71237afc112b2aa255f278cab6baeb25351","modified":1589191329779},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"f825da191816eef69ea8efb498a7f756d5ebb498","modified":1589191329779},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"2ad1a2a9bbf6742d1b0762c4c623b68113d1e0fe","modified":1589191329780},{"_id":"themes/next/source/css/_common/components/tags/label.styl","hash":"2ab1322fe52ab5aafd49e68f5bd890e8380ee927","modified":1589191329780},{"_id":"themes/next/source/css/_common/components/tags/note-modern.styl","hash":"b7076e58d647265ee0ad2b461fe8ce72c9373bc5","modified":1589191329780},{"_id":"themes/next/source/css/_common/components/tags/note.styl","hash":"9a409b798decdefdaf7a23f0b11004a8c27e82f3","modified":1589191329780},{"_id":"themes/next/source/css/_common/components/tags/tabs.styl","hash":"154a87a32d2fead480d5e909c37f6c476671c5e6","modified":1589191329781},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"b80604868e4f5cf20fccafd7ee415c20c804f700","modified":1589191329782},{"_id":"themes/next/source/css/_common/components/third-party/algolia-search.styl","hash":"bba4f3bdb7517cd85376df3e1209b570c0548c69","modified":1589191329782},{"_id":"themes/next/source/css/_common/components/third-party/baidushare.styl","hash":"5dbeed535d63a50265d96b396a5440f9bb31e4ba","modified":1589191329782},{"_id":"themes/next/source/css/_common/components/third-party/busuanzi-counter.styl","hash":"a6e7d698702c2e383dde3fde2abde27951679084","modified":1589191329783},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"717cc7f82be9cc151e23a7678601ff2fd3a7fa1d","modified":1589191329783},{"_id":"themes/next/source/css/_common/components/third-party/gitment.styl","hash":"874278147115601d2abf15987f5f7a84ada1ac6b","modified":1589191329783},{"_id":"themes/next/source/css/_common/components/third-party/han.styl","hash":"10599e16414a8b7a76c4e79e6617b5fe3d4d1adf","modified":1589191329784},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"15975ba7456b96916b1dbac448a1a0d2c38b8f3d","modified":1589191329784},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"16087276945fa038f199692e3eabb1c52b8ea633","modified":1589191329785},{"_id":"themes/next/source/css/_common/components/third-party/needsharebutton.styl","hash":"28825ae15fa20ae3942cdaa7bcc1f3523ce59acc","modified":1589191329785},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"9c8196394a89dfa40b87bf0019e80144365a9c93","modified":1589191329786},{"_id":"themes/next/source/css/_schemes/Mist/outline/outline.styl","hash":"a07aa12cc36ac5c819670c2a3c17d07ed7a08986","modified":1589191329795},{"_id":"themes/next/source/css/_schemes/Mist/sidebar/sidebar-blogroll.styl","hash":"1f09be9bb38411f0629b58c3b23873589a6dbcaa","modified":1589191329795},{"_id":"themes/next/source/css/_schemes/Muse/sidebar/sidebar-blogroll.styl","hash":"1f09be9bb38411f0629b58c3b23873589a6dbcaa","modified":1589191329797},{"_id":"themes/next/source/lib/Han/dist/font/han-space.otf","hash":"07436f011b44051f61b8329c99de4bec64e86f4b","modified":1589191329820},{"_id":"themes/next/source/lib/Han/dist/font/han-space.woff","hash":"7a635062b10bf5662ae1d218ba0980171005d060","modified":1589191329820},{"_id":"themes/next/source/lib/Han/dist/font/han.otf","hash":"f1f6bb8f461f5672e000380195d3d2358a28494c","modified":1589191329820},{"_id":"themes/next/source/lib/Han/dist/font/han.woff","hash":"f38ff9b2eecaa17b50b66aa2dae87e9e7436d195","modified":1589191329820},{"_id":"themes/next/source/lib/Han/dist/font/han.woff2","hash":"623af3ed5423371ac136a4fe0e8cc7bb7396037a","modified":1589191329821},{"_id":"themes/next/source/lib/Han/dist/han.js","hash":"4ac683b2bc8531c84d98f51b86957be0e6f830f3","modified":1589191329822},{"_id":"themes/next/source/lib/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1589191329831},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"6394c48092085788a8c0ef72670b0652006231a1","modified":1589191329831},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"ee948b4489aedeb548a77c9e45d8c7c5732fd62d","modified":1589191329832},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-media.js","hash":"51139a4c79573d372a347ef01a493222a1eaf10a","modified":1589191329833},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"b88b589f5f1aa1b3d87cc7eef34c281ff749b1ae","modified":1589191329833},{"_id":"themes/next/source/lib/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"d22b1629cb23a6181bebb70d0cf653ffe4b835c8","modified":1589191329833},{"_id":"themes/next/source/lib/font-awesome/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1589191329841},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1589191329849},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1589191329843},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1589191329849},{"_id":"themes/next/source/lib/algolia-instant-search/instantsearch.min.js","hash":"90a1b22129efc172e2dfcceeeb76bff58bc3192f","modified":1589191329828},{"_id":"themes/next/source/lib/three/three.min.js","hash":"26273b1cb4914850a89529b48091dc584f2c57b8","modified":1589191329866},{"_id":"themes/next/source/lib/font-awesome/fonts/fontawesome-webfont.svg","hash":"b5483b11f8ba213e733b5b8af9927a04fec996f6","modified":1589191329846},{"_id":"public/search.xml","hash":"6f88921a69baddb204f42238761e10de3544b3b7","modified":1590373696833},{"_id":"public/atom.xml","hash":"dff5ed30fab67d2cecad53bd705e02e60d6e96b3","modified":1590373696963},{"_id":"public/sitemap.xml","hash":"918397d4c50d46f42049f0d5408c92d64295e0ac","modified":1590373696969},{"_id":"public/about/index.html","hash":"350aa452f7e1ff6dadbd84315bb63574487b25cd","modified":1590373697392},{"_id":"public/categories/index.html","hash":"2f682ccc90ddaf069739a2a4e4d9d3e675755371","modified":1590373697397},{"_id":"public/tags/index.html","hash":"88ef053a038712b6b4de4099827d183e420b0d1a","modified":1590373697397},{"_id":"public/article/3538252460.html","hash":"8a3370192b3030fa68e1e9a87b0f6dd4792d9338","modified":1590373697399},{"_id":"public/article/1243066710.html","hash":"374c4012a0fca25d40b88ae9f1a815223c6a6806","modified":1590373697399},{"_id":"public/article/1968653668.html","hash":"7b14dfcd81d52f5fd4ba7fc71220b1eef7f9a960","modified":1590373697400},{"_id":"public/article/2055195890.html","hash":"015809c4ad3c295cb66d106e20e45c51571938c0","modified":1590373697400},{"_id":"public/article/2689943165.html","hash":"4171111bb3c384fe5144442268f55be60450b1d1","modified":1590373697400},{"_id":"public/article/3859923575.html","hash":"2ee23c8f34221f495bd3ef623b311546c53359e1","modified":1590373697400},{"_id":"public/article/2361785990.html","hash":"ddc29178a97b821f43ee2610e17f1e537bd66d82","modified":1590373697400},{"_id":"public/article/3549577056.html","hash":"71e142b63321d3fae10c8be93224f180292e7168","modified":1590373697401},{"_id":"public/article/3084764285.html","hash":"d432fe7973988e2026572ccb0984aec236ede1e1","modified":1590373697401},{"_id":"public/article/1044847951.html","hash":"70e8b9b8f71ea7c98d5730751a9ae999d53db51a","modified":1590373697401},{"_id":"public/article/2230395924.html","hash":"2fcf5e3471eaa37becd12806fb7c2983589ca634","modified":1590373697402},{"_id":"public/article/3587508548.html","hash":"0f4c35af6d6e17bb70a0f8f83c2806cf574dd5c0","modified":1590373697403},{"_id":"public/article/1731984249.html","hash":"7ac1d9b39e23295454318643993b77db9967e075","modified":1590373697403},{"_id":"public/article/3226112650.html","hash":"5f435531d06b6224d39f49fc8d2c0172de9968b6","modified":1590373697403},{"_id":"public/article/3448999942.html","hash":"fb00b3dd799459b6e965558c037350f49bb2d4bf","modified":1590373697404},{"_id":"public/article/2764140538.html","hash":"0953835ac75d1227267ea3156916dd93d07a2ed1","modified":1590373697404},{"_id":"public/article/1473358207.html","hash":"0b9066c5beb66abde8fa26115e714d7f0e01d576","modified":1590373697404},{"_id":"public/article/3394448682.html","hash":"19d74a694529f256935d4859e21b362c77b5859c","modified":1590373697404},{"_id":"public/article/4148759935.html","hash":"4796b45d801cdcf74089ee2afbb9d7c4e685fefb","modified":1590373697404},{"_id":"public/article/4054922039.html","hash":"acfa42be28782cc5f7f793ca6e2466518526e13b","modified":1590373697404},{"_id":"public/article/3973852728.html","hash":"b5ed58cb02d1f12c243d3b77e5d7f086c0c66d96","modified":1590373697405},{"_id":"public/article/4030313287.html","hash":"a6e1ced9068827f597dd2a13e0375586a4bd0a49","modified":1590373697430},{"_id":"public/article/769639735.html","hash":"559741ef6e1713a0214251d4f4328e1d18dfe8b1","modified":1590373697431},{"_id":"public/article/3778876136.html","hash":"553ec61dee95328105d892335e999628b6d1fe34","modified":1590373697434},{"_id":"public/article/1904238135.html","hash":"6b9c7fe1ff266cab31db88dcabc8a476a736ad73","modified":1590373697434},{"_id":"public/article/834551784.html","hash":"de12677a234ceb30aa24e22ec164b16a1a6e3a94","modified":1590373697434},{"_id":"public/article/2063445917.html","hash":"667b13aa02bd40f6236ec439330662de530444a0","modified":1590373697434},{"_id":"public/article/3687663458.html","hash":"a5bc9b40032d0b5a74ec561c18c6b8b1f961e833","modified":1590373697435},{"_id":"public/archives/index.html","hash":"bcd2015b1192522f892a73d2bf390038549a27f9","modified":1590373697435},{"_id":"public/archives/page/2/index.html","hash":"97be04a71fca5aca0671608e04354e7f937a9dc9","modified":1590373697435},{"_id":"public/archives/page/3/index.html","hash":"35d6a52a6277832e62278e5c1343e5a9d3a59595","modified":1590373697435},{"_id":"public/archives/2019/index.html","hash":"649c45c3472bd344ceb73f958b99834573577112","modified":1590373697436},{"_id":"public/archives/2019/page/2/index.html","hash":"0763f4fa50b9526768b1efc92c03283c93be080c","modified":1590373697437},{"_id":"public/archives/2019/03/index.html","hash":"1c579366928c54cea82fbae55e1c28816a666299","modified":1590373697438},{"_id":"public/archives/2019/04/index.html","hash":"5ea574eac573679bddf67a70b594c5f3d3811d1e","modified":1590373697439},{"_id":"public/archives/2019/05/index.html","hash":"27142e66277f8832dd4637e9ecfbc0b78547c4e5","modified":1590373697440},{"_id":"public/archives/2020/index.html","hash":"ae8cd5aa8e0ec875da5a3b579d60f03b7e150c69","modified":1590373697440},{"_id":"public/archives/2020/page/2/index.html","hash":"9b807acc6a125657d1331d77e56b2a47eaf6a5cc","modified":1590373697440},{"_id":"public/archives/2020/01/index.html","hash":"820cb7a209582a63df5cd470e0a267a8c77df875","modified":1590373697441},{"_id":"public/archives/2020/04/index.html","hash":"7b7372a11b0a3cbcba2cf6311ed6939d32d5d7b1","modified":1590373697441},{"_id":"public/archives/2020/05/index.html","hash":"fc1640e21606ed44b1cc2cde74bd991990a2b9f0","modified":1590373697441},{"_id":"public/categories/centos7/index.html","hash":"0ebe7f30d0abc25466bd399cff8f932df91fa265","modified":1590373697442},{"_id":"public/categories/cuda/index.html","hash":"73fae23c70c0920f6f2934a483541c9b4d43ad74","modified":1590373697442},{"_id":"public/categories/cpp/index.html","hash":"792fb16fafd3fa80edb7716f32ab83f055e48766","modified":1590373697443},{"_id":"public/categories/ffmpeg/index.html","hash":"12aa4bd09c0fb2ce76db385684af35ad82a67113","modified":1590373697443},{"_id":"public/categories/git/index.html","hash":"56fe49ea5fa059f6524f9fa00a763b25c73a060d","modified":1590373697443},{"_id":"public/categories/grpc/index.html","hash":"7097d5e05f3cbdd3a72e99d1b9f9163ffa21e999","modified":1590373697444},{"_id":"public/categories/hexo/index.html","hash":"59ea40268f4a43dd85949f3d113c248e2f9f20f4","modified":1590373697444},{"_id":"public/categories/gcc/index.html","hash":"d31d35f1e525489a4b2f71131a57eb0597c9260f","modified":1590373697444},{"_id":"public/categories/image/index.html","hash":"1efc75baf4851eb96b10996807f738d0d01e4533","modified":1590373697445},{"_id":"public/categories/doc/index.html","hash":"1acfb49c74e37b8144d515feaa4996f34d1b003c","modified":1590373697446},{"_id":"public/categories/mysql/index.html","hash":"807a85b0432a10906ed5e9229127ff5997cec94d","modified":1590373697446},{"_id":"public/categories/opencv/index.html","hash":"1ad16b92f8ece01fc849ab16b7db2a9c31e822fd","modified":1590373697447},{"_id":"public/categories/tattle/index.html","hash":"8640cb1581530397ba0e7a26793c0f82802f038a","modified":1590373697447},{"_id":"public/categories/poco/index.html","hash":"3f3e732af54679357120355d684a5a367f238358","modified":1590373697447},{"_id":"public/categories/s3/index.html","hash":"932d0b3b6b4965320d411c5297f72936663ae8a2","modified":1590373697450},{"_id":"public/index.html","hash":"28ae5032b59e6150ce0bd950aa7a0be264783f79","modified":1590373697451},{"_id":"public/page/2/index.html","hash":"8180d0dc08339c118a9288e5f36948440e8e77cf","modified":1590373697451},{"_id":"public/page/3/index.html","hash":"5b147855e2fcde49db7a1e7aece0ccbcad560214","modified":1590373697451},{"_id":"public/tags/yum/index.html","hash":"7b60fea5f1838be8c2b19c6ed095ba46aff7e1bf","modified":1590373697451},{"_id":"public/tags/centos7/index.html","hash":"6abe3e88b3f71f99ee3bfb75401c024ed5f73bd5","modified":1590373697451},{"_id":"public/tags/nvidia/index.html","hash":"e5860d57b60d63273df762ed699a7de7983d249c","modified":1590373697452},{"_id":"public/tags/驱动/index.html","hash":"1df4ef17c050cde621bd3a17bcd571a26a7e6a97","modified":1590373697452},{"_id":"public/tags/cpp/index.html","hash":"d1f5de42cd71a1b367cfaa1a88b13c6a393f0bfc","modified":1590373697452},{"_id":"public/tags/ffmpeg/index.html","hash":"4e75e1b09b27c16a52afa1b47a9138dd666ea962","modified":1590373697452},{"_id":"public/tags/avfilter/index.html","hash":"09b096e0b0626b93297096fa84c1037b76837e07","modified":1590373697452},{"_id":"public/tags/tools/index.html","hash":"4b0d257d9b5c3e5da517dee3e5912420ef28cb72","modified":1590373697452},{"_id":"public/tags/git/index.html","hash":"247044cf277dacde44c327834ddd58c44cf74882","modified":1590373697452},{"_id":"public/tags/grpc/index.html","hash":"76328e098fa39791c82fc6ca880431ed625debb8","modified":1590373697452},{"_id":"public/tags/hexo/index.html","hash":"f835b9c18524f1143de00cb60f144150a03b8013","modified":1590373697452},{"_id":"public/tags/next/index.html","hash":"682e9643a547955e66172576fd6d17bc4f6f567a","modified":1590373697452},{"_id":"public/tags/image/index.html","hash":"946938a1baa9aed0b965480cae53b4900b6c1f2a","modified":1590373697453},{"_id":"public/tags/lib-so/index.html","hash":"c3f1016f767a1590b09f4dc2db5d300b55255b16","modified":1590373697453},{"_id":"public/tags/pdf/index.html","hash":"1dfd77c6fb3a2a1cd29c7de6ef1c882b2135e3da","modified":1590373697453},{"_id":"public/tags/mysql/index.html","hash":"31f7a7a16bc78879116dcb1b5435daf1e80c137e","modified":1590373697453},{"_id":"public/tags/s3/index.html","hash":"467650c620ea39103c79a8b64cc734799f5e980c","modified":1590373697453},{"_id":"public/article/2127593710.html","hash":"1d8299b283c15bdbd2eaec341044a159b632097f","modified":1590373697464},{"_id":"public/tags/gulp/index.html","hash":"fc8c5643d62927b3316f427e3aeb338d691b7ae1","modified":1590373697464},{"_id":"public/live2dw/assets/hijiki.model.json","hash":"feff43bf7498d213982c3736c2c029664e4bcbd2","modified":1590373697473},{"_id":"public/live2dw/assets/hijiki.pose.json","hash":"81438bf69b32c7c11e311b4fe043730cdc7b7ec2","modified":1590373697474},{"_id":"public/live2dw/assets/mtn/00_idle.mtn","hash":"b224c60e463b9f71ddbfc0c720e430496c175f4f","modified":1590373697475},{"_id":"public/live2dw/assets/mtn/01.mtn","hash":"fb550833ae22c9954c3e01df37ed29b2d61700f2","modified":1590373697476},{"_id":"public/live2dw/assets/mtn/02.mtn","hash":"7eafc52edc73b7cb80ae70d34b43c6ac778fa47b","modified":1590373697476},{"_id":"public/live2dw/assets/mtn/03.mtn","hash":"f900737c7a98441cbb2e05255427e6260e19ae68","modified":1590373697477},{"_id":"public/live2dw/assets/mtn/04.mtn","hash":"c7a25d3c5d783639bae18db2f3cd284b819c3c85","modified":1590373697477},{"_id":"public/live2dw/assets/mtn/05.mtn","hash":"dd20ad24b5d1830a5d44b9bccb28f922eea5e0e5","modified":1590373697477},{"_id":"public/live2dw/assets/mtn/06.mtn","hash":"ad404bd852d276cdd3d054c953e23f90e4e45ae1","modified":1590373697478},{"_id":"public/live2dw/assets/mtn/07.mtn","hash":"b7f2e3a9fa4f3ffbb6e64a08f8d9f45ca1868ffb","modified":1590373697478},{"_id":"public/live2dw/assets/mtn/08.mtn","hash":"4411c7651ff65195b113d95e7d5ebef8a59a37d9","modified":1590373697479},{"_id":"public/live2dw/lib/L2Dwidget.min.js","hash":"5f1a807437cc723bcadc3791d37add5ceed566a2","modified":1590373697480},{"_id":"public/live2dw/lib/L2Dwidget.min.js.map","hash":"3290fe2df45f065b51a1cd7b24ec325cbf9bb5ce","modified":1590373697517},{"_id":"public/live2dw/lib/L2Dwidget.0.min.js","hash":"35bb5b588b6de25c9be2dd51d3fd331feafac02d","modified":1590373697517},{"_id":"public/live2dw/assets/moc/hijiki.moc","hash":"44289e62545a7046e0f5231103a851750b78524e","modified":1590373697530},{"_id":"public/live2dw/assets/moc/hijiki.2048/texture_00.png","hash":"66464e0d96439695b5542c5e2f5be60739c29999","modified":1590373697530},{"_id":"public/live2dw/lib/L2Dwidget.0.min.js.map","hash":"35e71cc2a130199efb167b9a06939576602f0d75","modified":1590373697538}],"Category":[{"name":"centos7","_id":"ckalvcnid0004ggqg1bxd61go"},{"name":"cuda","_id":"ckalvcnk5000mggqgz5b6b6jm"},{"name":"cpp","_id":"ckalvcnke000tggqgs33iht5f"},{"name":"ffmpeg","_id":"ckalvcnku000yggqgkdav2h6y"},{"name":"gcc","_id":"ckalvcnlu0019ggqgdlodv7av"},{"name":"git","_id":"ckalvcnmg001hggqg18mk7e1x"},{"name":"grpc","_id":"ckalvcnn9001sggqg4nbu3emc"},{"name":"hexo","_id":"ckalvcnnt0021ggqgje477b6i"},{"name":"图片处理","_id":"ckalvcnpd002gggqg2j2yftky"},{"name":"doc","_id":"ckalvcnpy002sggqgn3rbt1xh"},{"name":"mysql","_id":"ckalvcnqf002xggqglwd3j4t0"},{"name":"opencv","_id":"ckalvcnqn0031ggqg0omzsz3g"},{"name":"杂谈","_id":"ckalvcnqs0036ggqgzfukrrwd"},{"name":"poco","_id":"ckalvcnr1003aggqglnss4zg4"},{"name":"s3对象存储","_id":"ckalvcnr4003dggqgy4qeprve"}],"Data":[],"Page":[{"title":"about","date":"2019-03-15T09:06:51.000Z","_content":"","source":"about/index.md","raw":"---\ntitle: about\ndate: 2019-03-15 17:06:51\n---\n","updated":"2020-05-11T10:02:09.563Z","path":"about/index.html","comments":1,"layout":"page","_id":"ckalvcnhg0001ggqgevgdr4sw","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"categories","date":"2019-03-15T09:05:29.000Z","type":"categories","comments":0,"_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2019-03-15 17:05:29\ntype: categories\ncomments: false\n---\n","updated":"2020-05-11T10:02:09.563Z","path":"categories/index.html","layout":"page","_id":"ckalvcni50003ggqgwoyso30x","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tags","date":"2019-03-15T09:04:49.000Z","type":"tags","comments":0,"_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2019-03-15 17:04:49\ntype: tags\ncomments: false\n---\n","updated":"2020-05-11T10:02:09.591Z","path":"tags/index.html","layout":"page","_id":"ckalvcnit0007ggqgguq2bv7h","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"centos7-163yum源下载","abbrlink":2361785990,"date":"2020-05-06T03:14:01.000Z","_content":"\n\n\n我们在centos7上下载东西的时候，有时候自带的源里面没有我们需要的软件，所有我们需要更换源来进行下载\n\n\n\n### 一，下载repo文件\n\n~~~\nwget http://mirrors.163.com/.help/CentOS7-Base-163.repo\n~~~\n\n\n\n### 二，备份并且替代系统的repo文件\n\n~~~\ncp  CentOS7-Base-163.repo  /etc/yum.repos.d/ \n\ncd /etc/yum.repos.d/ \n\nmv CentOS-Base.repo CentOS-Base.repo.bak \n\nmv CentOS7-Base-163.repo CentOS-Base.repo\n~~~\n\n\n\n### 三，执行yum源更新命令\n\n~~~\nyum clean all \n\nyum makecache \n\nyum update\n~~~\n\n\n\n","source":"_posts/centos7-163yum源下载.md","raw":"---\ntitle: centos7-163yum源下载\ncategories: centos7\ntags: yum\nabbrlink: 2361785990\ndate: 2020-05-06 11:14:01\n---\n\n\n\n我们在centos7上下载东西的时候，有时候自带的源里面没有我们需要的软件，所有我们需要更换源来进行下载\n\n\n\n### 一，下载repo文件\n\n~~~\nwget http://mirrors.163.com/.help/CentOS7-Base-163.repo\n~~~\n\n\n\n### 二，备份并且替代系统的repo文件\n\n~~~\ncp  CentOS7-Base-163.repo  /etc/yum.repos.d/ \n\ncd /etc/yum.repos.d/ \n\nmv CentOS-Base.repo CentOS-Base.repo.bak \n\nmv CentOS7-Base-163.repo CentOS-Base.repo\n~~~\n\n\n\n### 三，执行yum源更新命令\n\n~~~\nyum clean all \n\nyum makecache \n\nyum update\n~~~\n\n\n\n","slug":"centos7-163yum源下载","published":1,"updated":"2020-05-18T02:14:13.387Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcngx0000ggqghkppzkzz","content":"<p>我们在centos7上下载东西的时候，有时候自带的源里面没有我们需要的软件，所有我们需要更换源来进行下载</p>\n<h3 id=\"一，下载repo文件\"><a href=\"#一，下载repo文件\" class=\"headerlink\" title=\"一，下载repo文件\"></a>一，下载repo文件</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget http://mirrors.163.com/.help/CentOS7-Base-163.repo</span><br></pre></td></tr></table></figure>\n<h3 id=\"二，备份并且替代系统的repo文件\"><a href=\"#二，备份并且替代系统的repo文件\" class=\"headerlink\" title=\"二，备份并且替代系统的repo文件\"></a>二，备份并且替代系统的repo文件</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp  CentOS7-Base-163.repo  /etc/yum.repos.d/ </span><br><span class=\"line\"></span><br><span class=\"line\">cd /etc/yum.repos.d/ </span><br><span class=\"line\"></span><br><span class=\"line\">mv CentOS-Base.repo CentOS-Base.repo.bak </span><br><span class=\"line\"></span><br><span class=\"line\">mv CentOS7-Base-163.repo CentOS-Base.repo</span><br></pre></td></tr></table></figure>\n<h3 id=\"三，执行yum源更新命令\"><a href=\"#三，执行yum源更新命令\" class=\"headerlink\" title=\"三，执行yum源更新命令\"></a>三，执行yum源更新命令</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum clean all </span><br><span class=\"line\"></span><br><span class=\"line\">yum makecache </span><br><span class=\"line\"></span><br><span class=\"line\">yum update</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>我们在centos7上下载东西的时候，有时候自带的源里面没有我们需要的软件，所有我们需要更换源来进行下载</p>\n<h3 id=\"一，下载repo文件\"><a href=\"#一，下载repo文件\" class=\"headerlink\" title=\"一，下载repo文件\"></a>一，下载repo文件</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget http://mirrors.163.com/.help/CentOS7-Base-163.repo</span><br></pre></td></tr></table></figure>\n<h3 id=\"二，备份并且替代系统的repo文件\"><a href=\"#二，备份并且替代系统的repo文件\" class=\"headerlink\" title=\"二，备份并且替代系统的repo文件\"></a>二，备份并且替代系统的repo文件</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp  CentOS7-Base-163.repo  /etc/yum.repos.d/ </span><br><span class=\"line\"></span><br><span class=\"line\">cd /etc/yum.repos.d/ </span><br><span class=\"line\"></span><br><span class=\"line\">mv CentOS-Base.repo CentOS-Base.repo.bak </span><br><span class=\"line\"></span><br><span class=\"line\">mv CentOS7-Base-163.repo CentOS-Base.repo</span><br></pre></td></tr></table></figure>\n<h3 id=\"三，执行yum源更新命令\"><a href=\"#三，执行yum源更新命令\" class=\"headerlink\" title=\"三，执行yum源更新命令\"></a>三，执行yum源更新命令</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum clean all </span><br><span class=\"line\"></span><br><span class=\"line\">yum makecache </span><br><span class=\"line\"></span><br><span class=\"line\">yum update</span><br></pre></td></tr></table></figure>\n"},{"title":"centos7-epel源下载","abbrlink":3859923575,"date":"2020-05-06T03:20:01.000Z","_content":"\n\n\n### 一，什么是epel\n\n**EPEL的全称叫 Extra Packages for Enterprise Linux** 。EPEL是由 Fedora 社区打造，为 RHEL 及衍生发行版如 CentOS、Scientific Linux 等提供高质量软件包的项目。装上了 EPEL之后，就相当于添加了一个第三方源。\n\n如果你知道rpmfusion.org的话，拿 rpmfusion 做比较还是很恰当的，rpmfusion 主要为桌面发行版提供大量rpm包，而***EPEL则为服务器版本提供大量的rpm包，而且大多数rpm包在官方 repository 中是找不到的\\***\n\n另外一个特点是**绝大多数rpm包要比官方repository 的rpm包版本要来得新**。所以，我们有时候在yum下载的时候如果没有找到某个包或者版本过低，可以使用这个方式来尝试。\n\n\n\n### 二，yum下载\n\n~~~\nyum install -y epel-release\n~~~\n\n","source":"_posts/centos7-epel源下载.md","raw":"---\ntitle: centos7-epel源下载\ncategories: centos7\ntags: yum\nabbrlink: 3859923575\ndate: 2020-05-06 11:20:01\n---\n\n\n\n### 一，什么是epel\n\n**EPEL的全称叫 Extra Packages for Enterprise Linux** 。EPEL是由 Fedora 社区打造，为 RHEL 及衍生发行版如 CentOS、Scientific Linux 等提供高质量软件包的项目。装上了 EPEL之后，就相当于添加了一个第三方源。\n\n如果你知道rpmfusion.org的话，拿 rpmfusion 做比较还是很恰当的，rpmfusion 主要为桌面发行版提供大量rpm包，而***EPEL则为服务器版本提供大量的rpm包，而且大多数rpm包在官方 repository 中是找不到的\\***\n\n另外一个特点是**绝大多数rpm包要比官方repository 的rpm包版本要来得新**。所以，我们有时候在yum下载的时候如果没有找到某个包或者版本过低，可以使用这个方式来尝试。\n\n\n\n### 二，yum下载\n\n~~~\nyum install -y epel-release\n~~~\n\n","slug":"centos7-epel源下载","published":1,"updated":"2020-05-18T02:16:12.150Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnhi0002ggqgbin739bc","content":"<h3 id=\"一，什么是epel\"><a href=\"#一，什么是epel\" class=\"headerlink\" title=\"一，什么是epel\"></a>一，什么是epel</h3><p><strong>EPEL的全称叫 Extra Packages for Enterprise Linux</strong> 。EPEL是由 Fedora 社区打造，为 RHEL 及衍生发行版如 CentOS、Scientific Linux 等提供高质量软件包的项目。装上了 EPEL之后，就相当于添加了一个第三方源。</p>\n<p>如果你知道rpmfusion.org的话，拿 rpmfusion 做比较还是很恰当的，rpmfusion 主要为桌面发行版提供大量rpm包，而<strong><em>EPEL则为服务器版本提供大量的rpm包，而且大多数rpm包在官方 repository 中是找不到的\\</em></strong></p>\n<p>另外一个特点是<strong>绝大多数rpm包要比官方repository 的rpm包版本要来得新</strong>。所以，我们有时候在yum下载的时候如果没有找到某个包或者版本过低，可以使用这个方式来尝试。</p>\n<h3 id=\"二，yum下载\"><a href=\"#二，yum下载\" class=\"headerlink\" title=\"二，yum下载\"></a>二，yum下载</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y epel-release</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"一，什么是epel\"><a href=\"#一，什么是epel\" class=\"headerlink\" title=\"一，什么是epel\"></a>一，什么是epel</h3><p><strong>EPEL的全称叫 Extra Packages for Enterprise Linux</strong> 。EPEL是由 Fedora 社区打造，为 RHEL 及衍生发行版如 CentOS、Scientific Linux 等提供高质量软件包的项目。装上了 EPEL之后，就相当于添加了一个第三方源。</p>\n<p>如果你知道rpmfusion.org的话，拿 rpmfusion 做比较还是很恰当的，rpmfusion 主要为桌面发行版提供大量rpm包，而<strong><em>EPEL则为服务器版本提供大量的rpm包，而且大多数rpm包在官方 repository 中是找不到的\\</em></strong></p>\n<p>另外一个特点是<strong>绝大多数rpm包要比官方repository 的rpm包版本要来得新</strong>。所以，我们有时候在yum下载的时候如果没有找到某个包或者版本过低，可以使用这个方式来尝试。</p>\n<h3 id=\"二，yum下载\"><a href=\"#二，yum下载\" class=\"headerlink\" title=\"二，yum下载\"></a>二，yum下载</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y epel-release</span><br></pre></td></tr></table></figure>\n"},{"title":"centos7-常用的命令","abbrlink":2689943165,"date":"2020-05-06T06:52:04.000Z","_content":"\n记录一下自己常用的centos7上的命令行\n\n### mount挂载\n\n~~~\n虚拟机和主机共享目录\nmount -t cifs //192.168.30.97/code /mnt -o username=Administrator,password=Helios\n\n/code 是主机上的目录，需要设置为共享的\nusername 为主机的用户名\npassword 是主机的密码\n/mnt 是虚拟机上的目录\n\n卸载：\numount /mnt\n卸载失败可以重启服务器\n~~~\n\n\n\n### nohup常驻服务\n\n~~~\nlinux平台上，要在后台运行脚本的话，一般是在命令之后加上&即可。\n常驻服务的运行，退出终端也可以的命令行\nnohup\n具体方法\nnohup ./videotool &\n\n~~~\n\n\n\n### 查看系统的状态的命令\n\n##### 查看内存\n\n~~~\nfree -h\n~~~\n\n##### 查看磁盘使用\n\n~~~\ndf -h \n~~~\n\n##### 查看文件大小\n\n~~~\ndu -sh 11.mkv\n~~~\n\n\n\n### 复制\n\n~~~\ncp  -rfd   ./oldname  ./newname\n-r 复制目录\n-f 强制复制\n-d 复制软连接\n\n忽略冲突复制\n\\cp  -rfd   ./oldname  ./newname \n~~~\n\n\n\n### 定时任务\n\n~~~\n基本格式：\n* * * * * command  \n含义：\n分 时 天 月 周  \n使用*/n 表示此字段上每隔n执行一次，同时注意如果低时间使用了，会覆盖高时间的*/n,不要同时使用某一天与一周的某一天，如果这个两个相等，则会执行两次\n~~~\n\n##### 添加\n\n~~~\ncrontab -e\n~~~\n\n##### 查看\n\n~~~\ncrontab -l\n~~~\n\n##### 删除\n\n~~~\ncrontab -r  这个表示删除所有的定时任务，如果需要删除单个，则使用crontab -e 进行编辑，然后删除某一行\n~~~\n\n### 获取服务运行时使用的内存\n\n![cache.png](/images/linux/cache.png)\n\n\n\n### 控制进程使用cpu数目\n\n##### 获取进程id\n\n~~~\npgrep  -f   servername\n\npidof   servername\n~~~\n\n##### 设置CPU使用\n\n~~~\n注意： 默认情况下，taskset不会影响进程的所有线程（LWP）。使用任务集的“-a”选项来影响流程中的所有线程\n\n一般可以这样设置：   taskset   -apc  0   8991     (这个目前最有效）\n~~~\n\n\n\n","source":"_posts/centos7-常用的命令.md","raw":"---\ntitle: centos7-常用的命令\ncategories: centos7\nabbrlink: 2689943165\ndate: 2020-05-06 14:52:04\ntags: \n- centos7\n---\n\n记录一下自己常用的centos7上的命令行\n\n### mount挂载\n\n~~~\n虚拟机和主机共享目录\nmount -t cifs //192.168.30.97/code /mnt -o username=Administrator,password=Helios\n\n/code 是主机上的目录，需要设置为共享的\nusername 为主机的用户名\npassword 是主机的密码\n/mnt 是虚拟机上的目录\n\n卸载：\numount /mnt\n卸载失败可以重启服务器\n~~~\n\n\n\n### nohup常驻服务\n\n~~~\nlinux平台上，要在后台运行脚本的话，一般是在命令之后加上&即可。\n常驻服务的运行，退出终端也可以的命令行\nnohup\n具体方法\nnohup ./videotool &\n\n~~~\n\n\n\n### 查看系统的状态的命令\n\n##### 查看内存\n\n~~~\nfree -h\n~~~\n\n##### 查看磁盘使用\n\n~~~\ndf -h \n~~~\n\n##### 查看文件大小\n\n~~~\ndu -sh 11.mkv\n~~~\n\n\n\n### 复制\n\n~~~\ncp  -rfd   ./oldname  ./newname\n-r 复制目录\n-f 强制复制\n-d 复制软连接\n\n忽略冲突复制\n\\cp  -rfd   ./oldname  ./newname \n~~~\n\n\n\n### 定时任务\n\n~~~\n基本格式：\n* * * * * command  \n含义：\n分 时 天 月 周  \n使用*/n 表示此字段上每隔n执行一次，同时注意如果低时间使用了，会覆盖高时间的*/n,不要同时使用某一天与一周的某一天，如果这个两个相等，则会执行两次\n~~~\n\n##### 添加\n\n~~~\ncrontab -e\n~~~\n\n##### 查看\n\n~~~\ncrontab -l\n~~~\n\n##### 删除\n\n~~~\ncrontab -r  这个表示删除所有的定时任务，如果需要删除单个，则使用crontab -e 进行编辑，然后删除某一行\n~~~\n\n### 获取服务运行时使用的内存\n\n![cache.png](/images/linux/cache.png)\n\n\n\n### 控制进程使用cpu数目\n\n##### 获取进程id\n\n~~~\npgrep  -f   servername\n\npidof   servername\n~~~\n\n##### 设置CPU使用\n\n~~~\n注意： 默认情况下，taskset不会影响进程的所有线程（LWP）。使用任务集的“-a”选项来影响流程中的所有线程\n\n一般可以这样设置：   taskset   -apc  0   8991     (这个目前最有效）\n~~~\n\n\n\n","slug":"centos7-常用的命令","published":1,"updated":"2020-05-18T02:10:07.895Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcniq0006ggqg71krvqml","content":"<p>记录一下自己常用的centos7上的命令行</p>\n<h3 id=\"mount挂载\"><a href=\"#mount挂载\" class=\"headerlink\" title=\"mount挂载\"></a>mount挂载</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">虚拟机和主机共享目录</span><br><span class=\"line\">mount -t cifs //192.168.30.97/code /mnt -o username=Administrator,password=Helios</span><br><span class=\"line\"></span><br><span class=\"line\">/code 是主机上的目录，需要设置为共享的</span><br><span class=\"line\">username 为主机的用户名</span><br><span class=\"line\">password 是主机的密码</span><br><span class=\"line\">/mnt 是虚拟机上的目录</span><br><span class=\"line\"></span><br><span class=\"line\">卸载：</span><br><span class=\"line\">umount /mnt</span><br><span class=\"line\">卸载失败可以重启服务器</span><br></pre></td></tr></table></figure>\n<h3 id=\"nohup常驻服务\"><a href=\"#nohup常驻服务\" class=\"headerlink\" title=\"nohup常驻服务\"></a>nohup常驻服务</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">linux平台上，要在后台运行脚本的话，一般是在命令之后加上&amp;即可。</span><br><span class=\"line\">常驻服务的运行，退出终端也可以的命令行</span><br><span class=\"line\">nohup</span><br><span class=\"line\">具体方法</span><br><span class=\"line\">nohup ./videotool &amp;</span><br></pre></td></tr></table></figure>\n<h3 id=\"查看系统的状态的命令\"><a href=\"#查看系统的状态的命令\" class=\"headerlink\" title=\"查看系统的状态的命令\"></a>查看系统的状态的命令</h3><h5 id=\"查看内存\"><a href=\"#查看内存\" class=\"headerlink\" title=\"查看内存\"></a>查看内存</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">free -h</span><br></pre></td></tr></table></figure>\n<h5 id=\"查看磁盘使用\"><a href=\"#查看磁盘使用\" class=\"headerlink\" title=\"查看磁盘使用\"></a>查看磁盘使用</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df -h</span><br></pre></td></tr></table></figure>\n<h5 id=\"查看文件大小\"><a href=\"#查看文件大小\" class=\"headerlink\" title=\"查看文件大小\"></a>查看文件大小</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">du -sh 11.mkv</span><br></pre></td></tr></table></figure>\n<h3 id=\"复制\"><a href=\"#复制\" class=\"headerlink\" title=\"复制\"></a>复制</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp  -rfd   ./oldname  ./newname</span><br><span class=\"line\">-r 复制目录</span><br><span class=\"line\">-f 强制复制</span><br><span class=\"line\">-d 复制软连接</span><br><span class=\"line\"></span><br><span class=\"line\">忽略冲突复制</span><br><span class=\"line\">\\cp  -rfd   ./oldname  ./newname</span><br></pre></td></tr></table></figure>\n<h3 id=\"定时任务\"><a href=\"#定时任务\" class=\"headerlink\" title=\"定时任务\"></a>定时任务</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">基本格式：</span><br><span class=\"line\">* * * * * command  </span><br><span class=\"line\">含义：</span><br><span class=\"line\">分 时 天 月 周  </span><br><span class=\"line\">使用*/n 表示此字段上每隔n执行一次，同时注意如果低时间使用了，会覆盖高时间的*/n,不要同时使用某一天与一周的某一天，如果这个两个相等，则会执行两次</span><br></pre></td></tr></table></figure>\n<h5 id=\"添加\"><a href=\"#添加\" class=\"headerlink\" title=\"添加\"></a>添加</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">crontab -e</span><br></pre></td></tr></table></figure>\n<h5 id=\"查看\"><a href=\"#查看\" class=\"headerlink\" title=\"查看\"></a>查看</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">crontab -l</span><br></pre></td></tr></table></figure>\n<h5 id=\"删除\"><a href=\"#删除\" class=\"headerlink\" title=\"删除\"></a>删除</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">crontab -r  这个表示删除所有的定时任务，如果需要删除单个，则使用crontab -e 进行编辑，然后删除某一行</span><br></pre></td></tr></table></figure>\n<h3 id=\"获取服务运行时使用的内存\"><a href=\"#获取服务运行时使用的内存\" class=\"headerlink\" title=\"获取服务运行时使用的内存\"></a>获取服务运行时使用的内存</h3><p><img src=\"/images/linux/cache.png\" alt=\"cache.png\"></p>\n<h3 id=\"控制进程使用cpu数目\"><a href=\"#控制进程使用cpu数目\" class=\"headerlink\" title=\"控制进程使用cpu数目\"></a>控制进程使用cpu数目</h3><h5 id=\"获取进程id\"><a href=\"#获取进程id\" class=\"headerlink\" title=\"获取进程id\"></a>获取进程id</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pgrep  -f   servername</span><br><span class=\"line\"></span><br><span class=\"line\">pidof   servername</span><br></pre></td></tr></table></figure>\n<h5 id=\"设置CPU使用\"><a href=\"#设置CPU使用\" class=\"headerlink\" title=\"设置CPU使用\"></a>设置CPU使用</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">注意： 默认情况下，taskset不会影响进程的所有线程（LWP）。使用任务集的“-a”选项来影响流程中的所有线程</span><br><span class=\"line\"></span><br><span class=\"line\">一般可以这样设置：   taskset   -apc  0   8991     (这个目前最有效）</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>记录一下自己常用的centos7上的命令行</p>\n<h3 id=\"mount挂载\"><a href=\"#mount挂载\" class=\"headerlink\" title=\"mount挂载\"></a>mount挂载</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">虚拟机和主机共享目录</span><br><span class=\"line\">mount -t cifs //192.168.30.97/code /mnt -o username=Administrator,password=Helios</span><br><span class=\"line\"></span><br><span class=\"line\">/code 是主机上的目录，需要设置为共享的</span><br><span class=\"line\">username 为主机的用户名</span><br><span class=\"line\">password 是主机的密码</span><br><span class=\"line\">/mnt 是虚拟机上的目录</span><br><span class=\"line\"></span><br><span class=\"line\">卸载：</span><br><span class=\"line\">umount /mnt</span><br><span class=\"line\">卸载失败可以重启服务器</span><br></pre></td></tr></table></figure>\n<h3 id=\"nohup常驻服务\"><a href=\"#nohup常驻服务\" class=\"headerlink\" title=\"nohup常驻服务\"></a>nohup常驻服务</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">linux平台上，要在后台运行脚本的话，一般是在命令之后加上&amp;即可。</span><br><span class=\"line\">常驻服务的运行，退出终端也可以的命令行</span><br><span class=\"line\">nohup</span><br><span class=\"line\">具体方法</span><br><span class=\"line\">nohup ./videotool &amp;</span><br></pre></td></tr></table></figure>\n<h3 id=\"查看系统的状态的命令\"><a href=\"#查看系统的状态的命令\" class=\"headerlink\" title=\"查看系统的状态的命令\"></a>查看系统的状态的命令</h3><h5 id=\"查看内存\"><a href=\"#查看内存\" class=\"headerlink\" title=\"查看内存\"></a>查看内存</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">free -h</span><br></pre></td></tr></table></figure>\n<h5 id=\"查看磁盘使用\"><a href=\"#查看磁盘使用\" class=\"headerlink\" title=\"查看磁盘使用\"></a>查看磁盘使用</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df -h</span><br></pre></td></tr></table></figure>\n<h5 id=\"查看文件大小\"><a href=\"#查看文件大小\" class=\"headerlink\" title=\"查看文件大小\"></a>查看文件大小</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">du -sh 11.mkv</span><br></pre></td></tr></table></figure>\n<h3 id=\"复制\"><a href=\"#复制\" class=\"headerlink\" title=\"复制\"></a>复制</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cp  -rfd   ./oldname  ./newname</span><br><span class=\"line\">-r 复制目录</span><br><span class=\"line\">-f 强制复制</span><br><span class=\"line\">-d 复制软连接</span><br><span class=\"line\"></span><br><span class=\"line\">忽略冲突复制</span><br><span class=\"line\">\\cp  -rfd   ./oldname  ./newname</span><br></pre></td></tr></table></figure>\n<h3 id=\"定时任务\"><a href=\"#定时任务\" class=\"headerlink\" title=\"定时任务\"></a>定时任务</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">基本格式：</span><br><span class=\"line\">* * * * * command  </span><br><span class=\"line\">含义：</span><br><span class=\"line\">分 时 天 月 周  </span><br><span class=\"line\">使用*/n 表示此字段上每隔n执行一次，同时注意如果低时间使用了，会覆盖高时间的*/n,不要同时使用某一天与一周的某一天，如果这个两个相等，则会执行两次</span><br></pre></td></tr></table></figure>\n<h5 id=\"添加\"><a href=\"#添加\" class=\"headerlink\" title=\"添加\"></a>添加</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">crontab -e</span><br></pre></td></tr></table></figure>\n<h5 id=\"查看\"><a href=\"#查看\" class=\"headerlink\" title=\"查看\"></a>查看</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">crontab -l</span><br></pre></td></tr></table></figure>\n<h5 id=\"删除\"><a href=\"#删除\" class=\"headerlink\" title=\"删除\"></a>删除</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">crontab -r  这个表示删除所有的定时任务，如果需要删除单个，则使用crontab -e 进行编辑，然后删除某一行</span><br></pre></td></tr></table></figure>\n<h3 id=\"获取服务运行时使用的内存\"><a href=\"#获取服务运行时使用的内存\" class=\"headerlink\" title=\"获取服务运行时使用的内存\"></a>获取服务运行时使用的内存</h3><p><img src=\"/images/linux/cache.png\" alt=\"cache.png\"></p>\n<h3 id=\"控制进程使用cpu数目\"><a href=\"#控制进程使用cpu数目\" class=\"headerlink\" title=\"控制进程使用cpu数目\"></a>控制进程使用cpu数目</h3><h5 id=\"获取进程id\"><a href=\"#获取进程id\" class=\"headerlink\" title=\"获取进程id\"></a>获取进程id</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pgrep  -f   servername</span><br><span class=\"line\"></span><br><span class=\"line\">pidof   servername</span><br></pre></td></tr></table></figure>\n<h5 id=\"设置CPU使用\"><a href=\"#设置CPU使用\" class=\"headerlink\" title=\"设置CPU使用\"></a>设置CPU使用</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">注意： 默认情况下，taskset不会影响进程的所有线程（LWP）。使用任务集的“-a”选项来影响流程中的所有线程</span><br><span class=\"line\"></span><br><span class=\"line\">一般可以这样设置：   taskset   -apc  0   8991     (这个目前最有效）</span><br></pre></td></tr></table></figure>\n"},{"title":"centos7-控制系统的CPU","abbrlink":3687663458,"date":"2019-03-15T08:26:01.000Z","_content":"\n这里是linux的学习基地，我们可以学习一些linux的常用知识\n","source":"_posts/centos7-控制系统的CPU.md","raw":"---\ntitle: centos7-控制系统的CPU\ncategories: centos7\nabbrlink: 3687663458\ndate: 2019-03-15 16:26:01\ntags:\n---\n\n这里是linux的学习基地，我们可以学习一些linux的常用知识\n","slug":"centos7-控制系统的CPU","published":1,"updated":"2020-05-11T10:02:09.556Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcniy0008ggqg26m3d4q4","content":"<p>这里是linux的学习基地，我们可以学习一些linux的常用知识</p>\n","site":{"data":{}},"excerpt":"","more":"<p>这里是linux的学习基地，我们可以学习一些linux的常用知识</p>\n"},{"title":"cuda-cuda10.0安装","abbrlink":2055195890,"date":"2020-05-07T02:48:26.000Z","_content":"\n​\t\t在转码的过程中，我们可以使用硬件来进行转码的加速，今天记录一下在Centos7环境下安装驱动以及cuda模块。\n\n### 下载驱动\n\n`如果打算安装CUDA10.0及以上的版本则不需要单独安装驱动，cuda10.0自带驱动驱动`**忽略该驱动的安装**\n\n[驱动下载地址](https://www.nvidia.cn/Download/Find.aspx?lang=cn&QNF=1)\n\n例如我们下载Quadro P2000 linux64的驱动\n\n![图片1.png](/images/cuda/图片1.png)\n\n![图片2.png](/images/cuda/图片2.png)\n\n之所以安装这个驱动是因为要安装的cuda10.0也是410的，之后运行安装驱动程序就好了。\n\n\n\n### 安装cuda10.0\n\n##### 1，下载安装包\n\n​\t[安装包下载](https://developer.nvidia.com/cuda-downloads?target_os=Linux&target_arch=x86_64&target_distro=CentOS&target_version=7&target_type=runfilelocal)\t在该网站上下载安装包\n\n![图片3.png](/images/cuda/图片3.png)\n\n##### 2，版本选择\n\n~~~\n通过以下按钮选择历史版本的cuda，找到10.0下载，然后选择对应的系统\n~~~\n\n![图片4.png](/images/cuda/图片4.png)\n\n##### 3，运行.run文件\n\n~~~\n下载完安装包放在linux上直接运行.run文件\n\nchmod +x cuda_10.0.130_410.48_linux.run \n./cuda_10.0.130_410.48_linux.run\n~~~\n\n##### 4，然后一直按回车键直到：\n\n![图片5.png](/images/cuda/图片5.png)\n\n~~~\n回答：accept\n~~~\n\n##### 5，是否安装驱动\n\n![图片6.png](/images/cuda/图片6.png)\n\n~~~\n是否安装驱动，这里选择安装：y,因为我们自己没有提前安装驱动，如果提前安装过驱动，这里就不选择安装：n\n~~~\n\n##### 6，是否安装OpenGL\n\n![图片7.png](/images/cuda/图片7.png)\n\n~~~\n选择;n\n~~~\n\n##### 7，是否安装x-config\n\n![图片8.png](/images/cuda/图片8.png)\n\n~~~\n选择：n\n~~~\n\n##### 8，是否安装Toolkit\n\n![图片10.png](/images/cuda/图片10.png)\n\n~~~\n选择：y\n~~~\n\n##### 9，cuda目录\n\n![图片11.png](/images/cuda/图片11.png)\n\n~~~\n直接回车，选择默认安装路径\n~~~\n\n##### 10，是否创建软连接\n\n![图片12.png](/images/cuda/图片12.png)\n\n~~~\n选择：y\n~~~\n\n##### 11，是否安装示例\n\n![图片13.png](/images/cuda/图片13.png)\n\n~~~\n为了节约空间，这个不安装\n选择：n\n~~~\n\n##### 12，然后开始安装\n\n![图片14.png](/images/cuda/图片14.png)\n\n~~~\n表示安装成功\n~~~\n\n##### 13，添加配置文件\n\n~~~\nvim  /etc/profile\n写入：\nexport PATH=/usr/local/cuda-10.0/bin:$PATH\nexport LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH\n保存：\nsource /etc/profile\n~~~\n\n##### 14，卸载驱动及cuda\n\n![图片15.png](/images/cuda/图片15.png)\n\n<font color=\"red\">**注意**</font>\n\n`1,千万不要重复安装显卡驱动，会导致系统损坏`\n\n`2.升级cuda的时候，一定要将旧版本的cuda卸载干净，否则会出现意想不到的错误`\n\n##### 15，查看命令\n\n~~~\n1，检查显卡类型\nyum install pciutils（如果没有这个命令，则下载）\nlspci | grep VGA\n~~~\n\n![图片17.png](/images/cuda/图片17.png)\n\n~~~\n2，检查安装是否成功\nnvidia-smi\n~~~\n\n![图片16.png](/images/cuda/图片16.png)\n\n\n\n### 错误处理\n\n##### 1， /usr/bin/perl: bad interpreter: No such file or directory\n\n~~~\nyum install gcc\nyum install perl\n~~~\n\n##### 2，kernel源安装\n\n~~~\n检查系统版本\nuname -a\nyum install kernel-devel-$(uname -r) kernel-headers-$(uname -r)\n先查看源是否相同，如果没有则需要下载\n~~~\n\n##### 3，禁用nouveau（对某些版本需要）\n\n###### 1，修改文件\n\n~~~\n1，修改文件\ncd /etc/modprobe.d\nvim nvidia-installer-disable-nouveau.conf（如果没有这个文件，则手动生成）\n \n 内容：\n # generated by nvidia-installer\n blacklist nouveau\n options nouveau modeset=0\n\n~~~\n\n###### 2，备份 initramfs\n\n~~~\n    mv /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r).img.bak\n~~~\n\n###### 3，重建 initramfs\n\n~~~\ndracut -v /boot/initramfs-$(uname -r).img $(uname -r)\n~~~\n\n###### 4，重启机器\n\n~~~\nreboot\n~~~\n\n###### 5，检查nouveau driver确保没有被加载\n\n~~~\nlsmod | grep nouveau\n没有加载则为空，有加载则如图，说明设置没有生效，需要重新设置\n~~~\n\n![nouveau.png](/images/cuda/nouveau.png)","source":"_posts/cuda-cuda10-0安装.md","raw":"---\ntitle: cuda-cuda10.0安装\ncategories: cuda\ntags:\n  - nvidia\n  - 驱动\nabbrlink: 2055195890\ndate: 2020-05-07 10:48:26\n---\n\n​\t\t在转码的过程中，我们可以使用硬件来进行转码的加速，今天记录一下在Centos7环境下安装驱动以及cuda模块。\n\n### 下载驱动\n\n`如果打算安装CUDA10.0及以上的版本则不需要单独安装驱动，cuda10.0自带驱动驱动`**忽略该驱动的安装**\n\n[驱动下载地址](https://www.nvidia.cn/Download/Find.aspx?lang=cn&QNF=1)\n\n例如我们下载Quadro P2000 linux64的驱动\n\n![图片1.png](/images/cuda/图片1.png)\n\n![图片2.png](/images/cuda/图片2.png)\n\n之所以安装这个驱动是因为要安装的cuda10.0也是410的，之后运行安装驱动程序就好了。\n\n\n\n### 安装cuda10.0\n\n##### 1，下载安装包\n\n​\t[安装包下载](https://developer.nvidia.com/cuda-downloads?target_os=Linux&target_arch=x86_64&target_distro=CentOS&target_version=7&target_type=runfilelocal)\t在该网站上下载安装包\n\n![图片3.png](/images/cuda/图片3.png)\n\n##### 2，版本选择\n\n~~~\n通过以下按钮选择历史版本的cuda，找到10.0下载，然后选择对应的系统\n~~~\n\n![图片4.png](/images/cuda/图片4.png)\n\n##### 3，运行.run文件\n\n~~~\n下载完安装包放在linux上直接运行.run文件\n\nchmod +x cuda_10.0.130_410.48_linux.run \n./cuda_10.0.130_410.48_linux.run\n~~~\n\n##### 4，然后一直按回车键直到：\n\n![图片5.png](/images/cuda/图片5.png)\n\n~~~\n回答：accept\n~~~\n\n##### 5，是否安装驱动\n\n![图片6.png](/images/cuda/图片6.png)\n\n~~~\n是否安装驱动，这里选择安装：y,因为我们自己没有提前安装驱动，如果提前安装过驱动，这里就不选择安装：n\n~~~\n\n##### 6，是否安装OpenGL\n\n![图片7.png](/images/cuda/图片7.png)\n\n~~~\n选择;n\n~~~\n\n##### 7，是否安装x-config\n\n![图片8.png](/images/cuda/图片8.png)\n\n~~~\n选择：n\n~~~\n\n##### 8，是否安装Toolkit\n\n![图片10.png](/images/cuda/图片10.png)\n\n~~~\n选择：y\n~~~\n\n##### 9，cuda目录\n\n![图片11.png](/images/cuda/图片11.png)\n\n~~~\n直接回车，选择默认安装路径\n~~~\n\n##### 10，是否创建软连接\n\n![图片12.png](/images/cuda/图片12.png)\n\n~~~\n选择：y\n~~~\n\n##### 11，是否安装示例\n\n![图片13.png](/images/cuda/图片13.png)\n\n~~~\n为了节约空间，这个不安装\n选择：n\n~~~\n\n##### 12，然后开始安装\n\n![图片14.png](/images/cuda/图片14.png)\n\n~~~\n表示安装成功\n~~~\n\n##### 13，添加配置文件\n\n~~~\nvim  /etc/profile\n写入：\nexport PATH=/usr/local/cuda-10.0/bin:$PATH\nexport LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH\n保存：\nsource /etc/profile\n~~~\n\n##### 14，卸载驱动及cuda\n\n![图片15.png](/images/cuda/图片15.png)\n\n<font color=\"red\">**注意**</font>\n\n`1,千万不要重复安装显卡驱动，会导致系统损坏`\n\n`2.升级cuda的时候，一定要将旧版本的cuda卸载干净，否则会出现意想不到的错误`\n\n##### 15，查看命令\n\n~~~\n1，检查显卡类型\nyum install pciutils（如果没有这个命令，则下载）\nlspci | grep VGA\n~~~\n\n![图片17.png](/images/cuda/图片17.png)\n\n~~~\n2，检查安装是否成功\nnvidia-smi\n~~~\n\n![图片16.png](/images/cuda/图片16.png)\n\n\n\n### 错误处理\n\n##### 1， /usr/bin/perl: bad interpreter: No such file or directory\n\n~~~\nyum install gcc\nyum install perl\n~~~\n\n##### 2，kernel源安装\n\n~~~\n检查系统版本\nuname -a\nyum install kernel-devel-$(uname -r) kernel-headers-$(uname -r)\n先查看源是否相同，如果没有则需要下载\n~~~\n\n##### 3，禁用nouveau（对某些版本需要）\n\n###### 1，修改文件\n\n~~~\n1，修改文件\ncd /etc/modprobe.d\nvim nvidia-installer-disable-nouveau.conf（如果没有这个文件，则手动生成）\n \n 内容：\n # generated by nvidia-installer\n blacklist nouveau\n options nouveau modeset=0\n\n~~~\n\n###### 2，备份 initramfs\n\n~~~\n    mv /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r).img.bak\n~~~\n\n###### 3，重建 initramfs\n\n~~~\ndracut -v /boot/initramfs-$(uname -r).img $(uname -r)\n~~~\n\n###### 4，重启机器\n\n~~~\nreboot\n~~~\n\n###### 5，检查nouveau driver确保没有被加载\n\n~~~\nlsmod | grep nouveau\n没有加载则为空，有加载则如图，说明设置没有生效，需要重新设置\n~~~\n\n![nouveau.png](/images/cuda/nouveau.png)","slug":"cuda-cuda10-0安装","published":1,"updated":"2020-05-11T10:02:09.557Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnj80009ggqgdbxupb75","content":"<p>​        在转码的过程中，我们可以使用硬件来进行转码的加速，今天记录一下在Centos7环境下安装驱动以及cuda模块。</p>\n<h3 id=\"下载驱动\"><a href=\"#下载驱动\" class=\"headerlink\" title=\"下载驱动\"></a>下载驱动</h3><p><code>如果打算安装CUDA10.0及以上的版本则不需要单独安装驱动，cuda10.0自带驱动驱动</code><strong>忽略该驱动的安装</strong></p>\n<p><a href=\"https://www.nvidia.cn/Download/Find.aspx?lang=cn&amp;QNF=1\" target=\"_blank\" rel=\"noopener\">驱动下载地址</a></p>\n<p>例如我们下载Quadro P2000 linux64的驱动</p>\n<p><img src=\"/images/cuda/图片1.png\" alt=\"图片1.png\"></p>\n<p><img src=\"/images/cuda/图片2.png\" alt=\"图片2.png\"></p>\n<p>之所以安装这个驱动是因为要安装的cuda10.0也是410的，之后运行安装驱动程序就好了。</p>\n<h3 id=\"安装cuda10-0\"><a href=\"#安装cuda10-0\" class=\"headerlink\" title=\"安装cuda10.0\"></a>安装cuda10.0</h3><h5 id=\"1，下载安装包\"><a href=\"#1，下载安装包\" class=\"headerlink\" title=\"1，下载安装包\"></a>1，下载安装包</h5><p>​    <a href=\"https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;target_arch=x86_64&amp;target_distro=CentOS&amp;target_version=7&amp;target_type=runfilelocal\" target=\"_blank\" rel=\"noopener\">安装包下载</a>    在该网站上下载安装包</p>\n<p><img src=\"/images/cuda/图片3.png\" alt=\"图片3.png\"></p>\n<h5 id=\"2，版本选择\"><a href=\"#2，版本选择\" class=\"headerlink\" title=\"2，版本选择\"></a>2，版本选择</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">通过以下按钮选择历史版本的cuda，找到10.0下载，然后选择对应的系统</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/cuda/图片4.png\" alt=\"图片4.png\"></p>\n<h5 id=\"3，运行-run文件\"><a href=\"#3，运行-run文件\" class=\"headerlink\" title=\"3，运行.run文件\"></a>3，运行.run文件</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">下载完安装包放在linux上直接运行.run文件</span><br><span class=\"line\"></span><br><span class=\"line\">chmod +x cuda_10.0.130_410.48_linux.run </span><br><span class=\"line\">./cuda_10.0.130_410.48_linux.run</span><br></pre></td></tr></table></figure>\n<h5 id=\"4，然后一直按回车键直到：\"><a href=\"#4，然后一直按回车键直到：\" class=\"headerlink\" title=\"4，然后一直按回车键直到：\"></a>4，然后一直按回车键直到：</h5><p><img src=\"/images/cuda/图片5.png\" alt=\"图片5.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">回答：accept</span><br></pre></td></tr></table></figure>\n<h5 id=\"5，是否安装驱动\"><a href=\"#5，是否安装驱动\" class=\"headerlink\" title=\"5，是否安装驱动\"></a>5，是否安装驱动</h5><p><img src=\"/images/cuda/图片6.png\" alt=\"图片6.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">是否安装驱动，这里选择安装：y,因为我们自己没有提前安装驱动，如果提前安装过驱动，这里就不选择安装：n</span><br></pre></td></tr></table></figure>\n<h5 id=\"6，是否安装OpenGL\"><a href=\"#6，是否安装OpenGL\" class=\"headerlink\" title=\"6，是否安装OpenGL\"></a>6，是否安装OpenGL</h5><p><img src=\"/images/cuda/图片7.png\" alt=\"图片7.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选择;n</span><br></pre></td></tr></table></figure>\n<h5 id=\"7，是否安装x-config\"><a href=\"#7，是否安装x-config\" class=\"headerlink\" title=\"7，是否安装x-config\"></a>7，是否安装x-config</h5><p><img src=\"/images/cuda/图片8.png\" alt=\"图片8.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选择：n</span><br></pre></td></tr></table></figure>\n<h5 id=\"8，是否安装Toolkit\"><a href=\"#8，是否安装Toolkit\" class=\"headerlink\" title=\"8，是否安装Toolkit\"></a>8，是否安装Toolkit</h5><p><img src=\"/images/cuda/图片10.png\" alt=\"图片10.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选择：y</span><br></pre></td></tr></table></figure>\n<h5 id=\"9，cuda目录\"><a href=\"#9，cuda目录\" class=\"headerlink\" title=\"9，cuda目录\"></a>9，cuda目录</h5><p><img src=\"/images/cuda/图片11.png\" alt=\"图片11.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">直接回车，选择默认安装路径</span><br></pre></td></tr></table></figure>\n<h5 id=\"10，是否创建软连接\"><a href=\"#10，是否创建软连接\" class=\"headerlink\" title=\"10，是否创建软连接\"></a>10，是否创建软连接</h5><p><img src=\"/images/cuda/图片12.png\" alt=\"图片12.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选择：y</span><br></pre></td></tr></table></figure>\n<h5 id=\"11，是否安装示例\"><a href=\"#11，是否安装示例\" class=\"headerlink\" title=\"11，是否安装示例\"></a>11，是否安装示例</h5><p><img src=\"/images/cuda/图片13.png\" alt=\"图片13.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">为了节约空间，这个不安装</span><br><span class=\"line\">选择：n</span><br></pre></td></tr></table></figure>\n<h5 id=\"12，然后开始安装\"><a href=\"#12，然后开始安装\" class=\"headerlink\" title=\"12，然后开始安装\"></a>12，然后开始安装</h5><p><img src=\"/images/cuda/图片14.png\" alt=\"图片14.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">表示安装成功</span><br></pre></td></tr></table></figure>\n<h5 id=\"13，添加配置文件\"><a href=\"#13，添加配置文件\" class=\"headerlink\" title=\"13，添加配置文件\"></a>13，添加配置文件</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim  /etc/profile</span><br><span class=\"line\">写入：</span><br><span class=\"line\">export PATH=/usr/local/cuda-10.0/bin:$PATH</span><br><span class=\"line\">export LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH</span><br><span class=\"line\">保存：</span><br><span class=\"line\">source /etc/profile</span><br></pre></td></tr></table></figure>\n<h5 id=\"14，卸载驱动及cuda\"><a href=\"#14，卸载驱动及cuda\" class=\"headerlink\" title=\"14，卸载驱动及cuda\"></a>14，卸载驱动及cuda</h5><p><img src=\"/images/cuda/图片15.png\" alt=\"图片15.png\"></p>\n<font color=\"red\"><strong>注意</strong></font>\n\n<p><code>1,千万不要重复安装显卡驱动，会导致系统损坏</code></p>\n<p><code>2.升级cuda的时候，一定要将旧版本的cuda卸载干净，否则会出现意想不到的错误</code></p>\n<h5 id=\"15，查看命令\"><a href=\"#15，查看命令\" class=\"headerlink\" title=\"15，查看命令\"></a>15，查看命令</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1，检查显卡类型</span><br><span class=\"line\">yum install pciutils（如果没有这个命令，则下载）</span><br><span class=\"line\">lspci | grep VGA</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/cuda/图片17.png\" alt=\"图片17.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2，检查安装是否成功</span><br><span class=\"line\">nvidia-smi</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/cuda/图片16.png\" alt=\"图片16.png\"></p>\n<h3 id=\"错误处理\"><a href=\"#错误处理\" class=\"headerlink\" title=\"错误处理\"></a>错误处理</h3><h5 id=\"1，-usr-bin-perl-bad-interpreter-No-such-file-or-directory\"><a href=\"#1，-usr-bin-perl-bad-interpreter-No-such-file-or-directory\" class=\"headerlink\" title=\"1， /usr/bin/perl: bad interpreter: No such file or directory\"></a>1， /usr/bin/perl: bad interpreter: No such file or directory</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install gcc</span><br><span class=\"line\">yum install perl</span><br></pre></td></tr></table></figure>\n<h5 id=\"2，kernel源安装\"><a href=\"#2，kernel源安装\" class=\"headerlink\" title=\"2，kernel源安装\"></a>2，kernel源安装</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">检查系统版本</span><br><span class=\"line\">uname -a</span><br><span class=\"line\">yum install kernel-devel-$(uname -r) kernel-headers-$(uname -r)</span><br><span class=\"line\">先查看源是否相同，如果没有则需要下载</span><br></pre></td></tr></table></figure>\n<h5 id=\"3，禁用nouveau（对某些版本需要）\"><a href=\"#3，禁用nouveau（对某些版本需要）\" class=\"headerlink\" title=\"3，禁用nouveau（对某些版本需要）\"></a>3，禁用nouveau（对某些版本需要）</h5><h6 id=\"1，修改文件\"><a href=\"#1，修改文件\" class=\"headerlink\" title=\"1，修改文件\"></a>1，修改文件</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1，修改文件</span><br><span class=\"line\">cd /etc/modprobe.d</span><br><span class=\"line\">vim nvidia-installer-disable-nouveau.conf（如果没有这个文件，则手动生成）</span><br><span class=\"line\"> </span><br><span class=\"line\"> 内容：</span><br><span class=\"line\"> # generated by nvidia-installer</span><br><span class=\"line\"> blacklist nouveau</span><br><span class=\"line\"> options nouveau modeset=0</span><br></pre></td></tr></table></figure>\n<h6 id=\"2，备份-initramfs\"><a href=\"#2，备份-initramfs\" class=\"headerlink\" title=\"2，备份 initramfs\"></a>2，备份 initramfs</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mv /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r).img.bak</span><br></pre></td></tr></table></figure>\n<h6 id=\"3，重建-initramfs\"><a href=\"#3，重建-initramfs\" class=\"headerlink\" title=\"3，重建 initramfs\"></a>3，重建 initramfs</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dracut -v /boot/initramfs-$(uname -r).img $(uname -r)</span><br></pre></td></tr></table></figure>\n<h6 id=\"4，重启机器\"><a href=\"#4，重启机器\" class=\"headerlink\" title=\"4，重启机器\"></a>4，重启机器</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">reboot</span><br></pre></td></tr></table></figure>\n<h6 id=\"5，检查nouveau-driver确保没有被加载\"><a href=\"#5，检查nouveau-driver确保没有被加载\" class=\"headerlink\" title=\"5，检查nouveau driver确保没有被加载\"></a>5，检查nouveau driver确保没有被加载</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lsmod | grep nouveau</span><br><span class=\"line\">没有加载则为空，有加载则如图，说明设置没有生效，需要重新设置</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/cuda/nouveau.png\" alt=\"nouveau.png\"></p>\n","site":{"data":{}},"excerpt":"","more":"<p>​        在转码的过程中，我们可以使用硬件来进行转码的加速，今天记录一下在Centos7环境下安装驱动以及cuda模块。</p>\n<h3 id=\"下载驱动\"><a href=\"#下载驱动\" class=\"headerlink\" title=\"下载驱动\"></a>下载驱动</h3><p><code>如果打算安装CUDA10.0及以上的版本则不需要单独安装驱动，cuda10.0自带驱动驱动</code><strong>忽略该驱动的安装</strong></p>\n<p><a href=\"https://www.nvidia.cn/Download/Find.aspx?lang=cn&amp;QNF=1\" target=\"_blank\" rel=\"noopener\">驱动下载地址</a></p>\n<p>例如我们下载Quadro P2000 linux64的驱动</p>\n<p><img src=\"/images/cuda/图片1.png\" alt=\"图片1.png\"></p>\n<p><img src=\"/images/cuda/图片2.png\" alt=\"图片2.png\"></p>\n<p>之所以安装这个驱动是因为要安装的cuda10.0也是410的，之后运行安装驱动程序就好了。</p>\n<h3 id=\"安装cuda10-0\"><a href=\"#安装cuda10-0\" class=\"headerlink\" title=\"安装cuda10.0\"></a>安装cuda10.0</h3><h5 id=\"1，下载安装包\"><a href=\"#1，下载安装包\" class=\"headerlink\" title=\"1，下载安装包\"></a>1，下载安装包</h5><p>​    <a href=\"https://developer.nvidia.com/cuda-downloads?target_os=Linux&amp;target_arch=x86_64&amp;target_distro=CentOS&amp;target_version=7&amp;target_type=runfilelocal\" target=\"_blank\" rel=\"noopener\">安装包下载</a>    在该网站上下载安装包</p>\n<p><img src=\"/images/cuda/图片3.png\" alt=\"图片3.png\"></p>\n<h5 id=\"2，版本选择\"><a href=\"#2，版本选择\" class=\"headerlink\" title=\"2，版本选择\"></a>2，版本选择</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">通过以下按钮选择历史版本的cuda，找到10.0下载，然后选择对应的系统</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/cuda/图片4.png\" alt=\"图片4.png\"></p>\n<h5 id=\"3，运行-run文件\"><a href=\"#3，运行-run文件\" class=\"headerlink\" title=\"3，运行.run文件\"></a>3，运行.run文件</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">下载完安装包放在linux上直接运行.run文件</span><br><span class=\"line\"></span><br><span class=\"line\">chmod +x cuda_10.0.130_410.48_linux.run </span><br><span class=\"line\">./cuda_10.0.130_410.48_linux.run</span><br></pre></td></tr></table></figure>\n<h5 id=\"4，然后一直按回车键直到：\"><a href=\"#4，然后一直按回车键直到：\" class=\"headerlink\" title=\"4，然后一直按回车键直到：\"></a>4，然后一直按回车键直到：</h5><p><img src=\"/images/cuda/图片5.png\" alt=\"图片5.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">回答：accept</span><br></pre></td></tr></table></figure>\n<h5 id=\"5，是否安装驱动\"><a href=\"#5，是否安装驱动\" class=\"headerlink\" title=\"5，是否安装驱动\"></a>5，是否安装驱动</h5><p><img src=\"/images/cuda/图片6.png\" alt=\"图片6.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">是否安装驱动，这里选择安装：y,因为我们自己没有提前安装驱动，如果提前安装过驱动，这里就不选择安装：n</span><br></pre></td></tr></table></figure>\n<h5 id=\"6，是否安装OpenGL\"><a href=\"#6，是否安装OpenGL\" class=\"headerlink\" title=\"6，是否安装OpenGL\"></a>6，是否安装OpenGL</h5><p><img src=\"/images/cuda/图片7.png\" alt=\"图片7.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选择;n</span><br></pre></td></tr></table></figure>\n<h5 id=\"7，是否安装x-config\"><a href=\"#7，是否安装x-config\" class=\"headerlink\" title=\"7，是否安装x-config\"></a>7，是否安装x-config</h5><p><img src=\"/images/cuda/图片8.png\" alt=\"图片8.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选择：n</span><br></pre></td></tr></table></figure>\n<h5 id=\"8，是否安装Toolkit\"><a href=\"#8，是否安装Toolkit\" class=\"headerlink\" title=\"8，是否安装Toolkit\"></a>8，是否安装Toolkit</h5><p><img src=\"/images/cuda/图片10.png\" alt=\"图片10.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选择：y</span><br></pre></td></tr></table></figure>\n<h5 id=\"9，cuda目录\"><a href=\"#9，cuda目录\" class=\"headerlink\" title=\"9，cuda目录\"></a>9，cuda目录</h5><p><img src=\"/images/cuda/图片11.png\" alt=\"图片11.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">直接回车，选择默认安装路径</span><br></pre></td></tr></table></figure>\n<h5 id=\"10，是否创建软连接\"><a href=\"#10，是否创建软连接\" class=\"headerlink\" title=\"10，是否创建软连接\"></a>10，是否创建软连接</h5><p><img src=\"/images/cuda/图片12.png\" alt=\"图片12.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">选择：y</span><br></pre></td></tr></table></figure>\n<h5 id=\"11，是否安装示例\"><a href=\"#11，是否安装示例\" class=\"headerlink\" title=\"11，是否安装示例\"></a>11，是否安装示例</h5><p><img src=\"/images/cuda/图片13.png\" alt=\"图片13.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">为了节约空间，这个不安装</span><br><span class=\"line\">选择：n</span><br></pre></td></tr></table></figure>\n<h5 id=\"12，然后开始安装\"><a href=\"#12，然后开始安装\" class=\"headerlink\" title=\"12，然后开始安装\"></a>12，然后开始安装</h5><p><img src=\"/images/cuda/图片14.png\" alt=\"图片14.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">表示安装成功</span><br></pre></td></tr></table></figure>\n<h5 id=\"13，添加配置文件\"><a href=\"#13，添加配置文件\" class=\"headerlink\" title=\"13，添加配置文件\"></a>13，添加配置文件</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim  /etc/profile</span><br><span class=\"line\">写入：</span><br><span class=\"line\">export PATH=/usr/local/cuda-10.0/bin:$PATH</span><br><span class=\"line\">export LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH</span><br><span class=\"line\">保存：</span><br><span class=\"line\">source /etc/profile</span><br></pre></td></tr></table></figure>\n<h5 id=\"14，卸载驱动及cuda\"><a href=\"#14，卸载驱动及cuda\" class=\"headerlink\" title=\"14，卸载驱动及cuda\"></a>14，卸载驱动及cuda</h5><p><img src=\"/images/cuda/图片15.png\" alt=\"图片15.png\"></p>\n<font color=\"red\"><strong>注意</strong></font>\n\n<p><code>1,千万不要重复安装显卡驱动，会导致系统损坏</code></p>\n<p><code>2.升级cuda的时候，一定要将旧版本的cuda卸载干净，否则会出现意想不到的错误</code></p>\n<h5 id=\"15，查看命令\"><a href=\"#15，查看命令\" class=\"headerlink\" title=\"15，查看命令\"></a>15，查看命令</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1，检查显卡类型</span><br><span class=\"line\">yum install pciutils（如果没有这个命令，则下载）</span><br><span class=\"line\">lspci | grep VGA</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/cuda/图片17.png\" alt=\"图片17.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2，检查安装是否成功</span><br><span class=\"line\">nvidia-smi</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/cuda/图片16.png\" alt=\"图片16.png\"></p>\n<h3 id=\"错误处理\"><a href=\"#错误处理\" class=\"headerlink\" title=\"错误处理\"></a>错误处理</h3><h5 id=\"1，-usr-bin-perl-bad-interpreter-No-such-file-or-directory\"><a href=\"#1，-usr-bin-perl-bad-interpreter-No-such-file-or-directory\" class=\"headerlink\" title=\"1， /usr/bin/perl: bad interpreter: No such file or directory\"></a>1， /usr/bin/perl: bad interpreter: No such file or directory</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install gcc</span><br><span class=\"line\">yum install perl</span><br></pre></td></tr></table></figure>\n<h5 id=\"2，kernel源安装\"><a href=\"#2，kernel源安装\" class=\"headerlink\" title=\"2，kernel源安装\"></a>2，kernel源安装</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">检查系统版本</span><br><span class=\"line\">uname -a</span><br><span class=\"line\">yum install kernel-devel-$(uname -r) kernel-headers-$(uname -r)</span><br><span class=\"line\">先查看源是否相同，如果没有则需要下载</span><br></pre></td></tr></table></figure>\n<h5 id=\"3，禁用nouveau（对某些版本需要）\"><a href=\"#3，禁用nouveau（对某些版本需要）\" class=\"headerlink\" title=\"3，禁用nouveau（对某些版本需要）\"></a>3，禁用nouveau（对某些版本需要）</h5><h6 id=\"1，修改文件\"><a href=\"#1，修改文件\" class=\"headerlink\" title=\"1，修改文件\"></a>1，修改文件</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1，修改文件</span><br><span class=\"line\">cd /etc/modprobe.d</span><br><span class=\"line\">vim nvidia-installer-disable-nouveau.conf（如果没有这个文件，则手动生成）</span><br><span class=\"line\"> </span><br><span class=\"line\"> 内容：</span><br><span class=\"line\"> # generated by nvidia-installer</span><br><span class=\"line\"> blacklist nouveau</span><br><span class=\"line\"> options nouveau modeset=0</span><br></pre></td></tr></table></figure>\n<h6 id=\"2，备份-initramfs\"><a href=\"#2，备份-initramfs\" class=\"headerlink\" title=\"2，备份 initramfs\"></a>2，备份 initramfs</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mv /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r).img.bak</span><br></pre></td></tr></table></figure>\n<h6 id=\"3，重建-initramfs\"><a href=\"#3，重建-initramfs\" class=\"headerlink\" title=\"3，重建 initramfs\"></a>3，重建 initramfs</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dracut -v /boot/initramfs-$(uname -r).img $(uname -r)</span><br></pre></td></tr></table></figure>\n<h6 id=\"4，重启机器\"><a href=\"#4，重启机器\" class=\"headerlink\" title=\"4，重启机器\"></a>4，重启机器</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">reboot</span><br></pre></td></tr></table></figure>\n<h6 id=\"5，检查nouveau-driver确保没有被加载\"><a href=\"#5，检查nouveau-driver确保没有被加载\" class=\"headerlink\" title=\"5，检查nouveau driver确保没有被加载\"></a>5，检查nouveau driver确保没有被加载</h6><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lsmod | grep nouveau</span><br><span class=\"line\">没有加载则为空，有加载则如图，说明设置没有生效，需要重新设置</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/cuda/nouveau.png\" alt=\"nouveau.png\"></p>\n"},{"title":"cpp-关于内存泄漏的问题","abbrlink":834551784,"date":"2019-03-15T08:28:36.000Z","_content":"\n今天我们讨论一些怎么处理内存泄漏的问题\n","source":"_posts/cpp-关于内存泄漏的问题.md","raw":"---\ntitle: cpp-关于内存泄漏的问题\ncategories: cpp\ntags:\n  - cpp\n  - ffmpeg\nabbrlink: 834551784\ndate: 2019-03-15 16:28:36\n---\n\n今天我们讨论一些怎么处理内存泄漏的问题\n","slug":"cpp-关于内存泄漏的问题","published":1,"updated":"2020-05-11T10:02:09.556Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnjp000dggqgg69q9ba3","content":"<p>今天我们讨论一些怎么处理内存泄漏的问题</p>\n","site":{"data":{}},"excerpt":"","more":"<p>今天我们讨论一些怎么处理内存泄漏的问题</p>\n"},{"title":"ffmpeg_avfilter的使用详解","abbrlink":4030313287,"date":"2019-03-27T02:23:18.000Z","_content":"\n&nbsp;&nbsp;&nbsp;&nbsp;在ffmpeg，我们对视音频进行一些处理，如添加水印，有个很方便的库，avfilter，\n\n过滤的过程\n解码后的画面 -> buffer过滤器 -> 其他过滤器 -> buffersink 过滤器 -> 处理好的画面","source":"_posts/ffmpeg-avfilter的使用详解.md","raw":"---\ntitle: ffmpeg_avfilter的使用详解\ncategories: ffmpeg\ntags:\n  - ffmpeg\n  - avfilter\nabbrlink: 4030313287\ndate: 2019-03-27 10:23:18\n---\n\n&nbsp;&nbsp;&nbsp;&nbsp;在ffmpeg，我们对视音频进行一些处理，如添加水印，有个很方便的库，avfilter，\n\n过滤的过程\n解码后的画面 -> buffer过滤器 -> 其他过滤器 -> buffersink 过滤器 -> 处理好的画面","slug":"ffmpeg-avfilter的使用详解","published":1,"updated":"2020-05-11T10:02:09.557Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnjx000eggqg28mof0ef","content":"<p>&nbsp;&nbsp;&nbsp;&nbsp;在ffmpeg，我们对视音频进行一些处理，如添加水印，有个很方便的库，avfilter，</p>\n<p>过滤的过程<br>解码后的画面 -&gt; buffer过滤器 -&gt; 其他过滤器 -&gt; buffersink 过滤器 -&gt; 处理好的画面</p>\n","site":{"data":{}},"excerpt":"","more":"<p>&nbsp;&nbsp;&nbsp;&nbsp;在ffmpeg，我们对视音频进行一些处理，如添加水印，有个很方便的库，avfilter，</p>\n<p>过滤的过程<br>解码后的画面 -&gt; buffer过滤器 -&gt; 其他过滤器 -&gt; buffersink 过滤器 -&gt; 处理好的画面</p>\n"},{"title":"ffmpeg-编码的步骤","abbrlink":3394448682,"date":"2019-05-05T06:39:17.000Z","_content":"\n&nbsp;&nbsp;&nbsp;&nbsp;总结一下编码的大致过程，方便自己下一次的处理，分为音频编码和视频\n\n### 音频编码的过程\n\n#### 1，打开输出的文件流\n```\nAVFormatContext *ofmt_ctx;\navformat_alloc_output_context2(&ofmt_ctx, NULL, NULL, filename);\n```\n\n#### 2，创建输出的音频流\n```\nAVStream *audioStream;\nAVCodec *encoder;\nAVCodecContext *enc_ctx;\naudioStream = avformat_new_stream(ofmt_ctx, NULL);\nif (!audioStream){\n\tav_log();\n}\nencoder = avcodec_find_encoder(AV_CODEC_ID_AAC);\nif(!encoder){\n\tav_log();\n}\n\n```\n#### 3，设置编码的上下文\n```\nenc_ctx = avcodec_alloc_context3(encoder);\nif (!enc_ctx){\n\tav_log();\n}\nenc_ctx -> bit_rate = 64000;\nenc_ctx -> sample_rate = 44100;\nenc_ctx -> channel_layout = 2;//这个可以根据输入来设置\nenc_ctx -> channels = av_get_channel_layout_nb_channels(enc_ctx -> channel_layout);\nenc_ctx -> sample_fmt = encoder -> sample_fmts[0];\nAVRational time_base = {1, enc_ctx -> sample_rate};\nenc_ctx -> time_base = time_base;\n\n```\n#### 4，设置flag\n```\nif (ofmt_ctx -> oformat -> flags & AVFMT_GLOBALHEADER)\n\tenc_ctx -> flags |= AV_CODEC_FLAG_GLOBAL_HEADER;\n```\n\n#### 5，打开编码器\n```\nret = avcodec_open2(enc_ctx, encoder, NULL);\nif (ret < 0){\n\tav_log();\n}\n```\n\n#### 6，设置codec_tag\n```\naudioStream -> codecpar -> codec_tag = 0;\n```\n\n#### 7，copy code to stream\n```\nret = avcodec_parameters_from_context(audioStream -> codecpar, enc_ctx);\n```\n","source":"_posts/ffmpeg-编码的步骤.md","raw":"---\ntitle: ffmpeg-编码的步骤\ncategories: ffmpeg\ntags: ffmpeg\nabbrlink: 3394448682\ndate: 2019-05-05 14:39:17\n---\n\n&nbsp;&nbsp;&nbsp;&nbsp;总结一下编码的大致过程，方便自己下一次的处理，分为音频编码和视频\n\n### 音频编码的过程\n\n#### 1，打开输出的文件流\n```\nAVFormatContext *ofmt_ctx;\navformat_alloc_output_context2(&ofmt_ctx, NULL, NULL, filename);\n```\n\n#### 2，创建输出的音频流\n```\nAVStream *audioStream;\nAVCodec *encoder;\nAVCodecContext *enc_ctx;\naudioStream = avformat_new_stream(ofmt_ctx, NULL);\nif (!audioStream){\n\tav_log();\n}\nencoder = avcodec_find_encoder(AV_CODEC_ID_AAC);\nif(!encoder){\n\tav_log();\n}\n\n```\n#### 3，设置编码的上下文\n```\nenc_ctx = avcodec_alloc_context3(encoder);\nif (!enc_ctx){\n\tav_log();\n}\nenc_ctx -> bit_rate = 64000;\nenc_ctx -> sample_rate = 44100;\nenc_ctx -> channel_layout = 2;//这个可以根据输入来设置\nenc_ctx -> channels = av_get_channel_layout_nb_channels(enc_ctx -> channel_layout);\nenc_ctx -> sample_fmt = encoder -> sample_fmts[0];\nAVRational time_base = {1, enc_ctx -> sample_rate};\nenc_ctx -> time_base = time_base;\n\n```\n#### 4，设置flag\n```\nif (ofmt_ctx -> oformat -> flags & AVFMT_GLOBALHEADER)\n\tenc_ctx -> flags |= AV_CODEC_FLAG_GLOBAL_HEADER;\n```\n\n#### 5，打开编码器\n```\nret = avcodec_open2(enc_ctx, encoder, NULL);\nif (ret < 0){\n\tav_log();\n}\n```\n\n#### 6，设置codec_tag\n```\naudioStream -> codecpar -> codec_tag = 0;\n```\n\n#### 7，copy code to stream\n```\nret = avcodec_parameters_from_context(audioStream -> codecpar, enc_ctx);\n```\n","slug":"ffmpeg-编码的步骤","published":1,"updated":"2020-05-11T10:02:09.558Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnk1000jggqgw9t8f3zr","content":"<p>&nbsp;&nbsp;&nbsp;&nbsp;总结一下编码的大致过程，方便自己下一次的处理，分为音频编码和视频</p>\n<h3 id=\"音频编码的过程\"><a href=\"#音频编码的过程\" class=\"headerlink\" title=\"音频编码的过程\"></a>音频编码的过程</h3><h4 id=\"1，打开输出的文件流\"><a href=\"#1，打开输出的文件流\" class=\"headerlink\" title=\"1，打开输出的文件流\"></a>1，打开输出的文件流</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">AVFormatContext *ofmt_ctx;</span><br><span class=\"line\">avformat_alloc_output_context2(&amp;ofmt_ctx, NULL, NULL, filename);</span><br></pre></td></tr></table></figure>\n<h4 id=\"2，创建输出的音频流\"><a href=\"#2，创建输出的音频流\" class=\"headerlink\" title=\"2，创建输出的音频流\"></a>2，创建输出的音频流</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">AVStream *audioStream;</span><br><span class=\"line\">AVCodec *encoder;</span><br><span class=\"line\">AVCodecContext *enc_ctx;</span><br><span class=\"line\">audioStream = avformat_new_stream(ofmt_ctx, NULL);</span><br><span class=\"line\">if (!audioStream)&#123;</span><br><span class=\"line\">\tav_log();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">encoder = avcodec_find_encoder(AV_CODEC_ID_AAC);</span><br><span class=\"line\">if(!encoder)&#123;</span><br><span class=\"line\">\tav_log();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"3，设置编码的上下文\"><a href=\"#3，设置编码的上下文\" class=\"headerlink\" title=\"3，设置编码的上下文\"></a>3，设置编码的上下文</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">enc_ctx = avcodec_alloc_context3(encoder);</span><br><span class=\"line\">if (!enc_ctx)&#123;</span><br><span class=\"line\">\tav_log();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">enc_ctx -&gt; bit_rate = 64000;</span><br><span class=\"line\">enc_ctx -&gt; sample_rate = 44100;</span><br><span class=\"line\">enc_ctx -&gt; channel_layout = 2;//这个可以根据输入来设置</span><br><span class=\"line\">enc_ctx -&gt; channels = av_get_channel_layout_nb_channels(enc_ctx -&gt; channel_layout);</span><br><span class=\"line\">enc_ctx -&gt; sample_fmt = encoder -&gt; sample_fmts[0];</span><br><span class=\"line\">AVRational time_base = &#123;1, enc_ctx -&gt; sample_rate&#125;;</span><br><span class=\"line\">enc_ctx -&gt; time_base = time_base;</span><br></pre></td></tr></table></figure>\n<h4 id=\"4，设置flag\"><a href=\"#4，设置flag\" class=\"headerlink\" title=\"4，设置flag\"></a>4，设置flag</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if (ofmt_ctx -&gt; oformat -&gt; flags &amp; AVFMT_GLOBALHEADER)</span><br><span class=\"line\">\tenc_ctx -&gt; flags |= AV_CODEC_FLAG_GLOBAL_HEADER;</span><br></pre></td></tr></table></figure>\n<h4 id=\"5，打开编码器\"><a href=\"#5，打开编码器\" class=\"headerlink\" title=\"5，打开编码器\"></a>5，打开编码器</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ret = avcodec_open2(enc_ctx, encoder, NULL);</span><br><span class=\"line\">if (ret &lt; 0)&#123;</span><br><span class=\"line\">\tav_log();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"6，设置codec-tag\"><a href=\"#6，设置codec-tag\" class=\"headerlink\" title=\"6，设置codec_tag\"></a>6，设置codec_tag</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">audioStream -&gt; codecpar -&gt; codec_tag = 0;</span><br></pre></td></tr></table></figure>\n<h4 id=\"7，copy-code-to-stream\"><a href=\"#7，copy-code-to-stream\" class=\"headerlink\" title=\"7，copy code to stream\"></a>7，copy code to stream</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ret = avcodec_parameters_from_context(audioStream -&gt; codecpar, enc_ctx);</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>&nbsp;&nbsp;&nbsp;&nbsp;总结一下编码的大致过程，方便自己下一次的处理，分为音频编码和视频</p>\n<h3 id=\"音频编码的过程\"><a href=\"#音频编码的过程\" class=\"headerlink\" title=\"音频编码的过程\"></a>音频编码的过程</h3><h4 id=\"1，打开输出的文件流\"><a href=\"#1，打开输出的文件流\" class=\"headerlink\" title=\"1，打开输出的文件流\"></a>1，打开输出的文件流</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">AVFormatContext *ofmt_ctx;</span><br><span class=\"line\">avformat_alloc_output_context2(&amp;ofmt_ctx, NULL, NULL, filename);</span><br></pre></td></tr></table></figure>\n<h4 id=\"2，创建输出的音频流\"><a href=\"#2，创建输出的音频流\" class=\"headerlink\" title=\"2，创建输出的音频流\"></a>2，创建输出的音频流</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">AVStream *audioStream;</span><br><span class=\"line\">AVCodec *encoder;</span><br><span class=\"line\">AVCodecContext *enc_ctx;</span><br><span class=\"line\">audioStream = avformat_new_stream(ofmt_ctx, NULL);</span><br><span class=\"line\">if (!audioStream)&#123;</span><br><span class=\"line\">\tav_log();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">encoder = avcodec_find_encoder(AV_CODEC_ID_AAC);</span><br><span class=\"line\">if(!encoder)&#123;</span><br><span class=\"line\">\tav_log();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"3，设置编码的上下文\"><a href=\"#3，设置编码的上下文\" class=\"headerlink\" title=\"3，设置编码的上下文\"></a>3，设置编码的上下文</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">enc_ctx = avcodec_alloc_context3(encoder);</span><br><span class=\"line\">if (!enc_ctx)&#123;</span><br><span class=\"line\">\tav_log();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">enc_ctx -&gt; bit_rate = 64000;</span><br><span class=\"line\">enc_ctx -&gt; sample_rate = 44100;</span><br><span class=\"line\">enc_ctx -&gt; channel_layout = 2;//这个可以根据输入来设置</span><br><span class=\"line\">enc_ctx -&gt; channels = av_get_channel_layout_nb_channels(enc_ctx -&gt; channel_layout);</span><br><span class=\"line\">enc_ctx -&gt; sample_fmt = encoder -&gt; sample_fmts[0];</span><br><span class=\"line\">AVRational time_base = &#123;1, enc_ctx -&gt; sample_rate&#125;;</span><br><span class=\"line\">enc_ctx -&gt; time_base = time_base;</span><br></pre></td></tr></table></figure>\n<h4 id=\"4，设置flag\"><a href=\"#4，设置flag\" class=\"headerlink\" title=\"4，设置flag\"></a>4，设置flag</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if (ofmt_ctx -&gt; oformat -&gt; flags &amp; AVFMT_GLOBALHEADER)</span><br><span class=\"line\">\tenc_ctx -&gt; flags |= AV_CODEC_FLAG_GLOBAL_HEADER;</span><br></pre></td></tr></table></figure>\n<h4 id=\"5，打开编码器\"><a href=\"#5，打开编码器\" class=\"headerlink\" title=\"5，打开编码器\"></a>5，打开编码器</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ret = avcodec_open2(enc_ctx, encoder, NULL);</span><br><span class=\"line\">if (ret &lt; 0)&#123;</span><br><span class=\"line\">\tav_log();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"6，设置codec-tag\"><a href=\"#6，设置codec-tag\" class=\"headerlink\" title=\"6，设置codec_tag\"></a>6，设置codec_tag</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">audioStream -&gt; codecpar -&gt; codec_tag = 0;</span><br></pre></td></tr></table></figure>\n<h4 id=\"7，copy-code-to-stream\"><a href=\"#7，copy-code-to-stream\" class=\"headerlink\" title=\"7，copy code to stream\"></a>7，copy code to stream</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ret = avcodec_parameters_from_context(audioStream -&gt; codecpar, enc_ctx);</span><br></pre></td></tr></table></figure>\n"},{"title":"gcc-5.1.0源码安装","abbrlink":2230395924,"date":"2020-04-17T02:15:55.000Z","_content":"\n对于一些源码的编译如poco库，需要的GCC的版本要求比较高，所以需要源码编译GCC、\n\n\n\n### 一，源码下载\n\n~~~\n地址：\nhttps://ftp.gnu.org/gnu/gcc/\ngcc-5.1.0 可以支持C++14\n~~~\n\n\n\n### 二，依赖环境安装\n\n~~~\ncd gcc-5.1.0\n./contrib/download_prerequisites\n~~~\n\n\n\n~~~\nBuilding GCC requires GMP 4.2+, MPFR 2.4.0+ and MPC 0.8.0+\n地址：\nftp://gcc.gnu.org/pub/gcc/infrastructure/\n\nwget ftp://gcc.gnu.org/pub/gcc/infrastructure/gmp-6.1.0.tar.bz2\nwget ftp://gcc.gnu.org/pub/gcc/infrastructure/mpfr-3.1.4.tar.bz2\nwget ftp://gcc.gnu.org/pub/gcc/infrastructure/mpc-1.0.3.tar.gz\n~~~\n\n### 三，依赖解压安装\n\n~~~\n1，安装gmp\ntar -jxvf gmp-6.1.0.tar.bz2\ncd gmp-6.1.0\n./configure\nmake && make install\n\nerror:No usable m4 in $PATH or /usr/5bin\nyum install m4\n\n2,安装mpfr\ntar -jxvf mpfr-3.1.4.tar.bz2\ncd mpfr-3.1.4\n./configure\nmake && make install\n\n3,安装mpc\ntar -zxvf mpc-1.0.3.tar.gz\ncd mpc-1.0.3\n./configure\nmake && make install\n~~~\n\n### 四，源码安装\n\n~~~\n./configure  --enable-checking=release --enable-languages=c,c++ --disable-multilib\nmake \nmake install\n\n#将链接复制\ncp -vf /usr/local/lib64/libstdc++.*  /usr/lib64/\ngcc -v\ngcc version 5.1.0 (GCC)\n~~~\n\n","source":"_posts/gcc-5-1-0源码安装.md","raw":"---\ntitle: gcc-5.1.0源码安装\ncategories: gcc\ntags:\n  - cpp\n  - tools\nabbrlink: 2230395924\ndate: 2020-04-17 10:15:55\n---\n\n对于一些源码的编译如poco库，需要的GCC的版本要求比较高，所以需要源码编译GCC、\n\n\n\n### 一，源码下载\n\n~~~\n地址：\nhttps://ftp.gnu.org/gnu/gcc/\ngcc-5.1.0 可以支持C++14\n~~~\n\n\n\n### 二，依赖环境安装\n\n~~~\ncd gcc-5.1.0\n./contrib/download_prerequisites\n~~~\n\n\n\n~~~\nBuilding GCC requires GMP 4.2+, MPFR 2.4.0+ and MPC 0.8.0+\n地址：\nftp://gcc.gnu.org/pub/gcc/infrastructure/\n\nwget ftp://gcc.gnu.org/pub/gcc/infrastructure/gmp-6.1.0.tar.bz2\nwget ftp://gcc.gnu.org/pub/gcc/infrastructure/mpfr-3.1.4.tar.bz2\nwget ftp://gcc.gnu.org/pub/gcc/infrastructure/mpc-1.0.3.tar.gz\n~~~\n\n### 三，依赖解压安装\n\n~~~\n1，安装gmp\ntar -jxvf gmp-6.1.0.tar.bz2\ncd gmp-6.1.0\n./configure\nmake && make install\n\nerror:No usable m4 in $PATH or /usr/5bin\nyum install m4\n\n2,安装mpfr\ntar -jxvf mpfr-3.1.4.tar.bz2\ncd mpfr-3.1.4\n./configure\nmake && make install\n\n3,安装mpc\ntar -zxvf mpc-1.0.3.tar.gz\ncd mpc-1.0.3\n./configure\nmake && make install\n~~~\n\n### 四，源码安装\n\n~~~\n./configure  --enable-checking=release --enable-languages=c,c++ --disable-multilib\nmake \nmake install\n\n#将链接复制\ncp -vf /usr/local/lib64/libstdc++.*  /usr/lib64/\ngcc -v\ngcc version 5.1.0 (GCC)\n~~~\n\n","slug":"gcc-5-1-0源码安装","published":1,"updated":"2020-05-11T10:02:09.558Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnk4000lggqgwn2e03by","content":"<p>对于一些源码的编译如poco库，需要的GCC的版本要求比较高，所以需要源码编译GCC、</p>\n<h3 id=\"一，源码下载\"><a href=\"#一，源码下载\" class=\"headerlink\" title=\"一，源码下载\"></a>一，源码下载</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">地址：</span><br><span class=\"line\">https://ftp.gnu.org/gnu/gcc/</span><br><span class=\"line\">gcc-5.1.0 可以支持C++14</span><br></pre></td></tr></table></figure>\n<h3 id=\"二，依赖环境安装\"><a href=\"#二，依赖环境安装\" class=\"headerlink\" title=\"二，依赖环境安装\"></a>二，依赖环境安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd gcc-5.1.0</span><br><span class=\"line\">./contrib/download_prerequisites</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Building GCC requires GMP 4.2+, MPFR 2.4.0+ and MPC 0.8.0+</span><br><span class=\"line\">地址：</span><br><span class=\"line\">ftp://gcc.gnu.org/pub/gcc/infrastructure/</span><br><span class=\"line\"></span><br><span class=\"line\">wget ftp://gcc.gnu.org/pub/gcc/infrastructure/gmp-6.1.0.tar.bz2</span><br><span class=\"line\">wget ftp://gcc.gnu.org/pub/gcc/infrastructure/mpfr-3.1.4.tar.bz2</span><br><span class=\"line\">wget ftp://gcc.gnu.org/pub/gcc/infrastructure/mpc-1.0.3.tar.gz</span><br></pre></td></tr></table></figure>\n<h3 id=\"三，依赖解压安装\"><a href=\"#三，依赖解压安装\" class=\"headerlink\" title=\"三，依赖解压安装\"></a>三，依赖解压安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1，安装gmp</span><br><span class=\"line\">tar -jxvf gmp-6.1.0.tar.bz2</span><br><span class=\"line\">cd gmp-6.1.0</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make &amp;&amp; make install</span><br><span class=\"line\"></span><br><span class=\"line\">error:No usable m4 in $PATH or /usr/5bin</span><br><span class=\"line\">yum install m4</span><br><span class=\"line\"></span><br><span class=\"line\">2,安装mpfr</span><br><span class=\"line\">tar -jxvf mpfr-3.1.4.tar.bz2</span><br><span class=\"line\">cd mpfr-3.1.4</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make &amp;&amp; make install</span><br><span class=\"line\"></span><br><span class=\"line\">3,安装mpc</span><br><span class=\"line\">tar -zxvf mpc-1.0.3.tar.gz</span><br><span class=\"line\">cd mpc-1.0.3</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>\n<h3 id=\"四，源码安装\"><a href=\"#四，源码安装\" class=\"headerlink\" title=\"四，源码安装\"></a>四，源码安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./configure  --enable-checking=release --enable-languages=c,c++ --disable-multilib</span><br><span class=\"line\">make </span><br><span class=\"line\">make install</span><br><span class=\"line\"></span><br><span class=\"line\">#将链接复制</span><br><span class=\"line\">cp -vf /usr/local/lib64/libstdc++.*  /usr/lib64/</span><br><span class=\"line\">gcc -v</span><br><span class=\"line\">gcc version 5.1.0 (GCC)</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>对于一些源码的编译如poco库，需要的GCC的版本要求比较高，所以需要源码编译GCC、</p>\n<h3 id=\"一，源码下载\"><a href=\"#一，源码下载\" class=\"headerlink\" title=\"一，源码下载\"></a>一，源码下载</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">地址：</span><br><span class=\"line\">https://ftp.gnu.org/gnu/gcc/</span><br><span class=\"line\">gcc-5.1.0 可以支持C++14</span><br></pre></td></tr></table></figure>\n<h3 id=\"二，依赖环境安装\"><a href=\"#二，依赖环境安装\" class=\"headerlink\" title=\"二，依赖环境安装\"></a>二，依赖环境安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd gcc-5.1.0</span><br><span class=\"line\">./contrib/download_prerequisites</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Building GCC requires GMP 4.2+, MPFR 2.4.0+ and MPC 0.8.0+</span><br><span class=\"line\">地址：</span><br><span class=\"line\">ftp://gcc.gnu.org/pub/gcc/infrastructure/</span><br><span class=\"line\"></span><br><span class=\"line\">wget ftp://gcc.gnu.org/pub/gcc/infrastructure/gmp-6.1.0.tar.bz2</span><br><span class=\"line\">wget ftp://gcc.gnu.org/pub/gcc/infrastructure/mpfr-3.1.4.tar.bz2</span><br><span class=\"line\">wget ftp://gcc.gnu.org/pub/gcc/infrastructure/mpc-1.0.3.tar.gz</span><br></pre></td></tr></table></figure>\n<h3 id=\"三，依赖解压安装\"><a href=\"#三，依赖解压安装\" class=\"headerlink\" title=\"三，依赖解压安装\"></a>三，依赖解压安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1，安装gmp</span><br><span class=\"line\">tar -jxvf gmp-6.1.0.tar.bz2</span><br><span class=\"line\">cd gmp-6.1.0</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make &amp;&amp; make install</span><br><span class=\"line\"></span><br><span class=\"line\">error:No usable m4 in $PATH or /usr/5bin</span><br><span class=\"line\">yum install m4</span><br><span class=\"line\"></span><br><span class=\"line\">2,安装mpfr</span><br><span class=\"line\">tar -jxvf mpfr-3.1.4.tar.bz2</span><br><span class=\"line\">cd mpfr-3.1.4</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make &amp;&amp; make install</span><br><span class=\"line\"></span><br><span class=\"line\">3,安装mpc</span><br><span class=\"line\">tar -zxvf mpc-1.0.3.tar.gz</span><br><span class=\"line\">cd mpc-1.0.3</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>\n<h3 id=\"四，源码安装\"><a href=\"#四，源码安装\" class=\"headerlink\" title=\"四，源码安装\"></a>四，源码安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./configure  --enable-checking=release --enable-languages=c,c++ --disable-multilib</span><br><span class=\"line\">make </span><br><span class=\"line\">make install</span><br><span class=\"line\"></span><br><span class=\"line\">#将链接复制</span><br><span class=\"line\">cp -vf /usr/local/lib64/libstdc++.*  /usr/lib64/</span><br><span class=\"line\">gcc -v</span><br><span class=\"line\">gcc version 5.1.0 (GCC)</span><br></pre></td></tr></table></figure>\n"},{"title":"git-大文件上传管理","abbrlink":3538252460,"date":"2020-05-22T08:32:56.000Z","_content":"\n### git lfs安装和配置\n\ngit lfs 需要客户端支持, 请根据自己的操作系统下载对应的客户端\n\n[git lfs客户端下载](https://git-lfs.github.com/)\n\n`以Centos7为例，下载客户端后运行rpm安装`\n\n~~~\nrpm -i git-lfs-2.2.1-1.el7.x86_64.rpm\ngit lfs install（完成初始化）\n~~~\n\n\n\n### 设置管理的文件类型\n\n~~~\n#压缩包\ngit lfs track *.tar *.tar.gz *.tgz *.zip *.7z\n#图片\ngit lfs track *.jpg *.png *.jpeg *.bmp *.gif *.tiff\n#库\ngit lfs track *.jar *.war *.so *.so.*\n#非文本文档\ngit  lfs  track *.doc *.docx *.ppt *.pptx *.pdf *.xls *.xlsx\n#安装包\ngit  lfs  track *.rpm *.deb *.img *.iso\n~~~\n\n`设置完之后会在项目根目录下出现.gitattributes文件`","source":"_posts/git-大文件上传管理.md","raw":"---\ntitle: git-大文件上传管理\ncategories: git\ntags: git\nabbrlink: 3538252460\ndate: 2020-05-22 16:32:56\n---\n\n### git lfs安装和配置\n\ngit lfs 需要客户端支持, 请根据自己的操作系统下载对应的客户端\n\n[git lfs客户端下载](https://git-lfs.github.com/)\n\n`以Centos7为例，下载客户端后运行rpm安装`\n\n~~~\nrpm -i git-lfs-2.2.1-1.el7.x86_64.rpm\ngit lfs install（完成初始化）\n~~~\n\n\n\n### 设置管理的文件类型\n\n~~~\n#压缩包\ngit lfs track *.tar *.tar.gz *.tgz *.zip *.7z\n#图片\ngit lfs track *.jpg *.png *.jpeg *.bmp *.gif *.tiff\n#库\ngit lfs track *.jar *.war *.so *.so.*\n#非文本文档\ngit  lfs  track *.doc *.docx *.ppt *.pptx *.pdf *.xls *.xlsx\n#安装包\ngit  lfs  track *.rpm *.deb *.img *.iso\n~~~\n\n`设置完之后会在项目根目录下出现.gitattributes文件`","slug":"git-大文件上传管理","published":1,"updated":"2020-05-22T08:46:21.612Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnk7000pggqgp7s8tkml","content":"<h3 id=\"git-lfs安装和配置\"><a href=\"#git-lfs安装和配置\" class=\"headerlink\" title=\"git lfs安装和配置\"></a>git lfs安装和配置</h3><p>git lfs 需要客户端支持, 请根据自己的操作系统下载对应的客户端</p>\n<p><a href=\"https://git-lfs.github.com/\" target=\"_blank\" rel=\"noopener\">git lfs客户端下载</a></p>\n<p><code>以Centos7为例，下载客户端后运行rpm安装</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rpm -i git-lfs-2.2.1-1.el7.x86_64.rpm</span><br><span class=\"line\">git lfs install（完成初始化）</span><br></pre></td></tr></table></figure>\n<h3 id=\"设置管理的文件类型\"><a href=\"#设置管理的文件类型\" class=\"headerlink\" title=\"设置管理的文件类型\"></a>设置管理的文件类型</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#压缩包</span><br><span class=\"line\">git lfs track *.tar *.tar.gz *.tgz *.zip *.7z</span><br><span class=\"line\">#图片</span><br><span class=\"line\">git lfs track *.jpg *.png *.jpeg *.bmp *.gif *.tiff</span><br><span class=\"line\">#库</span><br><span class=\"line\">git lfs track *.jar *.war *.so *.so.*</span><br><span class=\"line\">#非文本文档</span><br><span class=\"line\">git  lfs  track *.doc *.docx *.ppt *.pptx *.pdf *.xls *.xlsx</span><br><span class=\"line\">#安装包</span><br><span class=\"line\">git  lfs  track *.rpm *.deb *.img *.iso</span><br></pre></td></tr></table></figure>\n<p><code>设置完之后会在项目根目录下出现.gitattributes文件</code></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"git-lfs安装和配置\"><a href=\"#git-lfs安装和配置\" class=\"headerlink\" title=\"git lfs安装和配置\"></a>git lfs安装和配置</h3><p>git lfs 需要客户端支持, 请根据自己的操作系统下载对应的客户端</p>\n<p><a href=\"https://git-lfs.github.com/\" target=\"_blank\" rel=\"noopener\">git lfs客户端下载</a></p>\n<p><code>以Centos7为例，下载客户端后运行rpm安装</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rpm -i git-lfs-2.2.1-1.el7.x86_64.rpm</span><br><span class=\"line\">git lfs install（完成初始化）</span><br></pre></td></tr></table></figure>\n<h3 id=\"设置管理的文件类型\"><a href=\"#设置管理的文件类型\" class=\"headerlink\" title=\"设置管理的文件类型\"></a>设置管理的文件类型</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#压缩包</span><br><span class=\"line\">git lfs track *.tar *.tar.gz *.tgz *.zip *.7z</span><br><span class=\"line\">#图片</span><br><span class=\"line\">git lfs track *.jpg *.png *.jpeg *.bmp *.gif *.tiff</span><br><span class=\"line\">#库</span><br><span class=\"line\">git lfs track *.jar *.war *.so *.so.*</span><br><span class=\"line\">#非文本文档</span><br><span class=\"line\">git  lfs  track *.doc *.docx *.ppt *.pptx *.pdf *.xls *.xlsx</span><br><span class=\"line\">#安装包</span><br><span class=\"line\">git  lfs  track *.rpm *.deb *.img *.iso</span><br></pre></td></tr></table></figure>\n<p><code>设置完之后会在项目根目录下出现.gitattributes文件</code></p>\n"},{"title":"git-常用的命令","abbrlink":2063445917,"date":"2019-03-15T08:27:10.000Z","_content":"\n&nbsp;&nbsp;&nbsp;&nbsp;记录一些git常用的命令，便于在长时间不用时能够有个地方查阅，下面的几个是经常用到的。在windows下使用git，许多朋友都说无法使用一些状态（修改，保存，提交）图标，是因为图标显示不是git本身的功能呢，我们需要下载TortoiseGit才能使用图标。\n\n### 重命名文件夹\n```\ngit  mv -f oldfolder newfolder\n```\n\n### 删除中间的某次提交\n```\ngit revert commit id\n```\n\n### 版本回退\n```\ngit reset --hard commitid\n这个不会保留之前的记录\n```\n### 撤销本地提交\n```\ngit reset --soft commitid\ngit reset --mixed commitid\n两者的区别，--soft会将改动放在缓存区 --mixed不会讲改动放在缓存区\n```\n\n### 撤销远程的提交\n```\ngit log\ngit reset --hard commitid\ngit push origin HEAD:master --force\n```\n\n### 强制提交\n```\ngit push -u origin master -f\n```\n\n### 将某个分支的提交copy到另一个分支上\n```\n例如，有两个分支，a,b,想要将a的某次提交，copy到b分支上\n1,在a分支上 git log 查询commitid\n2,git checkout b  切换分支\n3,git cherry-pick commitid\n```\n\n### 统计当前分支的提交数目\n```\ngit rev-list HEAD | wc -l\n```\n### 将当前工作区的修改暂存起来\n```\ngit stash 冻结当前的分支修改\ngit stash save \"说明信息\"\ngit stash list 列出所有的工作现场存储\ngit stash apply stash@{n}  恢复某个工作现场\ngit stash drop stash@{n}  删除存储的某个工作现场\ngit stash pop stash@{n} 恢复的同时把stash内容也删除了\n```\n\n### 解决git clone 项目中某个文件都需要输入密码\n\n~~~\ngit config --global credential.helper store\n~~~\n\n### 删除缓存的远程分支列表\n\n~~~\ngit remote prune origin\nor\ngit fetch -p\n~~~\n\n### 删除新增的多个文件\n\n~~~\ngit clean -xdf\n~~~\n\n","source":"_posts/git-常用的命令.md","raw":"---\ntitle: git-常用的命令\ncategories: git\ntags: git\nabbrlink: 2063445917\ndate: 2019-03-15 16:27:10\n---\n\n&nbsp;&nbsp;&nbsp;&nbsp;记录一些git常用的命令，便于在长时间不用时能够有个地方查阅，下面的几个是经常用到的。在windows下使用git，许多朋友都说无法使用一些状态（修改，保存，提交）图标，是因为图标显示不是git本身的功能呢，我们需要下载TortoiseGit才能使用图标。\n\n### 重命名文件夹\n```\ngit  mv -f oldfolder newfolder\n```\n\n### 删除中间的某次提交\n```\ngit revert commit id\n```\n\n### 版本回退\n```\ngit reset --hard commitid\n这个不会保留之前的记录\n```\n### 撤销本地提交\n```\ngit reset --soft commitid\ngit reset --mixed commitid\n两者的区别，--soft会将改动放在缓存区 --mixed不会讲改动放在缓存区\n```\n\n### 撤销远程的提交\n```\ngit log\ngit reset --hard commitid\ngit push origin HEAD:master --force\n```\n\n### 强制提交\n```\ngit push -u origin master -f\n```\n\n### 将某个分支的提交copy到另一个分支上\n```\n例如，有两个分支，a,b,想要将a的某次提交，copy到b分支上\n1,在a分支上 git log 查询commitid\n2,git checkout b  切换分支\n3,git cherry-pick commitid\n```\n\n### 统计当前分支的提交数目\n```\ngit rev-list HEAD | wc -l\n```\n### 将当前工作区的修改暂存起来\n```\ngit stash 冻结当前的分支修改\ngit stash save \"说明信息\"\ngit stash list 列出所有的工作现场存储\ngit stash apply stash@{n}  恢复某个工作现场\ngit stash drop stash@{n}  删除存储的某个工作现场\ngit stash pop stash@{n} 恢复的同时把stash内容也删除了\n```\n\n### 解决git clone 项目中某个文件都需要输入密码\n\n~~~\ngit config --global credential.helper store\n~~~\n\n### 删除缓存的远程分支列表\n\n~~~\ngit remote prune origin\nor\ngit fetch -p\n~~~\n\n### 删除新增的多个文件\n\n~~~\ngit clean -xdf\n~~~\n\n","slug":"git-常用的命令","published":1,"updated":"2020-05-22T02:10:53.762Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnka000rggqgzi9ufjna","content":"<p>&nbsp;&nbsp;&nbsp;&nbsp;记录一些git常用的命令，便于在长时间不用时能够有个地方查阅，下面的几个是经常用到的。在windows下使用git，许多朋友都说无法使用一些状态（修改，保存，提交）图标，是因为图标显示不是git本身的功能呢，我们需要下载TortoiseGit才能使用图标。</p>\n<h3 id=\"重命名文件夹\"><a href=\"#重命名文件夹\" class=\"headerlink\" title=\"重命名文件夹\"></a>重命名文件夹</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git  mv -f oldfolder newfolder</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除中间的某次提交\"><a href=\"#删除中间的某次提交\" class=\"headerlink\" title=\"删除中间的某次提交\"></a>删除中间的某次提交</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git revert commit id</span><br></pre></td></tr></table></figure>\n<h3 id=\"版本回退\"><a href=\"#版本回退\" class=\"headerlink\" title=\"版本回退\"></a>版本回退</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git reset --hard commitid</span><br><span class=\"line\">这个不会保留之前的记录</span><br></pre></td></tr></table></figure>\n<h3 id=\"撤销本地提交\"><a href=\"#撤销本地提交\" class=\"headerlink\" title=\"撤销本地提交\"></a>撤销本地提交</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git reset --soft commitid</span><br><span class=\"line\">git reset --mixed commitid</span><br><span class=\"line\">两者的区别，--soft会将改动放在缓存区 --mixed不会讲改动放在缓存区</span><br></pre></td></tr></table></figure>\n<h3 id=\"撤销远程的提交\"><a href=\"#撤销远程的提交\" class=\"headerlink\" title=\"撤销远程的提交\"></a>撤销远程的提交</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git log</span><br><span class=\"line\">git reset --hard commitid</span><br><span class=\"line\">git push origin HEAD:master --force</span><br></pre></td></tr></table></figure>\n<h3 id=\"强制提交\"><a href=\"#强制提交\" class=\"headerlink\" title=\"强制提交\"></a>强制提交</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git push -u origin master -f</span><br></pre></td></tr></table></figure>\n<h3 id=\"将某个分支的提交copy到另一个分支上\"><a href=\"#将某个分支的提交copy到另一个分支上\" class=\"headerlink\" title=\"将某个分支的提交copy到另一个分支上\"></a>将某个分支的提交copy到另一个分支上</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">例如，有两个分支，a,b,想要将a的某次提交，copy到b分支上</span><br><span class=\"line\">1,在a分支上 git log 查询commitid</span><br><span class=\"line\">2,git checkout b  切换分支</span><br><span class=\"line\">3,git cherry-pick commitid</span><br></pre></td></tr></table></figure>\n<h3 id=\"统计当前分支的提交数目\"><a href=\"#统计当前分支的提交数目\" class=\"headerlink\" title=\"统计当前分支的提交数目\"></a>统计当前分支的提交数目</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git rev-list HEAD | wc -l</span><br></pre></td></tr></table></figure>\n<h3 id=\"将当前工作区的修改暂存起来\"><a href=\"#将当前工作区的修改暂存起来\" class=\"headerlink\" title=\"将当前工作区的修改暂存起来\"></a>将当前工作区的修改暂存起来</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash 冻结当前的分支修改</span><br><span class=\"line\">git stash save &quot;说明信息&quot;</span><br><span class=\"line\">git stash list 列出所有的工作现场存储</span><br><span class=\"line\">git stash apply stash@&#123;n&#125;  恢复某个工作现场</span><br><span class=\"line\">git stash drop stash@&#123;n&#125;  删除存储的某个工作现场</span><br><span class=\"line\">git stash pop stash@&#123;n&#125; 恢复的同时把stash内容也删除了</span><br></pre></td></tr></table></figure>\n<h3 id=\"解决git-clone-项目中某个文件都需要输入密码\"><a href=\"#解决git-clone-项目中某个文件都需要输入密码\" class=\"headerlink\" title=\"解决git clone 项目中某个文件都需要输入密码\"></a>解决git clone 项目中某个文件都需要输入密码</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global credential.helper store</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除缓存的远程分支列表\"><a href=\"#删除缓存的远程分支列表\" class=\"headerlink\" title=\"删除缓存的远程分支列表\"></a>删除缓存的远程分支列表</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git remote prune origin</span><br><span class=\"line\">or</span><br><span class=\"line\">git fetch -p</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除新增的多个文件\"><a href=\"#删除新增的多个文件\" class=\"headerlink\" title=\"删除新增的多个文件\"></a>删除新增的多个文件</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clean -xdf</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>&nbsp;&nbsp;&nbsp;&nbsp;记录一些git常用的命令，便于在长时间不用时能够有个地方查阅，下面的几个是经常用到的。在windows下使用git，许多朋友都说无法使用一些状态（修改，保存，提交）图标，是因为图标显示不是git本身的功能呢，我们需要下载TortoiseGit才能使用图标。</p>\n<h3 id=\"重命名文件夹\"><a href=\"#重命名文件夹\" class=\"headerlink\" title=\"重命名文件夹\"></a>重命名文件夹</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git  mv -f oldfolder newfolder</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除中间的某次提交\"><a href=\"#删除中间的某次提交\" class=\"headerlink\" title=\"删除中间的某次提交\"></a>删除中间的某次提交</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git revert commit id</span><br></pre></td></tr></table></figure>\n<h3 id=\"版本回退\"><a href=\"#版本回退\" class=\"headerlink\" title=\"版本回退\"></a>版本回退</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git reset --hard commitid</span><br><span class=\"line\">这个不会保留之前的记录</span><br></pre></td></tr></table></figure>\n<h3 id=\"撤销本地提交\"><a href=\"#撤销本地提交\" class=\"headerlink\" title=\"撤销本地提交\"></a>撤销本地提交</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git reset --soft commitid</span><br><span class=\"line\">git reset --mixed commitid</span><br><span class=\"line\">两者的区别，--soft会将改动放在缓存区 --mixed不会讲改动放在缓存区</span><br></pre></td></tr></table></figure>\n<h3 id=\"撤销远程的提交\"><a href=\"#撤销远程的提交\" class=\"headerlink\" title=\"撤销远程的提交\"></a>撤销远程的提交</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git log</span><br><span class=\"line\">git reset --hard commitid</span><br><span class=\"line\">git push origin HEAD:master --force</span><br></pre></td></tr></table></figure>\n<h3 id=\"强制提交\"><a href=\"#强制提交\" class=\"headerlink\" title=\"强制提交\"></a>强制提交</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git push -u origin master -f</span><br></pre></td></tr></table></figure>\n<h3 id=\"将某个分支的提交copy到另一个分支上\"><a href=\"#将某个分支的提交copy到另一个分支上\" class=\"headerlink\" title=\"将某个分支的提交copy到另一个分支上\"></a>将某个分支的提交copy到另一个分支上</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">例如，有两个分支，a,b,想要将a的某次提交，copy到b分支上</span><br><span class=\"line\">1,在a分支上 git log 查询commitid</span><br><span class=\"line\">2,git checkout b  切换分支</span><br><span class=\"line\">3,git cherry-pick commitid</span><br></pre></td></tr></table></figure>\n<h3 id=\"统计当前分支的提交数目\"><a href=\"#统计当前分支的提交数目\" class=\"headerlink\" title=\"统计当前分支的提交数目\"></a>统计当前分支的提交数目</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git rev-list HEAD | wc -l</span><br></pre></td></tr></table></figure>\n<h3 id=\"将当前工作区的修改暂存起来\"><a href=\"#将当前工作区的修改暂存起来\" class=\"headerlink\" title=\"将当前工作区的修改暂存起来\"></a>将当前工作区的修改暂存起来</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git stash 冻结当前的分支修改</span><br><span class=\"line\">git stash save &quot;说明信息&quot;</span><br><span class=\"line\">git stash list 列出所有的工作现场存储</span><br><span class=\"line\">git stash apply stash@&#123;n&#125;  恢复某个工作现场</span><br><span class=\"line\">git stash drop stash@&#123;n&#125;  删除存储的某个工作现场</span><br><span class=\"line\">git stash pop stash@&#123;n&#125; 恢复的同时把stash内容也删除了</span><br></pre></td></tr></table></figure>\n<h3 id=\"解决git-clone-项目中某个文件都需要输入密码\"><a href=\"#解决git-clone-项目中某个文件都需要输入密码\" class=\"headerlink\" title=\"解决git clone 项目中某个文件都需要输入密码\"></a>解决git clone 项目中某个文件都需要输入密码</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global credential.helper store</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除缓存的远程分支列表\"><a href=\"#删除缓存的远程分支列表\" class=\"headerlink\" title=\"删除缓存的远程分支列表\"></a>删除缓存的远程分支列表</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git remote prune origin</span><br><span class=\"line\">or</span><br><span class=\"line\">git fetch -p</span><br></pre></td></tr></table></figure>\n<h3 id=\"删除新增的多个文件\"><a href=\"#删除新增的多个文件\" class=\"headerlink\" title=\"删除新增的多个文件\"></a>删除新增的多个文件</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clean -xdf</span><br></pre></td></tr></table></figure>\n"},{"title":"grpc编译","abbrlink":1473358207,"date":"2020-01-14T10:54:12.000Z","_content":"\n~~~\n环境 centos7\n~~~\n\n## 一，安装编译依赖的环境\n\n~~~\nyum install -y pkgconfig autoconf automake libtool make gcc-c++ unzip\nyum install -y gflags-devel gtest-devel clang libcxx-devel\nyum install -y openssl  openssl-devel\nyum install -y  libunwind libunwind-devel\nyum install -y epel-release\nyum install -y golang\n~~~\n\n\n\n## 二，源码下载\n\n~~~\ngit clone https://github.com/grpc/grpc.git\ncd grpc\ngit submodule update --init\n\n~~~\n\n## 三，编译\n\n#### 1，编译cmake\n\n~~~\n需要下载cmake高级版本，yum安装的版本太低\nhttps://cmake.org/download/\n源码安装cmake，\n（1）删除原来版本的cmake\n（2）./configure\n（3）make && make install\n如果找不到，则创建软链接\nln -s /usr/local/bin/cmake /usr/bin/cmake\n~~~\n\n#### 2，先编译protobuf\n\n~~~\ncd third_party/protobuf\ngit submodule update --init --recursive\n./autogen.sh\n./configure --prefix=/usr/local/helios/protobuf\nmake \nmake check\nmake install\n2,建立软链接\nln -s /usr/local/helios/protobuf/bin/protoc /usr/local/bin/protoc\n检测是否安装成功\nprotoc --version\n~~~\n\n\n\n#### 3，编译grpc（cmake)\n\n~~~\ncd grpc\nmkdir -p  cmake/build\ncmake -DBUILD_SHARED_LIBS=on -DCMAKE_INSTALL_PREFIX=/usr/local/helios/grpc -DCMAKE_BUILD_TYPE=DEBUG -Wno-dev ../../\nmake\nmake install\n~~~\n\n#### 4，编译（make,不建议使用）\n\n~~~\n2,编译grpc\ncd grpc根目录\nmake -j 4\nmake install\n~~~\n\n#### 5，问题\n\n~~~\n对于cpp的使用，当编译好了之后，运行helloworld程序，没有响应，有很大的问题\nhttps://github.com/grpc/grpc/issues/21280#issuecomment-558164977\n\n解决方法：修改源码（不使用）\nvim / src / core / lib / surface / init.cc\n\ndiff --git a/src/core/lib/surface/init.cc b/src/core/lib/surface/init.cc\nindex 2812427f7a..3c6a547b20 100644\n--- a/src/core/lib/surface/init.cc\n+++ b/src/core/lib/surface/init.cc\n@@ -156,7 +156,7 @@ void grpc_init(void) {\n      * at the appropriate time */\n     grpc_register_security_filters();\n     register_builtin_channel_init();\n-    grpc_tracer_init();将源码中的这个给注销\n+    // grpc_tracer_init();\n     /* no more changes to channel init pipelines */\n     grpc_channel_init_finalize();\n     grpc_iomgr_start();\n     \n修改源码：\nvim src/core/lib/debug/trace.cc\n void TraceFlagList::Add(TraceFlag* flag) {\n+  TraceFlag* t;\n+  for (t = root_tracer_; t; t = t -> next_tracer_) {\n+       if (t == flag ) return;\n+  }\n   flag->next_tracer_ = root_tracer_;\n   root_tracer_ = flag;\n遍历链表，如果存在则不加入\n~~~\n\n#### 6，运行helloworld程序\n\n~~~\ncd examples/cpp/helloworld\nmake\n\n出现问题：\nwhich: no grpc_cpp_plugin in (/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin)\n因为自己配置的路径，所以先给grpc_cpp_plugin  建立软连接\nln -s /usr/local/helios/grpc/bin/grpc_cpp_plugin   /usr/local/bin/grpc_cpp_plugin\n\n\nhelloworld.pb.h:10:40: fatal error: google/protobuf/port_def.inc: No such file or directory\n配置cpp头文件路径\nexport CPLUS_INCLUDE_PATH=$CPLUS_INCLUDE_PATH:/usr/local/helios/grpc/include\n\n\nPackage protobuf was not found in the pkg-config search path.\nPerhaps you should add the directory containing `protobuf.pc'\nto the PKG_CONFIG_PATH environment variable\nNo package 'protobuf' found\nPackage grpc was not found in the pkg-config search path.\nPerhaps you should add the directory containing `grpc.pc'\nto the PKG_CONFIG_PATH environment variable\nNo package 'grpc' found\n配置pkgconfig搜索路径\nexport PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/usr/local/helios/protobuf/lib/pkgconfig/:/usr/local/helios/grpc/lib/pkgconfig/\n\nerror while loading shared libraries: libgrpc_plugin_support.so.1: cannot open shared object file\n配置cpp动态库搜索路径\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/helios/grpc/lib/:/usr/local/helios/grpc/lib64/:/usr/local/helios/protobuf/lib\n~~~\n\n","source":"_posts/grpc编译.md","raw":"---\ntitle: grpc编译\ncategories: grpc\ntags:\n  - grpc\n  - centos7\nabbrlink: 1473358207\ndate: 2020-01-14 18:54:12\n---\n\n~~~\n环境 centos7\n~~~\n\n## 一，安装编译依赖的环境\n\n~~~\nyum install -y pkgconfig autoconf automake libtool make gcc-c++ unzip\nyum install -y gflags-devel gtest-devel clang libcxx-devel\nyum install -y openssl  openssl-devel\nyum install -y  libunwind libunwind-devel\nyum install -y epel-release\nyum install -y golang\n~~~\n\n\n\n## 二，源码下载\n\n~~~\ngit clone https://github.com/grpc/grpc.git\ncd grpc\ngit submodule update --init\n\n~~~\n\n## 三，编译\n\n#### 1，编译cmake\n\n~~~\n需要下载cmake高级版本，yum安装的版本太低\nhttps://cmake.org/download/\n源码安装cmake，\n（1）删除原来版本的cmake\n（2）./configure\n（3）make && make install\n如果找不到，则创建软链接\nln -s /usr/local/bin/cmake /usr/bin/cmake\n~~~\n\n#### 2，先编译protobuf\n\n~~~\ncd third_party/protobuf\ngit submodule update --init --recursive\n./autogen.sh\n./configure --prefix=/usr/local/helios/protobuf\nmake \nmake check\nmake install\n2,建立软链接\nln -s /usr/local/helios/protobuf/bin/protoc /usr/local/bin/protoc\n检测是否安装成功\nprotoc --version\n~~~\n\n\n\n#### 3，编译grpc（cmake)\n\n~~~\ncd grpc\nmkdir -p  cmake/build\ncmake -DBUILD_SHARED_LIBS=on -DCMAKE_INSTALL_PREFIX=/usr/local/helios/grpc -DCMAKE_BUILD_TYPE=DEBUG -Wno-dev ../../\nmake\nmake install\n~~~\n\n#### 4，编译（make,不建议使用）\n\n~~~\n2,编译grpc\ncd grpc根目录\nmake -j 4\nmake install\n~~~\n\n#### 5，问题\n\n~~~\n对于cpp的使用，当编译好了之后，运行helloworld程序，没有响应，有很大的问题\nhttps://github.com/grpc/grpc/issues/21280#issuecomment-558164977\n\n解决方法：修改源码（不使用）\nvim / src / core / lib / surface / init.cc\n\ndiff --git a/src/core/lib/surface/init.cc b/src/core/lib/surface/init.cc\nindex 2812427f7a..3c6a547b20 100644\n--- a/src/core/lib/surface/init.cc\n+++ b/src/core/lib/surface/init.cc\n@@ -156,7 +156,7 @@ void grpc_init(void) {\n      * at the appropriate time */\n     grpc_register_security_filters();\n     register_builtin_channel_init();\n-    grpc_tracer_init();将源码中的这个给注销\n+    // grpc_tracer_init();\n     /* no more changes to channel init pipelines */\n     grpc_channel_init_finalize();\n     grpc_iomgr_start();\n     \n修改源码：\nvim src/core/lib/debug/trace.cc\n void TraceFlagList::Add(TraceFlag* flag) {\n+  TraceFlag* t;\n+  for (t = root_tracer_; t; t = t -> next_tracer_) {\n+       if (t == flag ) return;\n+  }\n   flag->next_tracer_ = root_tracer_;\n   root_tracer_ = flag;\n遍历链表，如果存在则不加入\n~~~\n\n#### 6，运行helloworld程序\n\n~~~\ncd examples/cpp/helloworld\nmake\n\n出现问题：\nwhich: no grpc_cpp_plugin in (/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin)\n因为自己配置的路径，所以先给grpc_cpp_plugin  建立软连接\nln -s /usr/local/helios/grpc/bin/grpc_cpp_plugin   /usr/local/bin/grpc_cpp_plugin\n\n\nhelloworld.pb.h:10:40: fatal error: google/protobuf/port_def.inc: No such file or directory\n配置cpp头文件路径\nexport CPLUS_INCLUDE_PATH=$CPLUS_INCLUDE_PATH:/usr/local/helios/grpc/include\n\n\nPackage protobuf was not found in the pkg-config search path.\nPerhaps you should add the directory containing `protobuf.pc'\nto the PKG_CONFIG_PATH environment variable\nNo package 'protobuf' found\nPackage grpc was not found in the pkg-config search path.\nPerhaps you should add the directory containing `grpc.pc'\nto the PKG_CONFIG_PATH environment variable\nNo package 'grpc' found\n配置pkgconfig搜索路径\nexport PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/usr/local/helios/protobuf/lib/pkgconfig/:/usr/local/helios/grpc/lib/pkgconfig/\n\nerror while loading shared libraries: libgrpc_plugin_support.so.1: cannot open shared object file\n配置cpp动态库搜索路径\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/helios/grpc/lib/:/usr/local/helios/grpc/lib64/:/usr/local/helios/protobuf/lib\n~~~\n\n","slug":"grpc编译","published":1,"updated":"2020-05-11T10:02:09.559Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnko000vggqgead7oue9","content":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">环境 centos7</span><br></pre></td></tr></table></figure>\n<h2 id=\"一，安装编译依赖的环境\"><a href=\"#一，安装编译依赖的环境\" class=\"headerlink\" title=\"一，安装编译依赖的环境\"></a>一，安装编译依赖的环境</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y pkgconfig autoconf automake libtool make gcc-c++ unzip</span><br><span class=\"line\">yum install -y gflags-devel gtest-devel clang libcxx-devel</span><br><span class=\"line\">yum install -y openssl  openssl-devel</span><br><span class=\"line\">yum install -y  libunwind libunwind-devel</span><br><span class=\"line\">yum install -y epel-release</span><br><span class=\"line\">yum install -y golang</span><br></pre></td></tr></table></figure>\n<h2 id=\"二，源码下载\"><a href=\"#二，源码下载\" class=\"headerlink\" title=\"二，源码下载\"></a>二，源码下载</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/grpc/grpc.git</span><br><span class=\"line\">cd grpc</span><br><span class=\"line\">git submodule update --init</span><br></pre></td></tr></table></figure>\n<h2 id=\"三，编译\"><a href=\"#三，编译\" class=\"headerlink\" title=\"三，编译\"></a>三，编译</h2><h4 id=\"1，编译cmake\"><a href=\"#1，编译cmake\" class=\"headerlink\" title=\"1，编译cmake\"></a>1，编译cmake</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">需要下载cmake高级版本，yum安装的版本太低</span><br><span class=\"line\">https://cmake.org/download/</span><br><span class=\"line\">源码安装cmake，</span><br><span class=\"line\">（1）删除原来版本的cmake</span><br><span class=\"line\">（2）./configure</span><br><span class=\"line\">（3）make &amp;&amp; make install</span><br><span class=\"line\">如果找不到，则创建软链接</span><br><span class=\"line\">ln -s /usr/local/bin/cmake /usr/bin/cmake</span><br></pre></td></tr></table></figure>\n<h4 id=\"2，先编译protobuf\"><a href=\"#2，先编译protobuf\" class=\"headerlink\" title=\"2，先编译protobuf\"></a>2，先编译protobuf</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd third_party/protobuf</span><br><span class=\"line\">git submodule update --init --recursive</span><br><span class=\"line\">./autogen.sh</span><br><span class=\"line\">./configure --prefix=/usr/local/helios/protobuf</span><br><span class=\"line\">make </span><br><span class=\"line\">make check</span><br><span class=\"line\">make install</span><br><span class=\"line\">2,建立软链接</span><br><span class=\"line\">ln -s /usr/local/helios/protobuf/bin/protoc /usr/local/bin/protoc</span><br><span class=\"line\">检测是否安装成功</span><br><span class=\"line\">protoc --version</span><br></pre></td></tr></table></figure>\n<h4 id=\"3，编译grpc（cmake\"><a href=\"#3，编译grpc（cmake\" class=\"headerlink\" title=\"3，编译grpc（cmake)\"></a>3，编译grpc（cmake)</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd grpc</span><br><span class=\"line\">mkdir -p  cmake/build</span><br><span class=\"line\">cmake -DBUILD_SHARED_LIBS=on -DCMAKE_INSTALL_PREFIX=/usr/local/helios/grpc -DCMAKE_BUILD_TYPE=DEBUG -Wno-dev ../../</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"4，编译（make-不建议使用）\"><a href=\"#4，编译（make-不建议使用）\" class=\"headerlink\" title=\"4，编译（make,不建议使用）\"></a>4，编译（make,不建议使用）</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2,编译grpc</span><br><span class=\"line\">cd grpc根目录</span><br><span class=\"line\">make -j 4</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"5，问题\"><a href=\"#5，问题\" class=\"headerlink\" title=\"5，问题\"></a>5，问题</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">对于cpp的使用，当编译好了之后，运行helloworld程序，没有响应，有很大的问题</span><br><span class=\"line\">https://github.com/grpc/grpc/issues/21280#issuecomment-558164977</span><br><span class=\"line\"></span><br><span class=\"line\">解决方法：修改源码（不使用）</span><br><span class=\"line\">vim / src / core / lib / surface / init.cc</span><br><span class=\"line\"></span><br><span class=\"line\">diff --git a/src/core/lib/surface/init.cc b/src/core/lib/surface/init.cc</span><br><span class=\"line\">index 2812427f7a..3c6a547b20 100644</span><br><span class=\"line\">--- a/src/core/lib/surface/init.cc</span><br><span class=\"line\">+++ b/src/core/lib/surface/init.cc</span><br><span class=\"line\">@@ -156,7 +156,7 @@ void grpc_init(void) &#123;</span><br><span class=\"line\">      * at the appropriate time */</span><br><span class=\"line\">     grpc_register_security_filters();</span><br><span class=\"line\">     register_builtin_channel_init();</span><br><span class=\"line\">-    grpc_tracer_init();将源码中的这个给注销</span><br><span class=\"line\">+    // grpc_tracer_init();</span><br><span class=\"line\">     /* no more changes to channel init pipelines */</span><br><span class=\"line\">     grpc_channel_init_finalize();</span><br><span class=\"line\">     grpc_iomgr_start();</span><br><span class=\"line\">     </span><br><span class=\"line\">修改源码：</span><br><span class=\"line\">vim src/core/lib/debug/trace.cc</span><br><span class=\"line\"> void TraceFlagList::Add(TraceFlag* flag) &#123;</span><br><span class=\"line\">+  TraceFlag* t;</span><br><span class=\"line\">+  for (t = root_tracer_; t; t = t -&gt; next_tracer_) &#123;</span><br><span class=\"line\">+       if (t == flag ) return;</span><br><span class=\"line\">+  &#125;</span><br><span class=\"line\">   flag-&gt;next_tracer_ = root_tracer_;</span><br><span class=\"line\">   root_tracer_ = flag;</span><br><span class=\"line\">遍历链表，如果存在则不加入</span><br></pre></td></tr></table></figure>\n<h4 id=\"6，运行helloworld程序\"><a href=\"#6，运行helloworld程序\" class=\"headerlink\" title=\"6，运行helloworld程序\"></a>6，运行helloworld程序</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd examples/cpp/helloworld</span><br><span class=\"line\">make</span><br><span class=\"line\"></span><br><span class=\"line\">出现问题：</span><br><span class=\"line\">which: no grpc_cpp_plugin in (/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin)</span><br><span class=\"line\">因为自己配置的路径，所以先给grpc_cpp_plugin  建立软连接</span><br><span class=\"line\">ln -s /usr/local/helios/grpc/bin/grpc_cpp_plugin   /usr/local/bin/grpc_cpp_plugin</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">helloworld.pb.h:10:40: fatal error: google/protobuf/port_def.inc: No such file or directory</span><br><span class=\"line\">配置cpp头文件路径</span><br><span class=\"line\">export CPLUS_INCLUDE_PATH=$CPLUS_INCLUDE_PATH:/usr/local/helios/grpc/include</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Package protobuf was not found in the pkg-config search path.</span><br><span class=\"line\">Perhaps you should add the directory containing `protobuf.pc&apos;</span><br><span class=\"line\">to the PKG_CONFIG_PATH environment variable</span><br><span class=\"line\">No package &apos;protobuf&apos; found</span><br><span class=\"line\">Package grpc was not found in the pkg-config search path.</span><br><span class=\"line\">Perhaps you should add the directory containing `grpc.pc&apos;</span><br><span class=\"line\">to the PKG_CONFIG_PATH environment variable</span><br><span class=\"line\">No package &apos;grpc&apos; found</span><br><span class=\"line\">配置pkgconfig搜索路径</span><br><span class=\"line\">export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/usr/local/helios/protobuf/lib/pkgconfig/:/usr/local/helios/grpc/lib/pkgconfig/</span><br><span class=\"line\"></span><br><span class=\"line\">error while loading shared libraries: libgrpc_plugin_support.so.1: cannot open shared object file</span><br><span class=\"line\">配置cpp动态库搜索路径</span><br><span class=\"line\">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/helios/grpc/lib/:/usr/local/helios/grpc/lib64/:/usr/local/helios/protobuf/lib</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">环境 centos7</span><br></pre></td></tr></table></figure>\n<h2 id=\"一，安装编译依赖的环境\"><a href=\"#一，安装编译依赖的环境\" class=\"headerlink\" title=\"一，安装编译依赖的环境\"></a>一，安装编译依赖的环境</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y pkgconfig autoconf automake libtool make gcc-c++ unzip</span><br><span class=\"line\">yum install -y gflags-devel gtest-devel clang libcxx-devel</span><br><span class=\"line\">yum install -y openssl  openssl-devel</span><br><span class=\"line\">yum install -y  libunwind libunwind-devel</span><br><span class=\"line\">yum install -y epel-release</span><br><span class=\"line\">yum install -y golang</span><br></pre></td></tr></table></figure>\n<h2 id=\"二，源码下载\"><a href=\"#二，源码下载\" class=\"headerlink\" title=\"二，源码下载\"></a>二，源码下载</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/grpc/grpc.git</span><br><span class=\"line\">cd grpc</span><br><span class=\"line\">git submodule update --init</span><br></pre></td></tr></table></figure>\n<h2 id=\"三，编译\"><a href=\"#三，编译\" class=\"headerlink\" title=\"三，编译\"></a>三，编译</h2><h4 id=\"1，编译cmake\"><a href=\"#1，编译cmake\" class=\"headerlink\" title=\"1，编译cmake\"></a>1，编译cmake</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">需要下载cmake高级版本，yum安装的版本太低</span><br><span class=\"line\">https://cmake.org/download/</span><br><span class=\"line\">源码安装cmake，</span><br><span class=\"line\">（1）删除原来版本的cmake</span><br><span class=\"line\">（2）./configure</span><br><span class=\"line\">（3）make &amp;&amp; make install</span><br><span class=\"line\">如果找不到，则创建软链接</span><br><span class=\"line\">ln -s /usr/local/bin/cmake /usr/bin/cmake</span><br></pre></td></tr></table></figure>\n<h4 id=\"2，先编译protobuf\"><a href=\"#2，先编译protobuf\" class=\"headerlink\" title=\"2，先编译protobuf\"></a>2，先编译protobuf</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd third_party/protobuf</span><br><span class=\"line\">git submodule update --init --recursive</span><br><span class=\"line\">./autogen.sh</span><br><span class=\"line\">./configure --prefix=/usr/local/helios/protobuf</span><br><span class=\"line\">make </span><br><span class=\"line\">make check</span><br><span class=\"line\">make install</span><br><span class=\"line\">2,建立软链接</span><br><span class=\"line\">ln -s /usr/local/helios/protobuf/bin/protoc /usr/local/bin/protoc</span><br><span class=\"line\">检测是否安装成功</span><br><span class=\"line\">protoc --version</span><br></pre></td></tr></table></figure>\n<h4 id=\"3，编译grpc（cmake\"><a href=\"#3，编译grpc（cmake\" class=\"headerlink\" title=\"3，编译grpc（cmake)\"></a>3，编译grpc（cmake)</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd grpc</span><br><span class=\"line\">mkdir -p  cmake/build</span><br><span class=\"line\">cmake -DBUILD_SHARED_LIBS=on -DCMAKE_INSTALL_PREFIX=/usr/local/helios/grpc -DCMAKE_BUILD_TYPE=DEBUG -Wno-dev ../../</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"4，编译（make-不建议使用）\"><a href=\"#4，编译（make-不建议使用）\" class=\"headerlink\" title=\"4，编译（make,不建议使用）\"></a>4，编译（make,不建议使用）</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">2,编译grpc</span><br><span class=\"line\">cd grpc根目录</span><br><span class=\"line\">make -j 4</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"5，问题\"><a href=\"#5，问题\" class=\"headerlink\" title=\"5，问题\"></a>5，问题</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">对于cpp的使用，当编译好了之后，运行helloworld程序，没有响应，有很大的问题</span><br><span class=\"line\">https://github.com/grpc/grpc/issues/21280#issuecomment-558164977</span><br><span class=\"line\"></span><br><span class=\"line\">解决方法：修改源码（不使用）</span><br><span class=\"line\">vim / src / core / lib / surface / init.cc</span><br><span class=\"line\"></span><br><span class=\"line\">diff --git a/src/core/lib/surface/init.cc b/src/core/lib/surface/init.cc</span><br><span class=\"line\">index 2812427f7a..3c6a547b20 100644</span><br><span class=\"line\">--- a/src/core/lib/surface/init.cc</span><br><span class=\"line\">+++ b/src/core/lib/surface/init.cc</span><br><span class=\"line\">@@ -156,7 +156,7 @@ void grpc_init(void) &#123;</span><br><span class=\"line\">      * at the appropriate time */</span><br><span class=\"line\">     grpc_register_security_filters();</span><br><span class=\"line\">     register_builtin_channel_init();</span><br><span class=\"line\">-    grpc_tracer_init();将源码中的这个给注销</span><br><span class=\"line\">+    // grpc_tracer_init();</span><br><span class=\"line\">     /* no more changes to channel init pipelines */</span><br><span class=\"line\">     grpc_channel_init_finalize();</span><br><span class=\"line\">     grpc_iomgr_start();</span><br><span class=\"line\">     </span><br><span class=\"line\">修改源码：</span><br><span class=\"line\">vim src/core/lib/debug/trace.cc</span><br><span class=\"line\"> void TraceFlagList::Add(TraceFlag* flag) &#123;</span><br><span class=\"line\">+  TraceFlag* t;</span><br><span class=\"line\">+  for (t = root_tracer_; t; t = t -&gt; next_tracer_) &#123;</span><br><span class=\"line\">+       if (t == flag ) return;</span><br><span class=\"line\">+  &#125;</span><br><span class=\"line\">   flag-&gt;next_tracer_ = root_tracer_;</span><br><span class=\"line\">   root_tracer_ = flag;</span><br><span class=\"line\">遍历链表，如果存在则不加入</span><br></pre></td></tr></table></figure>\n<h4 id=\"6，运行helloworld程序\"><a href=\"#6，运行helloworld程序\" class=\"headerlink\" title=\"6，运行helloworld程序\"></a>6，运行helloworld程序</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd examples/cpp/helloworld</span><br><span class=\"line\">make</span><br><span class=\"line\"></span><br><span class=\"line\">出现问题：</span><br><span class=\"line\">which: no grpc_cpp_plugin in (/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin)</span><br><span class=\"line\">因为自己配置的路径，所以先给grpc_cpp_plugin  建立软连接</span><br><span class=\"line\">ln -s /usr/local/helios/grpc/bin/grpc_cpp_plugin   /usr/local/bin/grpc_cpp_plugin</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">helloworld.pb.h:10:40: fatal error: google/protobuf/port_def.inc: No such file or directory</span><br><span class=\"line\">配置cpp头文件路径</span><br><span class=\"line\">export CPLUS_INCLUDE_PATH=$CPLUS_INCLUDE_PATH:/usr/local/helios/grpc/include</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">Package protobuf was not found in the pkg-config search path.</span><br><span class=\"line\">Perhaps you should add the directory containing `protobuf.pc&apos;</span><br><span class=\"line\">to the PKG_CONFIG_PATH environment variable</span><br><span class=\"line\">No package &apos;protobuf&apos; found</span><br><span class=\"line\">Package grpc was not found in the pkg-config search path.</span><br><span class=\"line\">Perhaps you should add the directory containing `grpc.pc&apos;</span><br><span class=\"line\">to the PKG_CONFIG_PATH environment variable</span><br><span class=\"line\">No package &apos;grpc&apos; found</span><br><span class=\"line\">配置pkgconfig搜索路径</span><br><span class=\"line\">export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/usr/local/helios/protobuf/lib/pkgconfig/:/usr/local/helios/grpc/lib/pkgconfig/</span><br><span class=\"line\"></span><br><span class=\"line\">error while loading shared libraries: libgrpc_plugin_support.so.1: cannot open shared object file</span><br><span class=\"line\">配置cpp动态库搜索路径</span><br><span class=\"line\">export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/helios/grpc/lib/:/usr/local/helios/grpc/lib64/:/usr/local/helios/protobuf/lib</span><br></pre></td></tr></table></figure>\n"},{"title":"Hello World","abbrlink":1243066710,"_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\nabbrlink: 1243066710\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n","slug":"hello-world","published":1,"date":"2020-05-11T10:02:09.559Z","updated":"2020-05-11T10:02:09.559Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnkr000wggqg80dd5lix","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n"},{"title":"hexo-gulp压缩","abbrlink":2127593710,"date":"2020-05-25T02:21:08.000Z","_content":"\n### 插件安装\n\n~~~\n#全局安装\nnpm install gulp -g\n#站点目录安装\nnpm install gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify --save\n\n~~~\n\n在这里说明一下，使用该工具可以压缩 HTML、CSS、JavaScript 文件，但我并没有压缩 JavaScript 文件，因为有很大的概率会报错，实际也并不需要压缩，因为大部分 JavaScript 都已压缩过。\n\n如果你也考虑不压缩 JavaScript 文件，可以选择不安装 `gulp-uglify`。\n\n### gulpfile.js\n\n在站点文件夹的根目录下，新建一个文件。命名为gulpfile.js\n\n~~~\nvar gulp = require('gulp');\n\n// Plugins 模块获取\nvar minifycss = require('gulp-minify-css');\nvar uglify = require('gulp-uglify');\nvar htmlmin = require('gulp-htmlmin');\nvar htmlclean = require('gulp-htmlclean');\n\n// 压缩 css\ngulp.task('minify-css', function () {\n\treturn gulp.src('./public/**/*.css')\n\t\t.pipe(minifycss())\n\t\t.pipe(gulp.dest('./public'));\n});\n\n// 压缩 html\ngulp.task('minify-html', function () {\n\treturn gulp.src('./public/**/*.html')\n\t\t.pipe(htmlclean())\n\t\t.pipe(htmlmin({\n\t\t\tremoveComments: true,\n\t\t\tminifyJS: true,\n\t\t\tminifyCSS: true,\n\t\t\tminifyURLs: true,\n\t\t}))\n\t\t.pipe(gulp.dest('./public'))\n});\n\n// 压缩 js 不压缩 min.js\ngulp.task('minify-js', function () {\n\treturn gulp.src(['./public/**/*.js', '!./public/**/*.min.js'])\n\t\t.pipe(uglify())\n\t\t.pipe(gulp.dest('./public'));\n});\n\n// 4.0 以前的写法 \n// gulp.task('default', [\n  //   'minify-html', 'minify-css', 'minify-js'\n// ]);\n\n// 4.0 以后的写法\n// 执行 gulp 命令时执行的任务\ngulp.task('default', gulp.parallel('minify-html', 'minify-css', 'minify-js'));\n\n~~~\n\n`如果不压缩 JavaScript 文件，则将上述代码中有关 `minify-js` 的代码删除即可`\n\n\n\n### 运行结果\n\n~~~\n[10:24:57] Starting 'default'...\n[10:24:57] Starting 'minify-html'...\n[10:24:57] Starting 'minify-css'...\n[10:24:57] Starting 'minify-js'...\n[10:25:05] Finished 'minify-css' after 8.3 s\n[10:25:05] Finished 'minify-js' after 8.49 s\n[10:25:09] Finished 'minify-html' after 12 s\n[10:25:09] Finished 'default' after 12 s\n\n~~~\n\n","source":"_posts/hexo-gulp压缩.md","raw":"---\ntitle: hexo-gulp压缩\ncategories: hexo\ntags:\n  - hexo\n  - gulp\nabbrlink: 2127593710\ndate: 2020-05-25 10:21:08\n---\n\n### 插件安装\n\n~~~\n#全局安装\nnpm install gulp -g\n#站点目录安装\nnpm install gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify --save\n\n~~~\n\n在这里说明一下，使用该工具可以压缩 HTML、CSS、JavaScript 文件，但我并没有压缩 JavaScript 文件，因为有很大的概率会报错，实际也并不需要压缩，因为大部分 JavaScript 都已压缩过。\n\n如果你也考虑不压缩 JavaScript 文件，可以选择不安装 `gulp-uglify`。\n\n### gulpfile.js\n\n在站点文件夹的根目录下，新建一个文件。命名为gulpfile.js\n\n~~~\nvar gulp = require('gulp');\n\n// Plugins 模块获取\nvar minifycss = require('gulp-minify-css');\nvar uglify = require('gulp-uglify');\nvar htmlmin = require('gulp-htmlmin');\nvar htmlclean = require('gulp-htmlclean');\n\n// 压缩 css\ngulp.task('minify-css', function () {\n\treturn gulp.src('./public/**/*.css')\n\t\t.pipe(minifycss())\n\t\t.pipe(gulp.dest('./public'));\n});\n\n// 压缩 html\ngulp.task('minify-html', function () {\n\treturn gulp.src('./public/**/*.html')\n\t\t.pipe(htmlclean())\n\t\t.pipe(htmlmin({\n\t\t\tremoveComments: true,\n\t\t\tminifyJS: true,\n\t\t\tminifyCSS: true,\n\t\t\tminifyURLs: true,\n\t\t}))\n\t\t.pipe(gulp.dest('./public'))\n});\n\n// 压缩 js 不压缩 min.js\ngulp.task('minify-js', function () {\n\treturn gulp.src(['./public/**/*.js', '!./public/**/*.min.js'])\n\t\t.pipe(uglify())\n\t\t.pipe(gulp.dest('./public'));\n});\n\n// 4.0 以前的写法 \n// gulp.task('default', [\n  //   'minify-html', 'minify-css', 'minify-js'\n// ]);\n\n// 4.0 以后的写法\n// 执行 gulp 命令时执行的任务\ngulp.task('default', gulp.parallel('minify-html', 'minify-css', 'minify-js'));\n\n~~~\n\n`如果不压缩 JavaScript 文件，则将上述代码中有关 `minify-js` 的代码删除即可`\n\n\n\n### 运行结果\n\n~~~\n[10:24:57] Starting 'default'...\n[10:24:57] Starting 'minify-html'...\n[10:24:57] Starting 'minify-css'...\n[10:24:57] Starting 'minify-js'...\n[10:25:05] Finished 'minify-css' after 8.3 s\n[10:25:05] Finished 'minify-js' after 8.49 s\n[10:25:09] Finished 'minify-html' after 12 s\n[10:25:09] Finished 'default' after 12 s\n\n~~~\n\n","slug":"hexo-gulp压缩","published":1,"updated":"2020-05-25T02:25:55.376Z","_id":"ckalvcnkw0010ggqgyu7633ep","comments":1,"layout":"post","photos":[],"link":"","content":"<h3 id=\"插件安装\"><a href=\"#插件安装\" class=\"headerlink\" title=\"插件安装\"></a>插件安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#全局安装</span><br><span class=\"line\">npm install gulp -g</span><br><span class=\"line\">#站点目录安装</span><br><span class=\"line\">npm install gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify --save</span><br></pre></td></tr></table></figure>\n<p>在这里说明一下，使用该工具可以压缩 HTML、CSS、JavaScript 文件，但我并没有压缩 JavaScript 文件，因为有很大的概率会报错，实际也并不需要压缩，因为大部分 JavaScript 都已压缩过。</p>\n<p>如果你也考虑不压缩 JavaScript 文件，可以选择不安装 <code>gulp-uglify</code>。</p>\n<h3 id=\"gulpfile-js\"><a href=\"#gulpfile-js\" class=\"headerlink\" title=\"gulpfile.js\"></a>gulpfile.js</h3><p>在站点文件夹的根目录下，新建一个文件。命名为gulpfile.js</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var gulp = require(&apos;gulp&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">// Plugins 模块获取</span><br><span class=\"line\">var minifycss = require(&apos;gulp-minify-css&apos;);</span><br><span class=\"line\">var uglify = require(&apos;gulp-uglify&apos;);</span><br><span class=\"line\">var htmlmin = require(&apos;gulp-htmlmin&apos;);</span><br><span class=\"line\">var htmlclean = require(&apos;gulp-htmlclean&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">// 压缩 css</span><br><span class=\"line\">gulp.task(&apos;minify-css&apos;, function () &#123;</span><br><span class=\"line\">\treturn gulp.src(&apos;./public/**/*.css&apos;)</span><br><span class=\"line\">\t\t.pipe(minifycss())</span><br><span class=\"line\">\t\t.pipe(gulp.dest(&apos;./public&apos;));</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// 压缩 html</span><br><span class=\"line\">gulp.task(&apos;minify-html&apos;, function () &#123;</span><br><span class=\"line\">\treturn gulp.src(&apos;./public/**/*.html&apos;)</span><br><span class=\"line\">\t\t.pipe(htmlclean())</span><br><span class=\"line\">\t\t.pipe(htmlmin(&#123;</span><br><span class=\"line\">\t\t\tremoveComments: true,</span><br><span class=\"line\">\t\t\tminifyJS: true,</span><br><span class=\"line\">\t\t\tminifyCSS: true,</span><br><span class=\"line\">\t\t\tminifyURLs: true,</span><br><span class=\"line\">\t\t&#125;))</span><br><span class=\"line\">\t\t.pipe(gulp.dest(&apos;./public&apos;))</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// 压缩 js 不压缩 min.js</span><br><span class=\"line\">gulp.task(&apos;minify-js&apos;, function () &#123;</span><br><span class=\"line\">\treturn gulp.src([&apos;./public/**/*.js&apos;, &apos;!./public/**/*.min.js&apos;])</span><br><span class=\"line\">\t\t.pipe(uglify())</span><br><span class=\"line\">\t\t.pipe(gulp.dest(&apos;./public&apos;));</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// 4.0 以前的写法 </span><br><span class=\"line\">// gulp.task(&apos;default&apos;, [</span><br><span class=\"line\">  //   &apos;minify-html&apos;, &apos;minify-css&apos;, &apos;minify-js&apos;</span><br><span class=\"line\">// ]);</span><br><span class=\"line\"></span><br><span class=\"line\">// 4.0 以后的写法</span><br><span class=\"line\">// 执行 gulp 命令时执行的任务</span><br><span class=\"line\">gulp.task(&apos;default&apos;, gulp.parallel(&apos;minify-html&apos;, &apos;minify-css&apos;, &apos;minify-js&apos;));</span><br></pre></td></tr></table></figure>\n<p><code>如果不压缩 JavaScript 文件，则将上述代码中有关</code>minify-js<code>的代码删除即可</code></p>\n<h3 id=\"运行结果\"><a href=\"#运行结果\" class=\"headerlink\" title=\"运行结果\"></a>运行结果</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[10:24:57] Starting &apos;default&apos;...</span><br><span class=\"line\">[10:24:57] Starting &apos;minify-html&apos;...</span><br><span class=\"line\">[10:24:57] Starting &apos;minify-css&apos;...</span><br><span class=\"line\">[10:24:57] Starting &apos;minify-js&apos;...</span><br><span class=\"line\">[10:25:05] Finished &apos;minify-css&apos; after 8.3 s</span><br><span class=\"line\">[10:25:05] Finished &apos;minify-js&apos; after 8.49 s</span><br><span class=\"line\">[10:25:09] Finished &apos;minify-html&apos; after 12 s</span><br><span class=\"line\">[10:25:09] Finished &apos;default&apos; after 12 s</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"插件安装\"><a href=\"#插件安装\" class=\"headerlink\" title=\"插件安装\"></a>插件安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#全局安装</span><br><span class=\"line\">npm install gulp -g</span><br><span class=\"line\">#站点目录安装</span><br><span class=\"line\">npm install gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify --save</span><br></pre></td></tr></table></figure>\n<p>在这里说明一下，使用该工具可以压缩 HTML、CSS、JavaScript 文件，但我并没有压缩 JavaScript 文件，因为有很大的概率会报错，实际也并不需要压缩，因为大部分 JavaScript 都已压缩过。</p>\n<p>如果你也考虑不压缩 JavaScript 文件，可以选择不安装 <code>gulp-uglify</code>。</p>\n<h3 id=\"gulpfile-js\"><a href=\"#gulpfile-js\" class=\"headerlink\" title=\"gulpfile.js\"></a>gulpfile.js</h3><p>在站点文件夹的根目录下，新建一个文件。命名为gulpfile.js</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var gulp = require(&apos;gulp&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">// Plugins 模块获取</span><br><span class=\"line\">var minifycss = require(&apos;gulp-minify-css&apos;);</span><br><span class=\"line\">var uglify = require(&apos;gulp-uglify&apos;);</span><br><span class=\"line\">var htmlmin = require(&apos;gulp-htmlmin&apos;);</span><br><span class=\"line\">var htmlclean = require(&apos;gulp-htmlclean&apos;);</span><br><span class=\"line\"></span><br><span class=\"line\">// 压缩 css</span><br><span class=\"line\">gulp.task(&apos;minify-css&apos;, function () &#123;</span><br><span class=\"line\">\treturn gulp.src(&apos;./public/**/*.css&apos;)</span><br><span class=\"line\">\t\t.pipe(minifycss())</span><br><span class=\"line\">\t\t.pipe(gulp.dest(&apos;./public&apos;));</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// 压缩 html</span><br><span class=\"line\">gulp.task(&apos;minify-html&apos;, function () &#123;</span><br><span class=\"line\">\treturn gulp.src(&apos;./public/**/*.html&apos;)</span><br><span class=\"line\">\t\t.pipe(htmlclean())</span><br><span class=\"line\">\t\t.pipe(htmlmin(&#123;</span><br><span class=\"line\">\t\t\tremoveComments: true,</span><br><span class=\"line\">\t\t\tminifyJS: true,</span><br><span class=\"line\">\t\t\tminifyCSS: true,</span><br><span class=\"line\">\t\t\tminifyURLs: true,</span><br><span class=\"line\">\t\t&#125;))</span><br><span class=\"line\">\t\t.pipe(gulp.dest(&apos;./public&apos;))</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// 压缩 js 不压缩 min.js</span><br><span class=\"line\">gulp.task(&apos;minify-js&apos;, function () &#123;</span><br><span class=\"line\">\treturn gulp.src([&apos;./public/**/*.js&apos;, &apos;!./public/**/*.min.js&apos;])</span><br><span class=\"line\">\t\t.pipe(uglify())</span><br><span class=\"line\">\t\t.pipe(gulp.dest(&apos;./public&apos;));</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">// 4.0 以前的写法 </span><br><span class=\"line\">// gulp.task(&apos;default&apos;, [</span><br><span class=\"line\">  //   &apos;minify-html&apos;, &apos;minify-css&apos;, &apos;minify-js&apos;</span><br><span class=\"line\">// ]);</span><br><span class=\"line\"></span><br><span class=\"line\">// 4.0 以后的写法</span><br><span class=\"line\">// 执行 gulp 命令时执行的任务</span><br><span class=\"line\">gulp.task(&apos;default&apos;, gulp.parallel(&apos;minify-html&apos;, &apos;minify-css&apos;, &apos;minify-js&apos;));</span><br></pre></td></tr></table></figure>\n<p><code>如果不压缩 JavaScript 文件，则将上述代码中有关</code>minify-js<code>的代码删除即可</code></p>\n<h3 id=\"运行结果\"><a href=\"#运行结果\" class=\"headerlink\" title=\"运行结果\"></a>运行结果</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[10:24:57] Starting &apos;default&apos;...</span><br><span class=\"line\">[10:24:57] Starting &apos;minify-html&apos;...</span><br><span class=\"line\">[10:24:57] Starting &apos;minify-css&apos;...</span><br><span class=\"line\">[10:24:57] Starting &apos;minify-js&apos;...</span><br><span class=\"line\">[10:25:05] Finished &apos;minify-css&apos; after 8.3 s</span><br><span class=\"line\">[10:25:05] Finished &apos;minify-js&apos; after 8.49 s</span><br><span class=\"line\">[10:25:09] Finished &apos;minify-html&apos; after 12 s</span><br><span class=\"line\">[10:25:09] Finished &apos;default&apos; after 12 s</span><br></pre></td></tr></table></figure>\n"},{"title":"hexo-常用命令","abbrlink":3973852728,"date":"2019-04-12T10:35:51.000Z","_content":"\n&nbsp;&nbsp;&nbsp;&nbsp;记录一下hexo经常使用的命令，发现自己好久没有hexo，命令都不记得了。\n\n### 新建文章\n```\nhexo new \"postname\" (hexo n postname)\n```\n\n### 新建页面\n```\nhexo new page \"pagename\"\n```\n\n### 启动本地web服务\n```\nhexo server (hexo s)\n本地网址：localhost:4000\n```\n### 生成静态文件\n```\nhexo generate (hexo g)\n```\n\n### 生成部署\n```\nhexo d -g\n```\n\n### 生成预览\n```\nhexo s -g\n```\n\n### 清理public文件夹\n```\nhexo clean \n```","source":"_posts/hexo-常用命令.md","raw":"---\ntitle: hexo-常用命令\ncategories: hexo\ntags:\n  - hexo\n  - tools\nabbrlink: 3973852728\ndate: 2019-04-12 18:35:51\n---\n\n&nbsp;&nbsp;&nbsp;&nbsp;记录一下hexo经常使用的命令，发现自己好久没有hexo，命令都不记得了。\n\n### 新建文章\n```\nhexo new \"postname\" (hexo n postname)\n```\n\n### 新建页面\n```\nhexo new page \"pagename\"\n```\n\n### 启动本地web服务\n```\nhexo server (hexo s)\n本地网址：localhost:4000\n```\n### 生成静态文件\n```\nhexo generate (hexo g)\n```\n\n### 生成部署\n```\nhexo d -g\n```\n\n### 生成预览\n```\nhexo s -g\n```\n\n### 清理public文件夹\n```\nhexo clean \n```","slug":"hexo-常用命令","published":1,"updated":"2020-05-11T10:02:09.560Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnl80012ggqgjfh46cy7","content":"<p>&nbsp;&nbsp;&nbsp;&nbsp;记录一下hexo经常使用的命令，发现自己好久没有hexo，命令都不记得了。</p>\n<h3 id=\"新建文章\"><a href=\"#新建文章\" class=\"headerlink\" title=\"新建文章\"></a>新建文章</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new &quot;postname&quot; (hexo n postname)</span><br></pre></td></tr></table></figure>\n<h3 id=\"新建页面\"><a href=\"#新建页面\" class=\"headerlink\" title=\"新建页面\"></a>新建页面</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new page &quot;pagename&quot;</span><br></pre></td></tr></table></figure>\n<h3 id=\"启动本地web服务\"><a href=\"#启动本地web服务\" class=\"headerlink\" title=\"启动本地web服务\"></a>启动本地web服务</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo server (hexo s)</span><br><span class=\"line\">本地网址：localhost:4000</span><br></pre></td></tr></table></figure>\n<h3 id=\"生成静态文件\"><a href=\"#生成静态文件\" class=\"headerlink\" title=\"生成静态文件\"></a>生成静态文件</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo generate (hexo g)</span><br></pre></td></tr></table></figure>\n<h3 id=\"生成部署\"><a href=\"#生成部署\" class=\"headerlink\" title=\"生成部署\"></a>生成部署</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo d -g</span><br></pre></td></tr></table></figure>\n<h3 id=\"生成预览\"><a href=\"#生成预览\" class=\"headerlink\" title=\"生成预览\"></a>生成预览</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo s -g</span><br></pre></td></tr></table></figure>\n<h3 id=\"清理public文件夹\"><a href=\"#清理public文件夹\" class=\"headerlink\" title=\"清理public文件夹\"></a>清理public文件夹</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p>&nbsp;&nbsp;&nbsp;&nbsp;记录一下hexo经常使用的命令，发现自己好久没有hexo，命令都不记得了。</p>\n<h3 id=\"新建文章\"><a href=\"#新建文章\" class=\"headerlink\" title=\"新建文章\"></a>新建文章</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new &quot;postname&quot; (hexo n postname)</span><br></pre></td></tr></table></figure>\n<h3 id=\"新建页面\"><a href=\"#新建页面\" class=\"headerlink\" title=\"新建页面\"></a>新建页面</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new page &quot;pagename&quot;</span><br></pre></td></tr></table></figure>\n<h3 id=\"启动本地web服务\"><a href=\"#启动本地web服务\" class=\"headerlink\" title=\"启动本地web服务\"></a>启动本地web服务</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo server (hexo s)</span><br><span class=\"line\">本地网址：localhost:4000</span><br></pre></td></tr></table></figure>\n<h3 id=\"生成静态文件\"><a href=\"#生成静态文件\" class=\"headerlink\" title=\"生成静态文件\"></a>生成静态文件</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo generate (hexo g)</span><br></pre></td></tr></table></figure>\n<h3 id=\"生成部署\"><a href=\"#生成部署\" class=\"headerlink\" title=\"生成部署\"></a>生成部署</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo d -g</span><br></pre></td></tr></table></figure>\n<h3 id=\"生成预览\"><a href=\"#生成预览\" class=\"headerlink\" title=\"生成预览\"></a>生成预览</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo s -g</span><br></pre></td></tr></table></figure>\n<h3 id=\"清理public文件夹\"><a href=\"#清理public文件夹\" class=\"headerlink\" title=\"清理public文件夹\"></a>清理public文件夹</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo clean</span><br></pre></td></tr></table></figure>"},{"title":"hexo-next主题配置","abbrlink":1968653668,"date":"2020-05-07T08:46:52.000Z","_content":"\n\n\n主要记录一下自己在搭建个人博客的时候，一些配置，基本上是查阅别人的文章，这里记录一下\n\n### 一，hexo安装\n\n[hexo安装](https://www.jianshu.com/p/eded1dd2d794)\n\n[next主题设置](https://www.jianshu.com/p/b20fc983005f)\n\n\n\n### 二，添加LocalSearch搜索\n\n~~~\n npm install hexo-generator-searchdb --save\n \n 编辑主题配置文件，启用本地搜素\n # Local search\nlocal_search:\n  enable: true\n~~~\n\n### 三，网站访问量统计\n\n![baidu.png](/images/blog/baidu.png)\n\n### 四，阅读次数统计\n\n[LeanCloud添加阅读次数](https://www.cnblogs.com/lijianming180/p/12433189.html)\n\n### 五，添加评论\n\n[valine](https://blog.csdn.net/jiunian_2761/article/details/97388997)\n\n### 六，域名申请\n\n[域名申请](https://blog.csdn.net/linshuhe1/article/details/73013730)\n\n### 七，谷歌检索\n\n[谷歌检索](https://www.itrhx.com/2019/09/17/A48-submit-search-engine-inclusion/)\n\n### 八，永久文章链接\n\n[abbrlink](https://www.jianshu.com/p/c7de2ae59975)\n\n### 九，404\n\n[404错误](https://www.jianshu.com/p/2349c763cc02)\n\n### 十，码云+GitHub部署\n\n![gitee.png](/images/blog/gitee.png)\n\n~~~\n需要在站点配置文件中配置gitee和GitHub的仓库地址\n然后就可以部署了，不过我们在gitee上部署后，每次都需要手动的去更新gitee page，才能生效\n~~~\n\n","source":"_posts/hexo-next主题配置.md","raw":"---\ntitle: hexo-next主题配置\ncategories: hexo\ntags: next\nabbrlink: 1968653668\ndate: 2020-05-07 16:46:52\n---\n\n\n\n主要记录一下自己在搭建个人博客的时候，一些配置，基本上是查阅别人的文章，这里记录一下\n\n### 一，hexo安装\n\n[hexo安装](https://www.jianshu.com/p/eded1dd2d794)\n\n[next主题设置](https://www.jianshu.com/p/b20fc983005f)\n\n\n\n### 二，添加LocalSearch搜索\n\n~~~\n npm install hexo-generator-searchdb --save\n \n 编辑主题配置文件，启用本地搜素\n # Local search\nlocal_search:\n  enable: true\n~~~\n\n### 三，网站访问量统计\n\n![baidu.png](/images/blog/baidu.png)\n\n### 四，阅读次数统计\n\n[LeanCloud添加阅读次数](https://www.cnblogs.com/lijianming180/p/12433189.html)\n\n### 五，添加评论\n\n[valine](https://blog.csdn.net/jiunian_2761/article/details/97388997)\n\n### 六，域名申请\n\n[域名申请](https://blog.csdn.net/linshuhe1/article/details/73013730)\n\n### 七，谷歌检索\n\n[谷歌检索](https://www.itrhx.com/2019/09/17/A48-submit-search-engine-inclusion/)\n\n### 八，永久文章链接\n\n[abbrlink](https://www.jianshu.com/p/c7de2ae59975)\n\n### 九，404\n\n[404错误](https://www.jianshu.com/p/2349c763cc02)\n\n### 十，码云+GitHub部署\n\n![gitee.png](/images/blog/gitee.png)\n\n~~~\n需要在站点配置文件中配置gitee和GitHub的仓库地址\n然后就可以部署了，不过我们在gitee上部署后，每次都需要手动的去更新gitee page，才能生效\n~~~\n\n","slug":"hexo-next主题配置","published":1,"updated":"2020-05-12T03:32:11.987Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnle0016ggqg1cjbvl4y","content":"<p>主要记录一下自己在搭建个人博客的时候，一些配置，基本上是查阅别人的文章，这里记录一下</p>\n<h3 id=\"一，hexo安装\"><a href=\"#一，hexo安装\" class=\"headerlink\" title=\"一，hexo安装\"></a>一，hexo安装</h3><p><a href=\"https://www.jianshu.com/p/eded1dd2d794\" target=\"_blank\" rel=\"noopener\">hexo安装</a></p>\n<p><a href=\"https://www.jianshu.com/p/b20fc983005f\" target=\"_blank\" rel=\"noopener\">next主题设置</a></p>\n<h3 id=\"二，添加LocalSearch搜索\"><a href=\"#二，添加LocalSearch搜索\" class=\"headerlink\" title=\"二，添加LocalSearch搜索\"></a>二，添加LocalSearch搜索</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> npm install hexo-generator-searchdb --save</span><br><span class=\"line\"> </span><br><span class=\"line\"> 编辑主题配置文件，启用本地搜素</span><br><span class=\"line\"> # Local search</span><br><span class=\"line\">local_search:</span><br><span class=\"line\">  enable: true</span><br></pre></td></tr></table></figure>\n<h3 id=\"三，网站访问量统计\"><a href=\"#三，网站访问量统计\" class=\"headerlink\" title=\"三，网站访问量统计\"></a>三，网站访问量统计</h3><p><img src=\"/images/blog/baidu.png\" alt=\"baidu.png\"></p>\n<h3 id=\"四，阅读次数统计\"><a href=\"#四，阅读次数统计\" class=\"headerlink\" title=\"四，阅读次数统计\"></a>四，阅读次数统计</h3><p><a href=\"https://www.cnblogs.com/lijianming180/p/12433189.html\" target=\"_blank\" rel=\"noopener\">LeanCloud添加阅读次数</a></p>\n<h3 id=\"五，添加评论\"><a href=\"#五，添加评论\" class=\"headerlink\" title=\"五，添加评论\"></a>五，添加评论</h3><p><a href=\"https://blog.csdn.net/jiunian_2761/article/details/97388997\" target=\"_blank\" rel=\"noopener\">valine</a></p>\n<h3 id=\"六，域名申请\"><a href=\"#六，域名申请\" class=\"headerlink\" title=\"六，域名申请\"></a>六，域名申请</h3><p><a href=\"https://blog.csdn.net/linshuhe1/article/details/73013730\" target=\"_blank\" rel=\"noopener\">域名申请</a></p>\n<h3 id=\"七，谷歌检索\"><a href=\"#七，谷歌检索\" class=\"headerlink\" title=\"七，谷歌检索\"></a>七，谷歌检索</h3><p><a href=\"https://www.itrhx.com/2019/09/17/A48-submit-search-engine-inclusion/\" target=\"_blank\" rel=\"noopener\">谷歌检索</a></p>\n<h3 id=\"八，永久文章链接\"><a href=\"#八，永久文章链接\" class=\"headerlink\" title=\"八，永久文章链接\"></a>八，永久文章链接</h3><p><a href=\"https://www.jianshu.com/p/c7de2ae59975\" target=\"_blank\" rel=\"noopener\">abbrlink</a></p>\n<h3 id=\"九，404\"><a href=\"#九，404\" class=\"headerlink\" title=\"九，404\"></a>九，404</h3><p><a href=\"https://www.jianshu.com/p/2349c763cc02\" target=\"_blank\" rel=\"noopener\">404错误</a></p>\n<h3 id=\"十，码云-GitHub部署\"><a href=\"#十，码云-GitHub部署\" class=\"headerlink\" title=\"十，码云+GitHub部署\"></a>十，码云+GitHub部署</h3><p><img src=\"/images/blog/gitee.png\" alt=\"gitee.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">需要在站点配置文件中配置gitee和GitHub的仓库地址</span><br><span class=\"line\">然后就可以部署了，不过我们在gitee上部署后，每次都需要手动的去更新gitee page，才能生效</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>主要记录一下自己在搭建个人博客的时候，一些配置，基本上是查阅别人的文章，这里记录一下</p>\n<h3 id=\"一，hexo安装\"><a href=\"#一，hexo安装\" class=\"headerlink\" title=\"一，hexo安装\"></a>一，hexo安装</h3><p><a href=\"https://www.jianshu.com/p/eded1dd2d794\" target=\"_blank\" rel=\"noopener\">hexo安装</a></p>\n<p><a href=\"https://www.jianshu.com/p/b20fc983005f\" target=\"_blank\" rel=\"noopener\">next主题设置</a></p>\n<h3 id=\"二，添加LocalSearch搜索\"><a href=\"#二，添加LocalSearch搜索\" class=\"headerlink\" title=\"二，添加LocalSearch搜索\"></a>二，添加LocalSearch搜索</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> npm install hexo-generator-searchdb --save</span><br><span class=\"line\"> </span><br><span class=\"line\"> 编辑主题配置文件，启用本地搜素</span><br><span class=\"line\"> # Local search</span><br><span class=\"line\">local_search:</span><br><span class=\"line\">  enable: true</span><br></pre></td></tr></table></figure>\n<h3 id=\"三，网站访问量统计\"><a href=\"#三，网站访问量统计\" class=\"headerlink\" title=\"三，网站访问量统计\"></a>三，网站访问量统计</h3><p><img src=\"/images/blog/baidu.png\" alt=\"baidu.png\"></p>\n<h3 id=\"四，阅读次数统计\"><a href=\"#四，阅读次数统计\" class=\"headerlink\" title=\"四，阅读次数统计\"></a>四，阅读次数统计</h3><p><a href=\"https://www.cnblogs.com/lijianming180/p/12433189.html\" target=\"_blank\" rel=\"noopener\">LeanCloud添加阅读次数</a></p>\n<h3 id=\"五，添加评论\"><a href=\"#五，添加评论\" class=\"headerlink\" title=\"五，添加评论\"></a>五，添加评论</h3><p><a href=\"https://blog.csdn.net/jiunian_2761/article/details/97388997\" target=\"_blank\" rel=\"noopener\">valine</a></p>\n<h3 id=\"六，域名申请\"><a href=\"#六，域名申请\" class=\"headerlink\" title=\"六，域名申请\"></a>六，域名申请</h3><p><a href=\"https://blog.csdn.net/linshuhe1/article/details/73013730\" target=\"_blank\" rel=\"noopener\">域名申请</a></p>\n<h3 id=\"七，谷歌检索\"><a href=\"#七，谷歌检索\" class=\"headerlink\" title=\"七，谷歌检索\"></a>七，谷歌检索</h3><p><a href=\"https://www.itrhx.com/2019/09/17/A48-submit-search-engine-inclusion/\" target=\"_blank\" rel=\"noopener\">谷歌检索</a></p>\n<h3 id=\"八，永久文章链接\"><a href=\"#八，永久文章链接\" class=\"headerlink\" title=\"八，永久文章链接\"></a>八，永久文章链接</h3><p><a href=\"https://www.jianshu.com/p/c7de2ae59975\" target=\"_blank\" rel=\"noopener\">abbrlink</a></p>\n<h3 id=\"九，404\"><a href=\"#九，404\" class=\"headerlink\" title=\"九，404\"></a>九，404</h3><p><a href=\"https://www.jianshu.com/p/2349c763cc02\" target=\"_blank\" rel=\"noopener\">404错误</a></p>\n<h3 id=\"十，码云-GitHub部署\"><a href=\"#十，码云-GitHub部署\" class=\"headerlink\" title=\"十，码云+GitHub部署\"></a>十，码云+GitHub部署</h3><p><img src=\"/images/blog/gitee.png\" alt=\"gitee.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">需要在站点配置文件中配置gitee和GitHub的仓库地址</span><br><span class=\"line\">然后就可以部署了，不过我们在gitee上部署后，每次都需要手动的去更新gitee page，才能生效</span><br></pre></td></tr></table></figure>\n"},{"title":"image-libraw相机图片库源码编译","abbrlink":1731984249,"date":"2020-01-17T09:37:04.000Z","_content":"\n~~~\nLibRaw is a library for reading RAW files from digital photo cameras (CRW/CR2, NEF, RAF, DNG, MOS, KDC, DCR, etc, virtually all RAW formats are supported).\n~~~\n\n### 一，源码下载\n\n~~~\ngit clone https://github.com/LibRaw/LibRaw.git\n~~~\n\n### 二，编译环境准备\n\n~~~\n1，查看文件DEVELOPER-NOTES，提示我们,执行mkdist.sh脚本来生成编译的东西\n2， 安装需要的软件\n\t yum install autoconf automake freetype-devel gcc gcc-c++ libtool make pkgconfig -y\n\t yum install wget -y\n\t yum install lcms2 lcms2-devel -y\n\t yum install jasper jasper-devel\n~~~\n\n### 三，准备编译遇到的错误\n\n~~~\n下载dcraw.c失败，我们需要手动的下载\n修改mkdist.sh脚本文件\nwget https://www.dechifro.org/dcraw/dcraw.c\n然后在执行 mkdist.sh脚本\n~~~\n\n### 四，编译\n\n~~~\n./configure --prefix=/usr/local/helios CXX=/usr/local/bin/g++\nmake\nmake install\n\n~~~\n\n### 五，执行遇到的问题\n\n~~~\n在程序中执行 open_file CR2的时候程序崩溃，因为自己的g++编译是4.8.5的，但是更新到4.9.2后就成功了\n~~~\n\n","source":"_posts/image-libraw相机图片库源码编译.md","raw":"---\ntitle: image-libraw相机图片库源码编译\ncategories: 图片处理\ntags:\n  - image\n  - centos7\n  - lib.so\nabbrlink: 1731984249\ndate: 2020-01-17 17:37:04\n---\n\n~~~\nLibRaw is a library for reading RAW files from digital photo cameras (CRW/CR2, NEF, RAF, DNG, MOS, KDC, DCR, etc, virtually all RAW formats are supported).\n~~~\n\n### 一，源码下载\n\n~~~\ngit clone https://github.com/LibRaw/LibRaw.git\n~~~\n\n### 二，编译环境准备\n\n~~~\n1，查看文件DEVELOPER-NOTES，提示我们,执行mkdist.sh脚本来生成编译的东西\n2， 安装需要的软件\n\t yum install autoconf automake freetype-devel gcc gcc-c++ libtool make pkgconfig -y\n\t yum install wget -y\n\t yum install lcms2 lcms2-devel -y\n\t yum install jasper jasper-devel\n~~~\n\n### 三，准备编译遇到的错误\n\n~~~\n下载dcraw.c失败，我们需要手动的下载\n修改mkdist.sh脚本文件\nwget https://www.dechifro.org/dcraw/dcraw.c\n然后在执行 mkdist.sh脚本\n~~~\n\n### 四，编译\n\n~~~\n./configure --prefix=/usr/local/helios CXX=/usr/local/bin/g++\nmake\nmake install\n\n~~~\n\n### 五，执行遇到的问题\n\n~~~\n在程序中执行 open_file CR2的时候程序崩溃，因为自己的g++编译是4.8.5的，但是更新到4.9.2后就成功了\n~~~\n\n","slug":"image-libraw相机图片库源码编译","published":1,"updated":"2020-05-11T10:02:09.560Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnlj0018ggqgz8s5mnh7","content":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LibRaw is a library for reading RAW files from digital photo cameras (CRW/CR2, NEF, RAF, DNG, MOS, KDC, DCR, etc, virtually all RAW formats are supported).</span><br></pre></td></tr></table></figure>\n<h3 id=\"一，源码下载\"><a href=\"#一，源码下载\" class=\"headerlink\" title=\"一，源码下载\"></a>一，源码下载</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/LibRaw/LibRaw.git</span><br></pre></td></tr></table></figure>\n<h3 id=\"二，编译环境准备\"><a href=\"#二，编译环境准备\" class=\"headerlink\" title=\"二，编译环境准备\"></a>二，编译环境准备</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1，查看文件DEVELOPER-NOTES，提示我们,执行mkdist.sh脚本来生成编译的东西</span><br><span class=\"line\">2， 安装需要的软件</span><br><span class=\"line\">\t yum install autoconf automake freetype-devel gcc gcc-c++ libtool make pkgconfig -y</span><br><span class=\"line\">\t yum install wget -y</span><br><span class=\"line\">\t yum install lcms2 lcms2-devel -y</span><br><span class=\"line\">\t yum install jasper jasper-devel</span><br></pre></td></tr></table></figure>\n<h3 id=\"三，准备编译遇到的错误\"><a href=\"#三，准备编译遇到的错误\" class=\"headerlink\" title=\"三，准备编译遇到的错误\"></a>三，准备编译遇到的错误</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">下载dcraw.c失败，我们需要手动的下载</span><br><span class=\"line\">修改mkdist.sh脚本文件</span><br><span class=\"line\">wget https://www.dechifro.org/dcraw/dcraw.c</span><br><span class=\"line\">然后在执行 mkdist.sh脚本</span><br></pre></td></tr></table></figure>\n<h3 id=\"四，编译\"><a href=\"#四，编译\" class=\"headerlink\" title=\"四，编译\"></a>四，编译</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./configure --prefix=/usr/local/helios CXX=/usr/local/bin/g++</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h3 id=\"五，执行遇到的问题\"><a href=\"#五，执行遇到的问题\" class=\"headerlink\" title=\"五，执行遇到的问题\"></a>五，执行遇到的问题</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在程序中执行 open_file CR2的时候程序崩溃，因为自己的g++编译是4.8.5的，但是更新到4.9.2后就成功了</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LibRaw is a library for reading RAW files from digital photo cameras (CRW/CR2, NEF, RAF, DNG, MOS, KDC, DCR, etc, virtually all RAW formats are supported).</span><br></pre></td></tr></table></figure>\n<h3 id=\"一，源码下载\"><a href=\"#一，源码下载\" class=\"headerlink\" title=\"一，源码下载\"></a>一，源码下载</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/LibRaw/LibRaw.git</span><br></pre></td></tr></table></figure>\n<h3 id=\"二，编译环境准备\"><a href=\"#二，编译环境准备\" class=\"headerlink\" title=\"二，编译环境准备\"></a>二，编译环境准备</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1，查看文件DEVELOPER-NOTES，提示我们,执行mkdist.sh脚本来生成编译的东西</span><br><span class=\"line\">2， 安装需要的软件</span><br><span class=\"line\">\t yum install autoconf automake freetype-devel gcc gcc-c++ libtool make pkgconfig -y</span><br><span class=\"line\">\t yum install wget -y</span><br><span class=\"line\">\t yum install lcms2 lcms2-devel -y</span><br><span class=\"line\">\t yum install jasper jasper-devel</span><br></pre></td></tr></table></figure>\n<h3 id=\"三，准备编译遇到的错误\"><a href=\"#三，准备编译遇到的错误\" class=\"headerlink\" title=\"三，准备编译遇到的错误\"></a>三，准备编译遇到的错误</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">下载dcraw.c失败，我们需要手动的下载</span><br><span class=\"line\">修改mkdist.sh脚本文件</span><br><span class=\"line\">wget https://www.dechifro.org/dcraw/dcraw.c</span><br><span class=\"line\">然后在执行 mkdist.sh脚本</span><br></pre></td></tr></table></figure>\n<h3 id=\"四，编译\"><a href=\"#四，编译\" class=\"headerlink\" title=\"四，编译\"></a>四，编译</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./configure --prefix=/usr/local/helios CXX=/usr/local/bin/g++</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h3 id=\"五，执行遇到的问题\"><a href=\"#五，执行遇到的问题\" class=\"headerlink\" title=\"五，执行遇到的问题\"></a>五，执行遇到的问题</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在程序中执行 open_file CR2的时候程序崩溃，因为自己的g++编译是4.8.5的，但是更新到4.9.2后就成功了</span><br></pre></td></tr></table></figure>\n"},{"title":"image-libvips图片处理库源码编译","abbrlink":3448999942,"date":"2020-01-15T01:43:01.000Z","_content":"\n~~~\n目前主要是用于苹果平台图片heic图片的转码处理\n~~~\n\n### 1，从GitHub上下载源码\n\n~~~\ngit  clone  https://github.com/libvips/libvips.git\n~~~\n\n### 2，下载需要的依赖\n\n~~~\nyum install gtk-doc\nyum install gobject-introspection\nyum install gobject-introspection-devel\nyum install expat-devel\nyum install glib glib-devel\nyum install gcc gcc-c++\nyum install make pkgconfig autoconf automake\n~~~\n\n### 3，编译出现的问题\n\n~~~\nlibpango-1.0.so: undefined reference to `fribidi_get_par_embedding_levels_ex'\n\n检查ldd /usr/lib64/libpango-1.0.so发现，有一个ibfribidi.so.0 => /lib64/libfribidi.so.0链接开始链接的是我自己的，有问题，改回来就好了，可能是版本冲突的原因，需要保证链接库的版本一致\n~~~\n\n\n\n### 3，安装我们需要支持的图片格式依赖\n\n~~~\nyum install -y libjpeg-turbo libjpeg-turbo-devel\nyum install -y libexif libexif-devel\nyum install -y giflib giflib-devel\nyum install -y librsvg2 librsvg2-devel\nyum install -y libtiff libtiff-devel \nyum install -y libwebp libwebp-devel\nyum install -y libpng libpng-devel\nyum install -y  libgsf libgsf-devel\nyum install -y poppler-glib poppler-glib-devel\nyum install -y openslide openslide-devel\nyum install -y orc orc-devel\nyum install -y libimagequant libimagequant-devel\nyum install -y cfitsio cfitsio-devel\nyum install -y matio matio-devel\nyum install -y fftw fftw-devel\n~~~\n\n### 4，安装libheif\n\n~~~\n1,git 源码安装libde265,## 注意这个必须安装，不然在编译libvips时，虽然configure表示支持，但是在真正使用的时候会报错\n\n2，git源码安装libheif，需要注意 配置libde265支持\n~~~\n\n#### 5，编译\n\n~~~\n1，./configure\n2,make && make install\n自己写的myconfig.sh文件\n\n  1 #!/bin/sh                                                                                                                          \n  2 commoninclude=/usr/include\n  3 commonlib=/usr/lib64\n  4  \n  5 CPPFLAGS=\"-g -Wall -I${commoninclude}  -L${commonlib}\"    \\\n  6 CXXFLAGS=\"-g -Wall -I${commoninclude}  -L${commonlib}\"    \\\n  7 PKG_CONFIG_PATH=\"/usr/local/lib/pkgconfig:/usr/local/heif/lib/pkgconfig\"         \\\n  8 ./configure  --enable-gtk-doc-pdf=yes --prefix=/usr/local/vips    \\\n\n~~~\n\n","source":"_posts/image-libvips图片处理库源码编译.md","raw":"---\ntitle: image-libvips图片处理库源码编译\ncategories: 图片处理\ntags:\n  - image\n  - centos7\n  - lib.so\nabbrlink: 3448999942\ndate: 2020-01-15 09:43:01\n---\n\n~~~\n目前主要是用于苹果平台图片heic图片的转码处理\n~~~\n\n### 1，从GitHub上下载源码\n\n~~~\ngit  clone  https://github.com/libvips/libvips.git\n~~~\n\n### 2，下载需要的依赖\n\n~~~\nyum install gtk-doc\nyum install gobject-introspection\nyum install gobject-introspection-devel\nyum install expat-devel\nyum install glib glib-devel\nyum install gcc gcc-c++\nyum install make pkgconfig autoconf automake\n~~~\n\n### 3，编译出现的问题\n\n~~~\nlibpango-1.0.so: undefined reference to `fribidi_get_par_embedding_levels_ex'\n\n检查ldd /usr/lib64/libpango-1.0.so发现，有一个ibfribidi.so.0 => /lib64/libfribidi.so.0链接开始链接的是我自己的，有问题，改回来就好了，可能是版本冲突的原因，需要保证链接库的版本一致\n~~~\n\n\n\n### 3，安装我们需要支持的图片格式依赖\n\n~~~\nyum install -y libjpeg-turbo libjpeg-turbo-devel\nyum install -y libexif libexif-devel\nyum install -y giflib giflib-devel\nyum install -y librsvg2 librsvg2-devel\nyum install -y libtiff libtiff-devel \nyum install -y libwebp libwebp-devel\nyum install -y libpng libpng-devel\nyum install -y  libgsf libgsf-devel\nyum install -y poppler-glib poppler-glib-devel\nyum install -y openslide openslide-devel\nyum install -y orc orc-devel\nyum install -y libimagequant libimagequant-devel\nyum install -y cfitsio cfitsio-devel\nyum install -y matio matio-devel\nyum install -y fftw fftw-devel\n~~~\n\n### 4，安装libheif\n\n~~~\n1,git 源码安装libde265,## 注意这个必须安装，不然在编译libvips时，虽然configure表示支持，但是在真正使用的时候会报错\n\n2，git源码安装libheif，需要注意 配置libde265支持\n~~~\n\n#### 5，编译\n\n~~~\n1，./configure\n2,make && make install\n自己写的myconfig.sh文件\n\n  1 #!/bin/sh                                                                                                                          \n  2 commoninclude=/usr/include\n  3 commonlib=/usr/lib64\n  4  \n  5 CPPFLAGS=\"-g -Wall -I${commoninclude}  -L${commonlib}\"    \\\n  6 CXXFLAGS=\"-g -Wall -I${commoninclude}  -L${commonlib}\"    \\\n  7 PKG_CONFIG_PATH=\"/usr/local/lib/pkgconfig:/usr/local/heif/lib/pkgconfig\"         \\\n  8 ./configure  --enable-gtk-doc-pdf=yes --prefix=/usr/local/vips    \\\n\n~~~\n\n","slug":"image-libvips图片处理库源码编译","published":1,"updated":"2020-05-11T10:02:09.560Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnlw001bggqges4p2w4n","content":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">目前主要是用于苹果平台图片heic图片的转码处理</span><br></pre></td></tr></table></figure>\n<h3 id=\"1，从GitHub上下载源码\"><a href=\"#1，从GitHub上下载源码\" class=\"headerlink\" title=\"1，从GitHub上下载源码\"></a>1，从GitHub上下载源码</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git  clone  https://github.com/libvips/libvips.git</span><br></pre></td></tr></table></figure>\n<h3 id=\"2，下载需要的依赖\"><a href=\"#2，下载需要的依赖\" class=\"headerlink\" title=\"2，下载需要的依赖\"></a>2，下载需要的依赖</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install gtk-doc</span><br><span class=\"line\">yum install gobject-introspection</span><br><span class=\"line\">yum install gobject-introspection-devel</span><br><span class=\"line\">yum install expat-devel</span><br><span class=\"line\">yum install glib glib-devel</span><br><span class=\"line\">yum install gcc gcc-c++</span><br><span class=\"line\">yum install make pkgconfig autoconf automake</span><br></pre></td></tr></table></figure>\n<h3 id=\"3，编译出现的问题\"><a href=\"#3，编译出现的问题\" class=\"headerlink\" title=\"3，编译出现的问题\"></a>3，编译出现的问题</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">libpango-1.0.so: undefined reference to `fribidi_get_par_embedding_levels_ex&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">检查ldd /usr/lib64/libpango-1.0.so发现，有一个ibfribidi.so.0 =&gt; /lib64/libfribidi.so.0链接开始链接的是我自己的，有问题，改回来就好了，可能是版本冲突的原因，需要保证链接库的版本一致</span><br></pre></td></tr></table></figure>\n<h3 id=\"3，安装我们需要支持的图片格式依赖\"><a href=\"#3，安装我们需要支持的图片格式依赖\" class=\"headerlink\" title=\"3，安装我们需要支持的图片格式依赖\"></a>3，安装我们需要支持的图片格式依赖</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y libjpeg-turbo libjpeg-turbo-devel</span><br><span class=\"line\">yum install -y libexif libexif-devel</span><br><span class=\"line\">yum install -y giflib giflib-devel</span><br><span class=\"line\">yum install -y librsvg2 librsvg2-devel</span><br><span class=\"line\">yum install -y libtiff libtiff-devel </span><br><span class=\"line\">yum install -y libwebp libwebp-devel</span><br><span class=\"line\">yum install -y libpng libpng-devel</span><br><span class=\"line\">yum install -y  libgsf libgsf-devel</span><br><span class=\"line\">yum install -y poppler-glib poppler-glib-devel</span><br><span class=\"line\">yum install -y openslide openslide-devel</span><br><span class=\"line\">yum install -y orc orc-devel</span><br><span class=\"line\">yum install -y libimagequant libimagequant-devel</span><br><span class=\"line\">yum install -y cfitsio cfitsio-devel</span><br><span class=\"line\">yum install -y matio matio-devel</span><br><span class=\"line\">yum install -y fftw fftw-devel</span><br></pre></td></tr></table></figure>\n<h3 id=\"4，安装libheif\"><a href=\"#4，安装libheif\" class=\"headerlink\" title=\"4，安装libheif\"></a>4，安装libheif</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1,git 源码安装libde265,## 注意这个必须安装，不然在编译libvips时，虽然configure表示支持，但是在真正使用的时候会报错</span><br><span class=\"line\"></span><br><span class=\"line\">2，git源码安装libheif，需要注意 配置libde265支持</span><br></pre></td></tr></table></figure>\n<h4 id=\"5，编译\"><a href=\"#5，编译\" class=\"headerlink\" title=\"5，编译\"></a>5，编译</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1，./configure</span><br><span class=\"line\">2,make &amp;&amp; make install</span><br><span class=\"line\">自己写的myconfig.sh文件</span><br><span class=\"line\"></span><br><span class=\"line\">  1 #!/bin/sh                                                                                                                          </span><br><span class=\"line\">  2 commoninclude=/usr/include</span><br><span class=\"line\">  3 commonlib=/usr/lib64</span><br><span class=\"line\">  4  </span><br><span class=\"line\">  5 CPPFLAGS=&quot;-g -Wall -I$&#123;commoninclude&#125;  -L$&#123;commonlib&#125;&quot;    \\</span><br><span class=\"line\">  6 CXXFLAGS=&quot;-g -Wall -I$&#123;commoninclude&#125;  -L$&#123;commonlib&#125;&quot;    \\</span><br><span class=\"line\">  7 PKG_CONFIG_PATH=&quot;/usr/local/lib/pkgconfig:/usr/local/heif/lib/pkgconfig&quot;         \\</span><br><span class=\"line\">  8 ./configure  --enable-gtk-doc-pdf=yes --prefix=/usr/local/vips    \\</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">目前主要是用于苹果平台图片heic图片的转码处理</span><br></pre></td></tr></table></figure>\n<h3 id=\"1，从GitHub上下载源码\"><a href=\"#1，从GitHub上下载源码\" class=\"headerlink\" title=\"1，从GitHub上下载源码\"></a>1，从GitHub上下载源码</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git  clone  https://github.com/libvips/libvips.git</span><br></pre></td></tr></table></figure>\n<h3 id=\"2，下载需要的依赖\"><a href=\"#2，下载需要的依赖\" class=\"headerlink\" title=\"2，下载需要的依赖\"></a>2，下载需要的依赖</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install gtk-doc</span><br><span class=\"line\">yum install gobject-introspection</span><br><span class=\"line\">yum install gobject-introspection-devel</span><br><span class=\"line\">yum install expat-devel</span><br><span class=\"line\">yum install glib glib-devel</span><br><span class=\"line\">yum install gcc gcc-c++</span><br><span class=\"line\">yum install make pkgconfig autoconf automake</span><br></pre></td></tr></table></figure>\n<h3 id=\"3，编译出现的问题\"><a href=\"#3，编译出现的问题\" class=\"headerlink\" title=\"3，编译出现的问题\"></a>3，编译出现的问题</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">libpango-1.0.so: undefined reference to `fribidi_get_par_embedding_levels_ex&apos;</span><br><span class=\"line\"></span><br><span class=\"line\">检查ldd /usr/lib64/libpango-1.0.so发现，有一个ibfribidi.so.0 =&gt; /lib64/libfribidi.so.0链接开始链接的是我自己的，有问题，改回来就好了，可能是版本冲突的原因，需要保证链接库的版本一致</span><br></pre></td></tr></table></figure>\n<h3 id=\"3，安装我们需要支持的图片格式依赖\"><a href=\"#3，安装我们需要支持的图片格式依赖\" class=\"headerlink\" title=\"3，安装我们需要支持的图片格式依赖\"></a>3，安装我们需要支持的图片格式依赖</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install -y libjpeg-turbo libjpeg-turbo-devel</span><br><span class=\"line\">yum install -y libexif libexif-devel</span><br><span class=\"line\">yum install -y giflib giflib-devel</span><br><span class=\"line\">yum install -y librsvg2 librsvg2-devel</span><br><span class=\"line\">yum install -y libtiff libtiff-devel </span><br><span class=\"line\">yum install -y libwebp libwebp-devel</span><br><span class=\"line\">yum install -y libpng libpng-devel</span><br><span class=\"line\">yum install -y  libgsf libgsf-devel</span><br><span class=\"line\">yum install -y poppler-glib poppler-glib-devel</span><br><span class=\"line\">yum install -y openslide openslide-devel</span><br><span class=\"line\">yum install -y orc orc-devel</span><br><span class=\"line\">yum install -y libimagequant libimagequant-devel</span><br><span class=\"line\">yum install -y cfitsio cfitsio-devel</span><br><span class=\"line\">yum install -y matio matio-devel</span><br><span class=\"line\">yum install -y fftw fftw-devel</span><br></pre></td></tr></table></figure>\n<h3 id=\"4，安装libheif\"><a href=\"#4，安装libheif\" class=\"headerlink\" title=\"4，安装libheif\"></a>4，安装libheif</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1,git 源码安装libde265,## 注意这个必须安装，不然在编译libvips时，虽然configure表示支持，但是在真正使用的时候会报错</span><br><span class=\"line\"></span><br><span class=\"line\">2，git源码安装libheif，需要注意 配置libde265支持</span><br></pre></td></tr></table></figure>\n<h4 id=\"5，编译\"><a href=\"#5，编译\" class=\"headerlink\" title=\"5，编译\"></a>5，编译</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1，./configure</span><br><span class=\"line\">2,make &amp;&amp; make install</span><br><span class=\"line\">自己写的myconfig.sh文件</span><br><span class=\"line\"></span><br><span class=\"line\">  1 #!/bin/sh                                                                                                                          </span><br><span class=\"line\">  2 commoninclude=/usr/include</span><br><span class=\"line\">  3 commonlib=/usr/lib64</span><br><span class=\"line\">  4  </span><br><span class=\"line\">  5 CPPFLAGS=&quot;-g -Wall -I$&#123;commoninclude&#125;  -L$&#123;commonlib&#125;&quot;    \\</span><br><span class=\"line\">  6 CXXFLAGS=&quot;-g -Wall -I$&#123;commoninclude&#125;  -L$&#123;commonlib&#125;&quot;    \\</span><br><span class=\"line\">  7 PKG_CONFIG_PATH=&quot;/usr/local/lib/pkgconfig:/usr/local/heif/lib/pkgconfig&quot;         \\</span><br><span class=\"line\">  8 ./configure  --enable-gtk-doc-pdf=yes --prefix=/usr/local/vips    \\</span><br></pre></td></tr></table></figure>\n"},{"title":"image-图片处理库总结","abbrlink":3226112650,"date":"2020-01-15T01:47:54.000Z","_content":"\n### 一，提取exif信息的库\n\n[Exif](https://www.exiv2.org/)\n\n~~~\nExiv2 是一个用来提取图片中的EXIF、LPTC 和 XMP 元数据信息的C++类库。同时还提供了命令行工具。示例代码： Exiv2::Image::AutoPtr image =Exiv2::ImageFactory::open(argv[1]);assert(image.get() != 0);image->readMetadata(); Exi... 更多Exiv2信息 \n~~~\n\n[libvips](https://github.com/libvips/libvips)\n\n~~~\nlibvips是一个需求驱动的水平线程 图像处理库。与类似的库相比，libvips运行迅速且几乎不占用内存。libvips是根据LGPL 2.1+许可的。\n\n它具有约300种运算， 涵盖算术，直方图，卷积，形态运算，频率滤波，颜色，重采样，统计等。它支持多种数字类型，从8位int到128位复数。图像可以具有任意数量的波段。它支持各种图像格式，包括JPEG，TIFF，PNG，WebP，HEIC，FITS，Matlab，OpenEXR，PDF，SVG，HDR，PPM / PGM / PFM，CSV，GIF，分析，NIfTI，DeepZoom和OpenSlide 。它还可以通过ImageMagick或GraphicsMagick加载图像，使其与DICOM等格式一起使用。\n\n主要用这个处理苹果平台heic图片格式的转码\n~~~\n\n[CImg](http://cimg.eu/)\n\n~~~\n就一个.h文件所以用起来很简明，但感觉功能上不如CxImage。可以与CxImage配合使用，因为CImg提供了基于\nlapack的矩阵运算函数和完善的线性滤波卷积函数，同时CImg做像素运算还是很方便的。另外，独有Display类可以方便的\n实现各种显示，包括显示图像、打字、画线等等。还有，该库有个基于光流的多尺度图像配准例子，很好.\n\n使用很方便，但是对于特殊的格式如heic，相机原生格式不支持\n~~~\n\n\n\n[libraw](https://www.libraw.org/docs)\n\n~~~\nLibRaw是一个用于从数码相机读取RAW文件的库（CRW / CR2，NEF，RAF，DNG，MOS，KDC，DCR等，实际上支持所有RAW格式）。\n\n它特别注意正确检索后续RAW转换所需的数据。\n\n该库旨在使用RAW文件作为初始数据嵌入RAW转换器，数据分析器和其他程序中。\n~~~\n\n\n\n[CxImage](https://www.codeproject.com/Articles/1300/CxImage)\n\n~~~\n对CxImage考察的印象：该开发包完全开放源代码，图像封装为一个类，功能极为强大，与Windows、MFC支持极好，支\n持图像的多种操作（线性滤波、中值滤波、直方图操作、旋转缩放、区域选取、阈值处理、膨胀腐蚀、alpha混合等等），支\n持从文件、内存或者win32api定义的位图图像格式中读取图像，支持将图像显示在任意窗口，功能可谓很强大了，而且对像\n素的操作很方便，另外还有一个界面很强的demo，可以直接在上面进行二次开发，推荐使用！\n缺点：里面的子库很多，用起来可能较麻烦；而且感觉速度稍慢，不如后面提到的freeimage\n但功能真的十分强大啊！\n\n主要使用这个处理相机原生图片，可以linux下自己不会编译\n~~~\n\n[OpenCV](https://opencv.org/)\n\n~~~\n对OpenCV的印象：功能十分的强大，而且支持目前先进的图像处理技术，体系十分完善，操作手册很详细，手册首先给大\n家补计算机视觉的知识，几乎涵盖了近10年内的主流算法；然后将图像格式和矩阵运算，然后将各个算法的实现函数。我用\n它来做了一个Harris角点检测器和Canny边缘检测器，总共就花了一个小时（第一次用OpenCV）。而且该库显示图像极其\n方便，两句话就可以。但该库似乎不大稳定，对32F和16S、8U的图像数据支持上bug重重。我用cvFilter2D函数进行线性\n滤波，屡屡出错，后来一查原来是大bug。后来用cvmGet来取矩阵元素也是频繁出错，仔细检查了N遍确保程序没问题之后\n在yahoogroup上找到答案：仍然是bug。。。但好歹该库是开放的，所以自己可以修改；而且支持CVS。另外该库用的是\nIPL矩阵库，速度奇快～～\n\n目前没有使用\n~~~\n\n","source":"_posts/image-图片处理库总结.md","raw":"---\ntitle: image-图片处理库总结\ncategories: 图片处理\ntags:\n  - image\n  - centos7\n  - lib.so\nabbrlink: 3226112650\ndate: 2020-01-15 09:47:54\n---\n\n### 一，提取exif信息的库\n\n[Exif](https://www.exiv2.org/)\n\n~~~\nExiv2 是一个用来提取图片中的EXIF、LPTC 和 XMP 元数据信息的C++类库。同时还提供了命令行工具。示例代码： Exiv2::Image::AutoPtr image =Exiv2::ImageFactory::open(argv[1]);assert(image.get() != 0);image->readMetadata(); Exi... 更多Exiv2信息 \n~~~\n\n[libvips](https://github.com/libvips/libvips)\n\n~~~\nlibvips是一个需求驱动的水平线程 图像处理库。与类似的库相比，libvips运行迅速且几乎不占用内存。libvips是根据LGPL 2.1+许可的。\n\n它具有约300种运算， 涵盖算术，直方图，卷积，形态运算，频率滤波，颜色，重采样，统计等。它支持多种数字类型，从8位int到128位复数。图像可以具有任意数量的波段。它支持各种图像格式，包括JPEG，TIFF，PNG，WebP，HEIC，FITS，Matlab，OpenEXR，PDF，SVG，HDR，PPM / PGM / PFM，CSV，GIF，分析，NIfTI，DeepZoom和OpenSlide 。它还可以通过ImageMagick或GraphicsMagick加载图像，使其与DICOM等格式一起使用。\n\n主要用这个处理苹果平台heic图片格式的转码\n~~~\n\n[CImg](http://cimg.eu/)\n\n~~~\n就一个.h文件所以用起来很简明，但感觉功能上不如CxImage。可以与CxImage配合使用，因为CImg提供了基于\nlapack的矩阵运算函数和完善的线性滤波卷积函数，同时CImg做像素运算还是很方便的。另外，独有Display类可以方便的\n实现各种显示，包括显示图像、打字、画线等等。还有，该库有个基于光流的多尺度图像配准例子，很好.\n\n使用很方便，但是对于特殊的格式如heic，相机原生格式不支持\n~~~\n\n\n\n[libraw](https://www.libraw.org/docs)\n\n~~~\nLibRaw是一个用于从数码相机读取RAW文件的库（CRW / CR2，NEF，RAF，DNG，MOS，KDC，DCR等，实际上支持所有RAW格式）。\n\n它特别注意正确检索后续RAW转换所需的数据。\n\n该库旨在使用RAW文件作为初始数据嵌入RAW转换器，数据分析器和其他程序中。\n~~~\n\n\n\n[CxImage](https://www.codeproject.com/Articles/1300/CxImage)\n\n~~~\n对CxImage考察的印象：该开发包完全开放源代码，图像封装为一个类，功能极为强大，与Windows、MFC支持极好，支\n持图像的多种操作（线性滤波、中值滤波、直方图操作、旋转缩放、区域选取、阈值处理、膨胀腐蚀、alpha混合等等），支\n持从文件、内存或者win32api定义的位图图像格式中读取图像，支持将图像显示在任意窗口，功能可谓很强大了，而且对像\n素的操作很方便，另外还有一个界面很强的demo，可以直接在上面进行二次开发，推荐使用！\n缺点：里面的子库很多，用起来可能较麻烦；而且感觉速度稍慢，不如后面提到的freeimage\n但功能真的十分强大啊！\n\n主要使用这个处理相机原生图片，可以linux下自己不会编译\n~~~\n\n[OpenCV](https://opencv.org/)\n\n~~~\n对OpenCV的印象：功能十分的强大，而且支持目前先进的图像处理技术，体系十分完善，操作手册很详细，手册首先给大\n家补计算机视觉的知识，几乎涵盖了近10年内的主流算法；然后将图像格式和矩阵运算，然后将各个算法的实现函数。我用\n它来做了一个Harris角点检测器和Canny边缘检测器，总共就花了一个小时（第一次用OpenCV）。而且该库显示图像极其\n方便，两句话就可以。但该库似乎不大稳定，对32F和16S、8U的图像数据支持上bug重重。我用cvFilter2D函数进行线性\n滤波，屡屡出错，后来一查原来是大bug。后来用cvmGet来取矩阵元素也是频繁出错，仔细检查了N遍确保程序没问题之后\n在yahoogroup上找到答案：仍然是bug。。。但好歹该库是开放的，所以自己可以修改；而且支持CVS。另外该库用的是\nIPL矩阵库，速度奇快～～\n\n目前没有使用\n~~~\n\n","slug":"image-图片处理库总结","published":1,"updated":"2020-05-11T10:02:09.560Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnm1001dggqg6nyzj80m","content":"<h3 id=\"一，提取exif信息的库\"><a href=\"#一，提取exif信息的库\" class=\"headerlink\" title=\"一，提取exif信息的库\"></a>一，提取exif信息的库</h3><p><a href=\"https://www.exiv2.org/\" target=\"_blank\" rel=\"noopener\">Exif</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Exiv2 是一个用来提取图片中的EXIF、LPTC 和 XMP 元数据信息的C++类库。同时还提供了命令行工具。示例代码： Exiv2::Image::AutoPtr image =Exiv2::ImageFactory::open(argv[1]);assert(image.get() != 0);image-&gt;readMetadata(); Exi... 更多Exiv2信息</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://github.com/libvips/libvips\" target=\"_blank\" rel=\"noopener\">libvips</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">libvips是一个需求驱动的水平线程 图像处理库。与类似的库相比，libvips运行迅速且几乎不占用内存。libvips是根据LGPL 2.1+许可的。</span><br><span class=\"line\"></span><br><span class=\"line\">它具有约300种运算， 涵盖算术，直方图，卷积，形态运算，频率滤波，颜色，重采样，统计等。它支持多种数字类型，从8位int到128位复数。图像可以具有任意数量的波段。它支持各种图像格式，包括JPEG，TIFF，PNG，WebP，HEIC，FITS，Matlab，OpenEXR，PDF，SVG，HDR，PPM / PGM / PFM，CSV，GIF，分析，NIfTI，DeepZoom和OpenSlide 。它还可以通过ImageMagick或GraphicsMagick加载图像，使其与DICOM等格式一起使用。</span><br><span class=\"line\"></span><br><span class=\"line\">主要用这个处理苹果平台heic图片格式的转码</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://cimg.eu/\" target=\"_blank\" rel=\"noopener\">CImg</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">就一个.h文件所以用起来很简明，但感觉功能上不如CxImage。可以与CxImage配合使用，因为CImg提供了基于</span><br><span class=\"line\">lapack的矩阵运算函数和完善的线性滤波卷积函数，同时CImg做像素运算还是很方便的。另外，独有Display类可以方便的</span><br><span class=\"line\">实现各种显示，包括显示图像、打字、画线等等。还有，该库有个基于光流的多尺度图像配准例子，很好.</span><br><span class=\"line\"></span><br><span class=\"line\">使用很方便，但是对于特殊的格式如heic，相机原生格式不支持</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://www.libraw.org/docs\" target=\"_blank\" rel=\"noopener\">libraw</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LibRaw是一个用于从数码相机读取RAW文件的库（CRW / CR2，NEF，RAF，DNG，MOS，KDC，DCR等，实际上支持所有RAW格式）。</span><br><span class=\"line\"></span><br><span class=\"line\">它特别注意正确检索后续RAW转换所需的数据。</span><br><span class=\"line\"></span><br><span class=\"line\">该库旨在使用RAW文件作为初始数据嵌入RAW转换器，数据分析器和其他程序中。</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://www.codeproject.com/Articles/1300/CxImage\" target=\"_blank\" rel=\"noopener\">CxImage</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">对CxImage考察的印象：该开发包完全开放源代码，图像封装为一个类，功能极为强大，与Windows、MFC支持极好，支</span><br><span class=\"line\">持图像的多种操作（线性滤波、中值滤波、直方图操作、旋转缩放、区域选取、阈值处理、膨胀腐蚀、alpha混合等等），支</span><br><span class=\"line\">持从文件、内存或者win32api定义的位图图像格式中读取图像，支持将图像显示在任意窗口，功能可谓很强大了，而且对像</span><br><span class=\"line\">素的操作很方便，另外还有一个界面很强的demo，可以直接在上面进行二次开发，推荐使用！</span><br><span class=\"line\">缺点：里面的子库很多，用起来可能较麻烦；而且感觉速度稍慢，不如后面提到的freeimage</span><br><span class=\"line\">但功能真的十分强大啊！</span><br><span class=\"line\"></span><br><span class=\"line\">主要使用这个处理相机原生图片，可以linux下自己不会编译</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://opencv.org/\" target=\"_blank\" rel=\"noopener\">OpenCV</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">对OpenCV的印象：功能十分的强大，而且支持目前先进的图像处理技术，体系十分完善，操作手册很详细，手册首先给大</span><br><span class=\"line\">家补计算机视觉的知识，几乎涵盖了近10年内的主流算法；然后将图像格式和矩阵运算，然后将各个算法的实现函数。我用</span><br><span class=\"line\">它来做了一个Harris角点检测器和Canny边缘检测器，总共就花了一个小时（第一次用OpenCV）。而且该库显示图像极其</span><br><span class=\"line\">方便，两句话就可以。但该库似乎不大稳定，对32F和16S、8U的图像数据支持上bug重重。我用cvFilter2D函数进行线性</span><br><span class=\"line\">滤波，屡屡出错，后来一查原来是大bug。后来用cvmGet来取矩阵元素也是频繁出错，仔细检查了N遍确保程序没问题之后</span><br><span class=\"line\">在yahoogroup上找到答案：仍然是bug。。。但好歹该库是开放的，所以自己可以修改；而且支持CVS。另外该库用的是</span><br><span class=\"line\">IPL矩阵库，速度奇快～～</span><br><span class=\"line\"></span><br><span class=\"line\">目前没有使用</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"一，提取exif信息的库\"><a href=\"#一，提取exif信息的库\" class=\"headerlink\" title=\"一，提取exif信息的库\"></a>一，提取exif信息的库</h3><p><a href=\"https://www.exiv2.org/\" target=\"_blank\" rel=\"noopener\">Exif</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Exiv2 是一个用来提取图片中的EXIF、LPTC 和 XMP 元数据信息的C++类库。同时还提供了命令行工具。示例代码： Exiv2::Image::AutoPtr image =Exiv2::ImageFactory::open(argv[1]);assert(image.get() != 0);image-&gt;readMetadata(); Exi... 更多Exiv2信息</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://github.com/libvips/libvips\" target=\"_blank\" rel=\"noopener\">libvips</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">libvips是一个需求驱动的水平线程 图像处理库。与类似的库相比，libvips运行迅速且几乎不占用内存。libvips是根据LGPL 2.1+许可的。</span><br><span class=\"line\"></span><br><span class=\"line\">它具有约300种运算， 涵盖算术，直方图，卷积，形态运算，频率滤波，颜色，重采样，统计等。它支持多种数字类型，从8位int到128位复数。图像可以具有任意数量的波段。它支持各种图像格式，包括JPEG，TIFF，PNG，WebP，HEIC，FITS，Matlab，OpenEXR，PDF，SVG，HDR，PPM / PGM / PFM，CSV，GIF，分析，NIfTI，DeepZoom和OpenSlide 。它还可以通过ImageMagick或GraphicsMagick加载图像，使其与DICOM等格式一起使用。</span><br><span class=\"line\"></span><br><span class=\"line\">主要用这个处理苹果平台heic图片格式的转码</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://cimg.eu/\" target=\"_blank\" rel=\"noopener\">CImg</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">就一个.h文件所以用起来很简明，但感觉功能上不如CxImage。可以与CxImage配合使用，因为CImg提供了基于</span><br><span class=\"line\">lapack的矩阵运算函数和完善的线性滤波卷积函数，同时CImg做像素运算还是很方便的。另外，独有Display类可以方便的</span><br><span class=\"line\">实现各种显示，包括显示图像、打字、画线等等。还有，该库有个基于光流的多尺度图像配准例子，很好.</span><br><span class=\"line\"></span><br><span class=\"line\">使用很方便，但是对于特殊的格式如heic，相机原生格式不支持</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://www.libraw.org/docs\" target=\"_blank\" rel=\"noopener\">libraw</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LibRaw是一个用于从数码相机读取RAW文件的库（CRW / CR2，NEF，RAF，DNG，MOS，KDC，DCR等，实际上支持所有RAW格式）。</span><br><span class=\"line\"></span><br><span class=\"line\">它特别注意正确检索后续RAW转换所需的数据。</span><br><span class=\"line\"></span><br><span class=\"line\">该库旨在使用RAW文件作为初始数据嵌入RAW转换器，数据分析器和其他程序中。</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://www.codeproject.com/Articles/1300/CxImage\" target=\"_blank\" rel=\"noopener\">CxImage</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">对CxImage考察的印象：该开发包完全开放源代码，图像封装为一个类，功能极为强大，与Windows、MFC支持极好，支</span><br><span class=\"line\">持图像的多种操作（线性滤波、中值滤波、直方图操作、旋转缩放、区域选取、阈值处理、膨胀腐蚀、alpha混合等等），支</span><br><span class=\"line\">持从文件、内存或者win32api定义的位图图像格式中读取图像，支持将图像显示在任意窗口，功能可谓很强大了，而且对像</span><br><span class=\"line\">素的操作很方便，另外还有一个界面很强的demo，可以直接在上面进行二次开发，推荐使用！</span><br><span class=\"line\">缺点：里面的子库很多，用起来可能较麻烦；而且感觉速度稍慢，不如后面提到的freeimage</span><br><span class=\"line\">但功能真的十分强大啊！</span><br><span class=\"line\"></span><br><span class=\"line\">主要使用这个处理相机原生图片，可以linux下自己不会编译</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://opencv.org/\" target=\"_blank\" rel=\"noopener\">OpenCV</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">对OpenCV的印象：功能十分的强大，而且支持目前先进的图像处理技术，体系十分完善，操作手册很详细，手册首先给大</span><br><span class=\"line\">家补计算机视觉的知识，几乎涵盖了近10年内的主流算法；然后将图像格式和矩阵运算，然后将各个算法的实现函数。我用</span><br><span class=\"line\">它来做了一个Harris角点检测器和Canny边缘检测器，总共就花了一个小时（第一次用OpenCV）。而且该库显示图像极其</span><br><span class=\"line\">方便，两句话就可以。但该库似乎不大稳定，对32F和16S、8U的图像数据支持上bug重重。我用cvFilter2D函数进行线性</span><br><span class=\"line\">滤波，屡屡出错，后来一查原来是大bug。后来用cvmGet来取矩阵元素也是频繁出错，仔细检查了N遍确保程序没问题之后</span><br><span class=\"line\">在yahoogroup上找到答案：仍然是bug。。。但好歹该库是开放的，所以自己可以修改；而且支持CVS。另外该库用的是</span><br><span class=\"line\">IPL矩阵库，速度奇快～～</span><br><span class=\"line\"></span><br><span class=\"line\">目前没有使用</span><br></pre></td></tr></table></figure>\n"},{"title":"markdown语言的总结","abbrlink":769639735,"date":"2019-03-18T10:29:41.000Z","_content":"","source":"_posts/markdown语言的总结.md","raw":"---\ntitle: markdown语言的总结\nabbrlink: 769639735\ndate: 2019-03-18 18:29:41\ncategories:\ntags:\n---\n","slug":"markdown语言的总结","published":1,"updated":"2020-05-11T10:02:09.561Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnm8001gggqg5693bxtz","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"mupdf-源码安装","abbrlink":3549577056,"date":"2020-04-29T03:44:14.000Z","_content":"\n### 一，源码下载\n\n~~~\n直接到官网上下载源码包\nhttps://www.mupdf.com/downloads/index.html\nmupdf-1.16.1-source.tar.gz\n~~~\n\n\n\n### 二，相关依赖下载\n\n~~~\nThis program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\nYou should have received a copy of the GNU Affero General Public License along with this program. If not, see http://www.gnu.org/licenses\n\nyum install freeglut-devel\n~~~\n\n### 三，编译安装\n\n~~~\nmake prefix=/usr/local install\n~~~\n\n### 四，使用注意\n\n在cmake的项目中使用静态库的时候，你只能生成静态链接库，在生成应用的时候，链接静态库和动态库都是一样的用法","source":"_posts/mupdf-源码安装.md","raw":"---\ntitle: mupdf-源码安装\ncategories: doc\ntags:\n  - pdf\nabbrlink: 3549577056\ndate: 2020-04-29 11:44:14\n---\n\n### 一，源码下载\n\n~~~\n直接到官网上下载源码包\nhttps://www.mupdf.com/downloads/index.html\nmupdf-1.16.1-source.tar.gz\n~~~\n\n\n\n### 二，相关依赖下载\n\n~~~\nThis program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.\nYou should have received a copy of the GNU Affero General Public License along with this program. If not, see http://www.gnu.org/licenses\n\nyum install freeglut-devel\n~~~\n\n### 三，编译安装\n\n~~~\nmake prefix=/usr/local install\n~~~\n\n### 四，使用注意\n\n在cmake的项目中使用静态库的时候，你只能生成静态链接库，在生成应用的时候，链接静态库和动态库都是一样的用法","slug":"mupdf-源码安装","published":1,"updated":"2020-05-11T10:02:09.561Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnmj001kggqgpvxmo41n","content":"<h3 id=\"一，源码下载\"><a href=\"#一，源码下载\" class=\"headerlink\" title=\"一，源码下载\"></a>一，源码下载</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">直接到官网上下载源码包</span><br><span class=\"line\">https://www.mupdf.com/downloads/index.html</span><br><span class=\"line\">mupdf-1.16.1-source.tar.gz</span><br></pre></td></tr></table></figure>\n<h3 id=\"二，相关依赖下载\"><a href=\"#二，相关依赖下载\" class=\"headerlink\" title=\"二，相关依赖下载\"></a>二，相关依赖下载</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</span><br><span class=\"line\">You should have received a copy of the GNU Affero General Public License along with this program. If not, see http://www.gnu.org/licenses</span><br><span class=\"line\"></span><br><span class=\"line\">yum install freeglut-devel</span><br></pre></td></tr></table></figure>\n<h3 id=\"三，编译安装\"><a href=\"#三，编译安装\" class=\"headerlink\" title=\"三，编译安装\"></a>三，编译安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make prefix=/usr/local install</span><br></pre></td></tr></table></figure>\n<h3 id=\"四，使用注意\"><a href=\"#四，使用注意\" class=\"headerlink\" title=\"四，使用注意\"></a>四，使用注意</h3><p>在cmake的项目中使用静态库的时候，你只能生成静态链接库，在生成应用的时候，链接静态库和动态库都是一样的用法</p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"一，源码下载\"><a href=\"#一，源码下载\" class=\"headerlink\" title=\"一，源码下载\"></a>一，源码下载</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">直接到官网上下载源码包</span><br><span class=\"line\">https://www.mupdf.com/downloads/index.html</span><br><span class=\"line\">mupdf-1.16.1-source.tar.gz</span><br></pre></td></tr></table></figure>\n<h3 id=\"二，相关依赖下载\"><a href=\"#二，相关依赖下载\" class=\"headerlink\" title=\"二，相关依赖下载\"></a>二，相关依赖下载</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</span><br><span class=\"line\">You should have received a copy of the GNU Affero General Public License along with this program. If not, see http://www.gnu.org/licenses</span><br><span class=\"line\"></span><br><span class=\"line\">yum install freeglut-devel</span><br></pre></td></tr></table></figure>\n<h3 id=\"三，编译安装\"><a href=\"#三，编译安装\" class=\"headerlink\" title=\"三，编译安装\"></a>三，编译安装</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make prefix=/usr/local install</span><br></pre></td></tr></table></figure>\n<h3 id=\"四，使用注意\"><a href=\"#四，使用注意\" class=\"headerlink\" title=\"四，使用注意\"></a>四，使用注意</h3><p>在cmake的项目中使用静态库的时候，你只能生成静态链接库，在生成应用的时候，链接静态库和动态库都是一样的用法</p>\n"},{"title":"mysql-centos7源码安装mysql8.0","abbrlink":1044847951,"date":"2020-04-17T02:24:23.000Z","_content":"\n\t因为直接通过yum安装的是mariadb，所以我们需要通过另外的方法来进行安装\n\n### 一，下载mysql\n\n地址：[https://dev.mysql.com/downloads/repo/yum/](https://dev.mysql.com/downloads/repo/yum/)。选择对应版本下载\n\n### 二，使用wget下载\n\n~~~\n在网站上看对应的版本号就好了\nwget https://repo.mysql.com//mysql80-community-release-el7-3.noarch.rpm\n~~~\n\n### 三，安装mysql的源\n\n~~~\nyum -y localinstall mysql80-community-release-el7-1.noarch.rpm（对应版本）\n~~~\n\n### 四，在线安装mysql\n\n~~~\nyum -y install mysql-community-server\n~~~\n\n### 五，linux下设置不区分大小写\n\n  1. 使用root账号登录，修改/etc/my.cnf；\n  2. 在[mysqld]下加入一行：lower_case_table_names=1\n  3. mysqld --user=mysql --lower-case-table-names=1 --initialize-insecure datadir=/var/lib/mysql\n\n### 六，设置开机自启\n\n~~~\nsystemctl enable mysqld\nsystemctl daemon-reload\n~~~\n\n### 七，修改本地root的密码\n\n  1. 查看root账户的临时密码，vim  /var/log/mysqld.log\n  2. 登录mysql，mysql -u root -p，输入1，中的临时密码\n  3. ALTER USER 'root'@'localhost' IDENTIFIED BY '你的密码';\n     修改密码为 你的密码 (备注：默认密码策略要求密码必须是大小写字母数字特殊字母的组合，至少8位)\n\n### 八， 修改密码策略要求\n\n~默认密码策略要求密码是大小写字母+数字+特殊字母的组合而且最少8位,不需要修改策略的可以跳过这步~\n\n~~~\n1，查看密码的策略\nSHOW VARIABLES LIKE 'validate_password%';\n2，修改密码的策略\nset global validate_password.check_user_name=OFF;\nset global validate_password.policy=LOW;\nset global validate_password.length=4;\nflush privileges;\n3，修改密码\nALTER USER 'root'@'localhost' IDENTIFIED BY 'root';\n~~~\n\n### 九，设置允许远程连接\n\n~~~\n1，重新登录mysql；\n2，选择mysql表； use mysql;\n3,更新表的内容；\nupdate user set Host='%' where User='root';\nGRANT ALL PRIVILEGES ON *.* TO 'root'@'%' WITH GRANT OPTION;//可能会报错，执行两次即可（不成功就再flush privileges;一次）\n~~~\n\n### 十，查看加密方式\n\n~~~\nselect user, host, plugin, authentication_string from user\\G;查看加密方式\n8.0加密方式（caching_sha2_password）有些客户端还不支持 ，导致客户端连接失败，所以使用mysql_native_password加密\nalter user 'root'@'%' identified with mysql_native_password by 'helios2020';\n\n~~~\n\n### 九，卸载mysql\n\n~~~\n删除Mysql\nyum remove mysql mysql-server mysql-libs mysql-server;\nfind / -name mysql 将找到的相关东西delete掉\n(rm -rf /var/lib/mysql)；\nrpm -qa|grep mysql(查询出来的东东yum remove掉)\nrm /etc/my.cnf （可能不存在）\n~~~\n\n","source":"_posts/mysql-centos7源码安装mysql8-0.md","raw":"---\ntitle: mysql-centos7源码安装mysql8.0\ncategories: mysql\ntags:\n  - centos7\n  - mysql\n  - tools\nabbrlink: 1044847951\ndate: 2020-04-17 10:24:23\n---\n\n\t因为直接通过yum安装的是mariadb，所以我们需要通过另外的方法来进行安装\n\n### 一，下载mysql\n\n地址：[https://dev.mysql.com/downloads/repo/yum/](https://dev.mysql.com/downloads/repo/yum/)。选择对应版本下载\n\n### 二，使用wget下载\n\n~~~\n在网站上看对应的版本号就好了\nwget https://repo.mysql.com//mysql80-community-release-el7-3.noarch.rpm\n~~~\n\n### 三，安装mysql的源\n\n~~~\nyum -y localinstall mysql80-community-release-el7-1.noarch.rpm（对应版本）\n~~~\n\n### 四，在线安装mysql\n\n~~~\nyum -y install mysql-community-server\n~~~\n\n### 五，linux下设置不区分大小写\n\n  1. 使用root账号登录，修改/etc/my.cnf；\n  2. 在[mysqld]下加入一行：lower_case_table_names=1\n  3. mysqld --user=mysql --lower-case-table-names=1 --initialize-insecure datadir=/var/lib/mysql\n\n### 六，设置开机自启\n\n~~~\nsystemctl enable mysqld\nsystemctl daemon-reload\n~~~\n\n### 七，修改本地root的密码\n\n  1. 查看root账户的临时密码，vim  /var/log/mysqld.log\n  2. 登录mysql，mysql -u root -p，输入1，中的临时密码\n  3. ALTER USER 'root'@'localhost' IDENTIFIED BY '你的密码';\n     修改密码为 你的密码 (备注：默认密码策略要求密码必须是大小写字母数字特殊字母的组合，至少8位)\n\n### 八， 修改密码策略要求\n\n~默认密码策略要求密码是大小写字母+数字+特殊字母的组合而且最少8位,不需要修改策略的可以跳过这步~\n\n~~~\n1，查看密码的策略\nSHOW VARIABLES LIKE 'validate_password%';\n2，修改密码的策略\nset global validate_password.check_user_name=OFF;\nset global validate_password.policy=LOW;\nset global validate_password.length=4;\nflush privileges;\n3，修改密码\nALTER USER 'root'@'localhost' IDENTIFIED BY 'root';\n~~~\n\n### 九，设置允许远程连接\n\n~~~\n1，重新登录mysql；\n2，选择mysql表； use mysql;\n3,更新表的内容；\nupdate user set Host='%' where User='root';\nGRANT ALL PRIVILEGES ON *.* TO 'root'@'%' WITH GRANT OPTION;//可能会报错，执行两次即可（不成功就再flush privileges;一次）\n~~~\n\n### 十，查看加密方式\n\n~~~\nselect user, host, plugin, authentication_string from user\\G;查看加密方式\n8.0加密方式（caching_sha2_password）有些客户端还不支持 ，导致客户端连接失败，所以使用mysql_native_password加密\nalter user 'root'@'%' identified with mysql_native_password by 'helios2020';\n\n~~~\n\n### 九，卸载mysql\n\n~~~\n删除Mysql\nyum remove mysql mysql-server mysql-libs mysql-server;\nfind / -name mysql 将找到的相关东西delete掉\n(rm -rf /var/lib/mysql)；\nrpm -qa|grep mysql(查询出来的东东yum remove掉)\nrm /etc/my.cnf （可能不存在）\n~~~\n\n","slug":"mysql-centos7源码安装mysql8-0","published":1,"updated":"2020-05-11T10:02:09.561Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnmn001lggqgo1vkres2","content":"<pre><code>因为直接通过yum安装的是mariadb，所以我们需要通过另外的方法来进行安装\n</code></pre><h3 id=\"一，下载mysql\"><a href=\"#一，下载mysql\" class=\"headerlink\" title=\"一，下载mysql\"></a>一，下载mysql</h3><p>地址：<a href=\"https://dev.mysql.com/downloads/repo/yum/\" target=\"_blank\" rel=\"noopener\">https://dev.mysql.com/downloads/repo/yum/</a>。选择对应版本下载</p>\n<h3 id=\"二，使用wget下载\"><a href=\"#二，使用wget下载\" class=\"headerlink\" title=\"二，使用wget下载\"></a>二，使用wget下载</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在网站上看对应的版本号就好了</span><br><span class=\"line\">wget https://repo.mysql.com//mysql80-community-release-el7-3.noarch.rpm</span><br></pre></td></tr></table></figure>\n<h3 id=\"三，安装mysql的源\"><a href=\"#三，安装mysql的源\" class=\"headerlink\" title=\"三，安装mysql的源\"></a>三，安装mysql的源</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y localinstall mysql80-community-release-el7-1.noarch.rpm（对应版本）</span><br></pre></td></tr></table></figure>\n<h3 id=\"四，在线安装mysql\"><a href=\"#四，在线安装mysql\" class=\"headerlink\" title=\"四，在线安装mysql\"></a>四，在线安装mysql</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install mysql-community-server</span><br></pre></td></tr></table></figure>\n<h3 id=\"五，linux下设置不区分大小写\"><a href=\"#五，linux下设置不区分大小写\" class=\"headerlink\" title=\"五，linux下设置不区分大小写\"></a>五，linux下设置不区分大小写</h3><ol>\n<li>使用root账号登录，修改/etc/my.cnf；</li>\n<li>在[mysqld]下加入一行：lower_case_table_names=1</li>\n<li>mysqld –user=mysql –lower-case-table-names=1 –initialize-insecure datadir=/var/lib/mysql</li>\n</ol>\n<h3 id=\"六，设置开机自启\"><a href=\"#六，设置开机自启\" class=\"headerlink\" title=\"六，设置开机自启\"></a>六，设置开机自启</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl enable mysqld</span><br><span class=\"line\">systemctl daemon-reload</span><br></pre></td></tr></table></figure>\n<h3 id=\"七，修改本地root的密码\"><a href=\"#七，修改本地root的密码\" class=\"headerlink\" title=\"七，修改本地root的密码\"></a>七，修改本地root的密码</h3><ol>\n<li>查看root账户的临时密码，vim  /var/log/mysqld.log</li>\n<li>登录mysql，mysql -u root -p，输入1，中的临时密码</li>\n<li>ALTER USER ‘root‘@’localhost’ IDENTIFIED BY ‘你的密码’;<br>修改密码为 你的密码 (备注：默认密码策略要求密码必须是大小写字母数字特殊字母的组合，至少8位)</li>\n</ol>\n<h3 id=\"八，-修改密码策略要求\"><a href=\"#八，-修改密码策略要求\" class=\"headerlink\" title=\"八， 修改密码策略要求\"></a>八， 修改密码策略要求</h3><p>~默认密码策略要求密码是大小写字母+数字+特殊字母的组合而且最少8位,不需要修改策略的可以跳过这步~</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1，查看密码的策略</span><br><span class=\"line\">SHOW VARIABLES LIKE &apos;validate_password%&apos;;</span><br><span class=\"line\">2，修改密码的策略</span><br><span class=\"line\">set global validate_password.check_user_name=OFF;</span><br><span class=\"line\">set global validate_password.policy=LOW;</span><br><span class=\"line\">set global validate_password.length=4;</span><br><span class=\"line\">flush privileges;</span><br><span class=\"line\">3，修改密码</span><br><span class=\"line\">ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;root&apos;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"九，设置允许远程连接\"><a href=\"#九，设置允许远程连接\" class=\"headerlink\" title=\"九，设置允许远程连接\"></a>九，设置允许远程连接</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1，重新登录mysql；</span><br><span class=\"line\">2，选择mysql表； use mysql;</span><br><span class=\"line\">3,更新表的内容；</span><br><span class=\"line\">update user set Host=&apos;%&apos; where User=&apos;root&apos;;</span><br><span class=\"line\">GRANT ALL PRIVILEGES ON *.* TO &apos;root&apos;@&apos;%&apos; WITH GRANT OPTION;//可能会报错，执行两次即可（不成功就再flush privileges;一次）</span><br></pre></td></tr></table></figure>\n<h3 id=\"十，查看加密方式\"><a href=\"#十，查看加密方式\" class=\"headerlink\" title=\"十，查看加密方式\"></a>十，查看加密方式</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select user, host, plugin, authentication_string from user\\G;查看加密方式</span><br><span class=\"line\">8.0加密方式（caching_sha2_password）有些客户端还不支持 ，导致客户端连接失败，所以使用mysql_native_password加密</span><br><span class=\"line\">alter user &apos;root&apos;@&apos;%&apos; identified with mysql_native_password by &apos;helios2020&apos;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"九，卸载mysql\"><a href=\"#九，卸载mysql\" class=\"headerlink\" title=\"九，卸载mysql\"></a>九，卸载mysql</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">删除Mysql</span><br><span class=\"line\">yum remove mysql mysql-server mysql-libs mysql-server;</span><br><span class=\"line\">find / -name mysql 将找到的相关东西delete掉</span><br><span class=\"line\">(rm -rf /var/lib/mysql)；</span><br><span class=\"line\">rpm -qa|grep mysql(查询出来的东东yum remove掉)</span><br><span class=\"line\">rm /etc/my.cnf （可能不存在）</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<pre><code>因为直接通过yum安装的是mariadb，所以我们需要通过另外的方法来进行安装\n</code></pre><h3 id=\"一，下载mysql\"><a href=\"#一，下载mysql\" class=\"headerlink\" title=\"一，下载mysql\"></a>一，下载mysql</h3><p>地址：<a href=\"https://dev.mysql.com/downloads/repo/yum/\" target=\"_blank\" rel=\"noopener\">https://dev.mysql.com/downloads/repo/yum/</a>。选择对应版本下载</p>\n<h3 id=\"二，使用wget下载\"><a href=\"#二，使用wget下载\" class=\"headerlink\" title=\"二，使用wget下载\"></a>二，使用wget下载</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在网站上看对应的版本号就好了</span><br><span class=\"line\">wget https://repo.mysql.com//mysql80-community-release-el7-3.noarch.rpm</span><br></pre></td></tr></table></figure>\n<h3 id=\"三，安装mysql的源\"><a href=\"#三，安装mysql的源\" class=\"headerlink\" title=\"三，安装mysql的源\"></a>三，安装mysql的源</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y localinstall mysql80-community-release-el7-1.noarch.rpm（对应版本）</span><br></pre></td></tr></table></figure>\n<h3 id=\"四，在线安装mysql\"><a href=\"#四，在线安装mysql\" class=\"headerlink\" title=\"四，在线安装mysql\"></a>四，在线安装mysql</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install mysql-community-server</span><br></pre></td></tr></table></figure>\n<h3 id=\"五，linux下设置不区分大小写\"><a href=\"#五，linux下设置不区分大小写\" class=\"headerlink\" title=\"五，linux下设置不区分大小写\"></a>五，linux下设置不区分大小写</h3><ol>\n<li>使用root账号登录，修改/etc/my.cnf；</li>\n<li>在[mysqld]下加入一行：lower_case_table_names=1</li>\n<li>mysqld –user=mysql –lower-case-table-names=1 –initialize-insecure datadir=/var/lib/mysql</li>\n</ol>\n<h3 id=\"六，设置开机自启\"><a href=\"#六，设置开机自启\" class=\"headerlink\" title=\"六，设置开机自启\"></a>六，设置开机自启</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl enable mysqld</span><br><span class=\"line\">systemctl daemon-reload</span><br></pre></td></tr></table></figure>\n<h3 id=\"七，修改本地root的密码\"><a href=\"#七，修改本地root的密码\" class=\"headerlink\" title=\"七，修改本地root的密码\"></a>七，修改本地root的密码</h3><ol>\n<li>查看root账户的临时密码，vim  /var/log/mysqld.log</li>\n<li>登录mysql，mysql -u root -p，输入1，中的临时密码</li>\n<li>ALTER USER ‘root‘@’localhost’ IDENTIFIED BY ‘你的密码’;<br>修改密码为 你的密码 (备注：默认密码策略要求密码必须是大小写字母数字特殊字母的组合，至少8位)</li>\n</ol>\n<h3 id=\"八，-修改密码策略要求\"><a href=\"#八，-修改密码策略要求\" class=\"headerlink\" title=\"八， 修改密码策略要求\"></a>八， 修改密码策略要求</h3><p>~默认密码策略要求密码是大小写字母+数字+特殊字母的组合而且最少8位,不需要修改策略的可以跳过这步~</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1，查看密码的策略</span><br><span class=\"line\">SHOW VARIABLES LIKE &apos;validate_password%&apos;;</span><br><span class=\"line\">2，修改密码的策略</span><br><span class=\"line\">set global validate_password.check_user_name=OFF;</span><br><span class=\"line\">set global validate_password.policy=LOW;</span><br><span class=\"line\">set global validate_password.length=4;</span><br><span class=\"line\">flush privileges;</span><br><span class=\"line\">3，修改密码</span><br><span class=\"line\">ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;root&apos;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"九，设置允许远程连接\"><a href=\"#九，设置允许远程连接\" class=\"headerlink\" title=\"九，设置允许远程连接\"></a>九，设置允许远程连接</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1，重新登录mysql；</span><br><span class=\"line\">2，选择mysql表； use mysql;</span><br><span class=\"line\">3,更新表的内容；</span><br><span class=\"line\">update user set Host=&apos;%&apos; where User=&apos;root&apos;;</span><br><span class=\"line\">GRANT ALL PRIVILEGES ON *.* TO &apos;root&apos;@&apos;%&apos; WITH GRANT OPTION;//可能会报错，执行两次即可（不成功就再flush privileges;一次）</span><br></pre></td></tr></table></figure>\n<h3 id=\"十，查看加密方式\"><a href=\"#十，查看加密方式\" class=\"headerlink\" title=\"十，查看加密方式\"></a>十，查看加密方式</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">select user, host, plugin, authentication_string from user\\G;查看加密方式</span><br><span class=\"line\">8.0加密方式（caching_sha2_password）有些客户端还不支持 ，导致客户端连接失败，所以使用mysql_native_password加密</span><br><span class=\"line\">alter user &apos;root&apos;@&apos;%&apos; identified with mysql_native_password by &apos;helios2020&apos;;</span><br></pre></td></tr></table></figure>\n<h3 id=\"九，卸载mysql\"><a href=\"#九，卸载mysql\" class=\"headerlink\" title=\"九，卸载mysql\"></a>九，卸载mysql</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">删除Mysql</span><br><span class=\"line\">yum remove mysql mysql-server mysql-libs mysql-server;</span><br><span class=\"line\">find / -name mysql 将找到的相关东西delete掉</span><br><span class=\"line\">(rm -rf /var/lib/mysql)；</span><br><span class=\"line\">rpm -qa|grep mysql(查询出来的东东yum remove掉)</span><br><span class=\"line\">rm /etc/my.cnf （可能不存在）</span><br></pre></td></tr></table></figure>\n"},{"title":"opencv-源码安装","abbrlink":3084764285,"date":"2020-04-29T03:41:25.000Z","_content":"\n### 一，源码下载\n\n​\t\t通过git源码下载OpenCV，直接在GitHub上下载的速度特别慢，所以我们需要先将其fork，然后同步到gitee上面，通过自己的gitee账号来进行下载，这个速度比较快。\n\n~~~\ngit clone https://gitee.com/helioswei/opencv.git\n~~~\n\n\n\n### 二，源码编译\n\n##### 1，cmake版本需求\n\n~~~\nCMake 3.5.1 or higher is required.  You are running version 2.8.12.2\n我们需要先源码编译cmake\n~~~\n\n\n\n##### 2，安装相关的依赖\n\n~~~\n1，需要Python的依赖包\n\n~~~\n\n\n\n##### 2，编译\n\n~~~\n在OpenCV目录中，创建build目录，然后直接cmake\ncd opencv\nmkdir build\ncd build\ncmake ..\n~~~\n\n","source":"_posts/opencv-源码安装.md","raw":"---\ntitle: opencv-源码安装\ncategories: opencv\ntags:\n  - centos7\nabbrlink: 3084764285\ndate: 2020-04-29 11:41:25\n---\n\n### 一，源码下载\n\n​\t\t通过git源码下载OpenCV，直接在GitHub上下载的速度特别慢，所以我们需要先将其fork，然后同步到gitee上面，通过自己的gitee账号来进行下载，这个速度比较快。\n\n~~~\ngit clone https://gitee.com/helioswei/opencv.git\n~~~\n\n\n\n### 二，源码编译\n\n##### 1，cmake版本需求\n\n~~~\nCMake 3.5.1 or higher is required.  You are running version 2.8.12.2\n我们需要先源码编译cmake\n~~~\n\n\n\n##### 2，安装相关的依赖\n\n~~~\n1，需要Python的依赖包\n\n~~~\n\n\n\n##### 2，编译\n\n~~~\n在OpenCV目录中，创建build目录，然后直接cmake\ncd opencv\nmkdir build\ncd build\ncmake ..\n~~~\n\n","slug":"opencv-源码安装","published":1,"updated":"2020-05-11T10:02:09.561Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnn2001pggqgi9mb7hwc","content":"<h3 id=\"一，源码下载\"><a href=\"#一，源码下载\" class=\"headerlink\" title=\"一，源码下载\"></a>一，源码下载</h3><p>​        通过git源码下载OpenCV，直接在GitHub上下载的速度特别慢，所以我们需要先将其fork，然后同步到gitee上面，通过自己的gitee账号来进行下载，这个速度比较快。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://gitee.com/helioswei/opencv.git</span><br></pre></td></tr></table></figure>\n<h3 id=\"二，源码编译\"><a href=\"#二，源码编译\" class=\"headerlink\" title=\"二，源码编译\"></a>二，源码编译</h3><h5 id=\"1，cmake版本需求\"><a href=\"#1，cmake版本需求\" class=\"headerlink\" title=\"1，cmake版本需求\"></a>1，cmake版本需求</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CMake 3.5.1 or higher is required.  You are running version 2.8.12.2</span><br><span class=\"line\">我们需要先源码编译cmake</span><br></pre></td></tr></table></figure>\n<h5 id=\"2，安装相关的依赖\"><a href=\"#2，安装相关的依赖\" class=\"headerlink\" title=\"2，安装相关的依赖\"></a>2，安装相关的依赖</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1，需要Python的依赖包</span><br></pre></td></tr></table></figure>\n<h5 id=\"2，编译\"><a href=\"#2，编译\" class=\"headerlink\" title=\"2，编译\"></a>2，编译</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在OpenCV目录中，创建build目录，然后直接cmake</span><br><span class=\"line\">cd opencv</span><br><span class=\"line\">mkdir build</span><br><span class=\"line\">cd build</span><br><span class=\"line\">cmake ..</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"一，源码下载\"><a href=\"#一，源码下载\" class=\"headerlink\" title=\"一，源码下载\"></a>一，源码下载</h3><p>​        通过git源码下载OpenCV，直接在GitHub上下载的速度特别慢，所以我们需要先将其fork，然后同步到gitee上面，通过自己的gitee账号来进行下载，这个速度比较快。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://gitee.com/helioswei/opencv.git</span><br></pre></td></tr></table></figure>\n<h3 id=\"二，源码编译\"><a href=\"#二，源码编译\" class=\"headerlink\" title=\"二，源码编译\"></a>二，源码编译</h3><h5 id=\"1，cmake版本需求\"><a href=\"#1，cmake版本需求\" class=\"headerlink\" title=\"1，cmake版本需求\"></a>1，cmake版本需求</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CMake 3.5.1 or higher is required.  You are running version 2.8.12.2</span><br><span class=\"line\">我们需要先源码编译cmake</span><br></pre></td></tr></table></figure>\n<h5 id=\"2，安装相关的依赖\"><a href=\"#2，安装相关的依赖\" class=\"headerlink\" title=\"2，安装相关的依赖\"></a>2，安装相关的依赖</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1，需要Python的依赖包</span><br></pre></td></tr></table></figure>\n<h5 id=\"2，编译\"><a href=\"#2，编译\" class=\"headerlink\" title=\"2，编译\"></a>2，编译</h5><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在OpenCV目录中，创建build目录，然后直接cmake</span><br><span class=\"line\">cd opencv</span><br><span class=\"line\">mkdir build</span><br><span class=\"line\">cd build</span><br><span class=\"line\">cmake ..</span><br></pre></td></tr></table></figure>\n"},{"title":"others-时间管理","abbrlink":1904238135,"date":"2019-03-15T08:56:51.000Z","_content":"\n目标设定是第一步，提供路线图\n\n你的目标是什么？\n短期内。你希望达成什么样的愿望？\n长期来说。你希望你的人生是什么样子？\n","source":"_posts/others-时间管理.md","raw":"---\ntitle: others-时间管理\ncategories: 杂谈\nabbrlink: 1904238135\ndate: 2019-03-15 16:56:51\ntags:\n---\n\n目标设定是第一步，提供路线图\n\n你的目标是什么？\n短期内。你希望达成什么样的愿望？\n长期来说。你希望你的人生是什么样子？\n","slug":"others-时间管理","published":1,"updated":"2020-05-11T10:02:09.561Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnn6001rggqg02dqxe5w","content":"<p>目标设定是第一步，提供路线图</p>\n<p>你的目标是什么？<br>短期内。你希望达成什么样的愿望？<br>长期来说。你希望你的人生是什么样子？</p>\n","site":{"data":{}},"excerpt":"","more":"<p>目标设定是第一步，提供路线图</p>\n<p>你的目标是什么？<br>短期内。你希望达成什么样的愿望？<br>长期来说。你希望你的人生是什么样子？</p>\n"},{"title":"poco-源码编译包含mysql","abbrlink":3587508548,"date":"2020-04-17T02:08:59.000Z","_content":"\n### 一，源码下载库\n\n~~~\n先在git上fork，然后同步到码云上，在clone可以加快下载的速度\ngit clone https://gitee.com/helioswei/poco.git\n~~~\n\n\n\n### 二，编译环境准备\n\n~~~\nyum install gcc-c++ make openssl-devel\n~~~\n\n\n\n### 三，安装mysql\n\n~~~\n见mysql的源码安装，安装时没有头文件，所以我们需要安装头文件\nyum install mysql-devel\n~~~\n\n\n\n### 四，编译\n\n~~~\n需要提前安装GCC5.1.0来支持c++14\n./configure --shared --prefix=/usr/local/poco  --cflags=-std=c++14 --include-path=/usr/include/mysql/ --library-path=/usr/lib64/mysql/ --omit=Data/ODBC,MongoDB,PDF\n~~~\n\n","source":"_posts/poco-源码编译包含mysql.md","raw":"---\ntitle: poco-源码编译包含mysql\ncategories: poco\ntags:\n  - mysql\n  - cpp\nabbrlink: 3587508548\ndate: 2020-04-17 10:08:59\n---\n\n### 一，源码下载库\n\n~~~\n先在git上fork，然后同步到码云上，在clone可以加快下载的速度\ngit clone https://gitee.com/helioswei/poco.git\n~~~\n\n\n\n### 二，编译环境准备\n\n~~~\nyum install gcc-c++ make openssl-devel\n~~~\n\n\n\n### 三，安装mysql\n\n~~~\n见mysql的源码安装，安装时没有头文件，所以我们需要安装头文件\nyum install mysql-devel\n~~~\n\n\n\n### 四，编译\n\n~~~\n需要提前安装GCC5.1.0来支持c++14\n./configure --shared --prefix=/usr/local/poco  --cflags=-std=c++14 --include-path=/usr/include/mysql/ --library-path=/usr/lib64/mysql/ --omit=Data/ODBC,MongoDB,PDF\n~~~\n\n","slug":"poco-源码编译包含mysql","published":1,"updated":"2020-05-11T10:02:09.562Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnnh001wggqgue4v2jf5","content":"<h3 id=\"一，源码下载库\"><a href=\"#一，源码下载库\" class=\"headerlink\" title=\"一，源码下载库\"></a>一，源码下载库</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">先在git上fork，然后同步到码云上，在clone可以加快下载的速度</span><br><span class=\"line\">git clone https://gitee.com/helioswei/poco.git</span><br></pre></td></tr></table></figure>\n<h3 id=\"二，编译环境准备\"><a href=\"#二，编译环境准备\" class=\"headerlink\" title=\"二，编译环境准备\"></a>二，编译环境准备</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install gcc-c++ make openssl-devel</span><br></pre></td></tr></table></figure>\n<h3 id=\"三，安装mysql\"><a href=\"#三，安装mysql\" class=\"headerlink\" title=\"三，安装mysql\"></a>三，安装mysql</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">见mysql的源码安装，安装时没有头文件，所以我们需要安装头文件</span><br><span class=\"line\">yum install mysql-devel</span><br></pre></td></tr></table></figure>\n<h3 id=\"四，编译\"><a href=\"#四，编译\" class=\"headerlink\" title=\"四，编译\"></a>四，编译</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">需要提前安装GCC5.1.0来支持c++14</span><br><span class=\"line\">./configure --shared --prefix=/usr/local/poco  --cflags=-std=c++14 --include-path=/usr/include/mysql/ --library-path=/usr/lib64/mysql/ --omit=Data/ODBC,MongoDB,PDF</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"一，源码下载库\"><a href=\"#一，源码下载库\" class=\"headerlink\" title=\"一，源码下载库\"></a>一，源码下载库</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">先在git上fork，然后同步到码云上，在clone可以加快下载的速度</span><br><span class=\"line\">git clone https://gitee.com/helioswei/poco.git</span><br></pre></td></tr></table></figure>\n<h3 id=\"二，编译环境准备\"><a href=\"#二，编译环境准备\" class=\"headerlink\" title=\"二，编译环境准备\"></a>二，编译环境准备</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install gcc-c++ make openssl-devel</span><br></pre></td></tr></table></figure>\n<h3 id=\"三，安装mysql\"><a href=\"#三，安装mysql\" class=\"headerlink\" title=\"三，安装mysql\"></a>三，安装mysql</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">见mysql的源码安装，安装时没有头文件，所以我们需要安装头文件</span><br><span class=\"line\">yum install mysql-devel</span><br></pre></td></tr></table></figure>\n<h3 id=\"四，编译\"><a href=\"#四，编译\" class=\"headerlink\" title=\"四，编译\"></a>四，编译</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">需要提前安装GCC5.1.0来支持c++14</span><br><span class=\"line\">./configure --shared --prefix=/usr/local/poco  --cflags=-std=c++14 --include-path=/usr/include/mysql/ --library-path=/usr/lib64/mysql/ --omit=Data/ODBC,MongoDB,PDF</span><br></pre></td></tr></table></figure>\n"},{"title":"s3-关于s3cmd的下载","abbrlink":3778876136,"date":"2019-03-18T10:02:31.000Z","_content":"\n&nbsp;&nbsp;&nbsp;&nbsp;很多人都用过对象存储，比如亚马逊的s3平台，我想大家都比较熟悉，今天来介绍一款工具，用来在centos7平台上方便的操作对象存储的东西，比如查看自己的桶，创建桶等。\n\n## s3cmd的下载 ##\n\n### 第一步下载get-pip.py\n>wget  https://bootstrap.pypa.io/get-pip.py\n\n### 第二步安装get-pip.py\n>python get-pip.py\n\n### 第三步安装s3cmd\n>pip install s3cmd\n\n### 第四步设置.s3cfg\n>设置三个比较主要的  \n>![设置access_key](/images/access_key.png)  \n>![设置host_bucket](/images/host_bucket.png)  \n>![设置secret_key](/images/secret_key.png)  \n\n\n","source":"_posts/s3-关于s3cmd的下载.md","raw":"---\ntitle: s3-关于s3cmd的下载\ncategories: s3对象存储\ntags:\n  - s3\n  - centos7\nabbrlink: 3778876136\ndate: 2019-03-18 18:02:31\n---\n\n&nbsp;&nbsp;&nbsp;&nbsp;很多人都用过对象存储，比如亚马逊的s3平台，我想大家都比较熟悉，今天来介绍一款工具，用来在centos7平台上方便的操作对象存储的东西，比如查看自己的桶，创建桶等。\n\n## s3cmd的下载 ##\n\n### 第一步下载get-pip.py\n>wget  https://bootstrap.pypa.io/get-pip.py\n\n### 第二步安装get-pip.py\n>python get-pip.py\n\n### 第三步安装s3cmd\n>pip install s3cmd\n\n### 第四步设置.s3cfg\n>设置三个比较主要的  \n>![设置access_key](/images/access_key.png)  \n>![设置host_bucket](/images/host_bucket.png)  \n>![设置secret_key](/images/secret_key.png)  \n\n\n","slug":"s3-关于s3cmd的下载","published":1,"updated":"2020-05-11T10:02:09.562Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnnn001yggqg7k5jy41y","content":"<p>&nbsp;&nbsp;&nbsp;&nbsp;很多人都用过对象存储，比如亚马逊的s3平台，我想大家都比较熟悉，今天来介绍一款工具，用来在centos7平台上方便的操作对象存储的东西，比如查看自己的桶，创建桶等。</p>\n<h2 id=\"s3cmd的下载\"><a href=\"#s3cmd的下载\" class=\"headerlink\" title=\"s3cmd的下载\"></a>s3cmd的下载</h2><h3 id=\"第一步下载get-pip-py\"><a href=\"#第一步下载get-pip-py\" class=\"headerlink\" title=\"第一步下载get-pip.py\"></a>第一步下载get-pip.py</h3><blockquote>\n<p>wget  <a href=\"https://bootstrap.pypa.io/get-pip.py\" target=\"_blank\" rel=\"noopener\">https://bootstrap.pypa.io/get-pip.py</a></p>\n</blockquote>\n<h3 id=\"第二步安装get-pip-py\"><a href=\"#第二步安装get-pip-py\" class=\"headerlink\" title=\"第二步安装get-pip.py\"></a>第二步安装get-pip.py</h3><blockquote>\n<p>python get-pip.py</p>\n</blockquote>\n<h3 id=\"第三步安装s3cmd\"><a href=\"#第三步安装s3cmd\" class=\"headerlink\" title=\"第三步安装s3cmd\"></a>第三步安装s3cmd</h3><blockquote>\n<p>pip install s3cmd</p>\n</blockquote>\n<h3 id=\"第四步设置-s3cfg\"><a href=\"#第四步设置-s3cfg\" class=\"headerlink\" title=\"第四步设置.s3cfg\"></a>第四步设置.s3cfg</h3><blockquote>\n<p>设置三个比较主要的<br><img src=\"/images/access_key.png\" alt=\"设置access_key\"><br><img src=\"/images/host_bucket.png\" alt=\"设置host_bucket\"><br><img src=\"/images/secret_key.png\" alt=\"设置secret_key\">  </p>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<p>&nbsp;&nbsp;&nbsp;&nbsp;很多人都用过对象存储，比如亚马逊的s3平台，我想大家都比较熟悉，今天来介绍一款工具，用来在centos7平台上方便的操作对象存储的东西，比如查看自己的桶，创建桶等。</p>\n<h2 id=\"s3cmd的下载\"><a href=\"#s3cmd的下载\" class=\"headerlink\" title=\"s3cmd的下载\"></a>s3cmd的下载</h2><h3 id=\"第一步下载get-pip-py\"><a href=\"#第一步下载get-pip-py\" class=\"headerlink\" title=\"第一步下载get-pip.py\"></a>第一步下载get-pip.py</h3><blockquote>\n<p>wget  <a href=\"https://bootstrap.pypa.io/get-pip.py\" target=\"_blank\" rel=\"noopener\">https://bootstrap.pypa.io/get-pip.py</a></p>\n</blockquote>\n<h3 id=\"第二步安装get-pip-py\"><a href=\"#第二步安装get-pip-py\" class=\"headerlink\" title=\"第二步安装get-pip.py\"></a>第二步安装get-pip.py</h3><blockquote>\n<p>python get-pip.py</p>\n</blockquote>\n<h3 id=\"第三步安装s3cmd\"><a href=\"#第三步安装s3cmd\" class=\"headerlink\" title=\"第三步安装s3cmd\"></a>第三步安装s3cmd</h3><blockquote>\n<p>pip install s3cmd</p>\n</blockquote>\n<h3 id=\"第四步设置-s3cfg\"><a href=\"#第四步设置-s3cfg\" class=\"headerlink\" title=\"第四步设置.s3cfg\"></a>第四步设置.s3cfg</h3><blockquote>\n<p>设置三个比较主要的<br><img src=\"/images/access_key.png\" alt=\"设置access_key\"><br><img src=\"/images/host_bucket.png\" alt=\"设置host_bucket\"><br><img src=\"/images/secret_key.png\" alt=\"设置secret_key\">  </p>\n</blockquote>\n"},{"title":"相机底片的解析","abbrlink":4054922039,"date":"2019-04-16T03:31:36.000Z","_content":"\n&nbsp;&nbsp;&nbsp;&nbsp;公司要求对相机原生格式如后缀为dng,CR2等的图片进行转码，然后预览，自己查找了一下资料，目前仅仅是用命令行来进行处理的，因为我们是linux端的服务，所以直接封装命令行比较的简单。\n\n### DNG数据格式的介绍\n```\nhttp://www.cnblogs.com/adong7639/p/4446828.html\nhttps://blog.csdn.net/wgx571859177/article/details/80755793?utm_source=blogxgwz1\n```\n\n### DNG格式基本的概念\n```\n  DNG格式是在TIFF的基础上扩展出来的，要了解DNG，需要清楚TIFF,\nTIFF/EP,DNG,RAW之间的关系。\n  DNG（Digital Negative）是Adobe开发的一种开发的raw image file format ,\n主要是为了统一不同厂商的raw格式。里面使用的tag基本上都定义在TIFF或者TIFF/EP 中，\n在DNG Sepcification中只是定义或者建议了数据的组织方式，颜色空间的转换等等。\n\n```\n\n### TIFF/EP\n```\nTIFF是一个灵活适应性强的文件格式。通过在文件标头中使用\"标签\"，它能够在一个\n文件中处理多幅图像和数据。标签能够标明图像的如图像大小这样的基本几何尺寸，\n或者定义图像数据是如何排列的，或者是否使用了各种各样的图像压缩选项。\n\nTIFF/EP的全称是\"Tag Image File Format / Electronic Photography\"。 \n它是一个名为\"Electronic still-picture imaging – Removable \nmemory – Part 2: TIFF/EP image data format\"ISO标准， 标准号为\nISO12234-2。TIFF/EP对TIFF文件扩展部分标记属性。\n```\n\n### RAW\n```\nRAW文件包含创建一个可视图像所必须的相机传感器数据信息。RAW文件的结构，包括ISO标准的RAW图像格式ISO 12234-2 ，TIFF / EP，往往遵循一个共同的模式，那就是：\n\n一个短的文件头，它通常包含文件的字节顺序，文件标识符和主数据的文件偏移量摄像传感器元数据，用来描述图像传感器的数据，包括传感器的尺寸， 颜色滤波矩阵(color filter array)的属性和它的颜色配置文件\n\n列入任何CMS环境或数据库中需要的图像元数据。这些措施包括曝光设定，相机/扫描仪/镜头模型，拍摄/扫描日期（和可选的位置信息），创作信息和其他。一些原始文件包含可交换图像格式的标准化元数据节；\n\n图像缩略图；\n\n可选的JPEG格式缩小尺寸的图像，可用于快速预览；\n\n在电影胶片扫描中，无论是文件序列的时间码，序列码或帧编号都代表在扫描卷轴中的帧顺序。这个项目允许文件被被按帧顺序排列（不依赖于它的文件名​）；\n\n传感器图像数据；\n```\n\n### 常见的RAW格式\n```\n许多RAW格式, 包括 3FR (Hasselblad), DCR, K25, KDC (Kodak), IIQ (Phase One), CR2 (Canon), \nERF (Epson), MEF (Mamiya), MOS (Leaf), NEF (Nikon), ORF (Olympus), PEF (Pentax), \nRW2 (Panasonic) and ARW, SRF, SR2 (Sony), 都是基于TIFF格式。 这些文件可能在许多方面偏离TIFF标准，\n包括使用一个非标准的文件头，列入额外的图像标记和一些标签的数据加密。\n```\n\n### TIFF, TIFF/EP, DNG, RAW之间的关系\n```\nTIFF和DNG同为Specification，分别定义了后缀名为.tif/.tiff和.dng的文件格式同时在TIFF Specification也定义个baseline及部分扩展的tag。\n\nTIFF/EP则定义并规范了在电子影像中所使用的TAG。\n\nDNG同时与TIFF和TIFF/EP兼容，并包含了EXIF和XMP信息。DNG实际上就是扩张的TIFF， 把DNG的扩展名改成TIF就可以直接预览图片。\n\n在DNG出现以前，各个数码相机制造商都有自己的格式，比如Canon(cr2/crw), Nikon(nef), Olympus(orf), Pentex(pef)等等。之所以出现这么多格式，一方面的原因是在这之前没有统一的raw格式， 但更重要的是，各个厂商希望用这个只对自己公开的数据格式来保护自己的私密信息。Adobe推出DNG希望能一统raw的天下。\n```\n\n### 处理不同格式RAW或者DNG底片的方法\n&nbsp;&nbsp;&nbsp;&nbsp;为了能够得到RAW格式或者DNG格式的jpg图片供我们预览，可以使用DCRAW和ffmpeg来结合使用\n#### dcraw介绍\n```\nhttps://blog.csdn.net/bi_diu1368/article/details/80411304\n```\n```\n1,dcraw 下载   yum  install dcraw\n2.1,如果相机底片有缩略图，则直接可以通过  dcraw  -e   test.dng  获得其缩略图（注意，缩略图也有不存在的时候）\n\n2.2,如果没有缩略图，则可以先将RAW格式的转化为ppm   dcraw  -v  test.dng  获取其ppm的图片；\n然后在通过ffmpeg可以将 ppm格式的图片转码jpg  ffmpeg  -i  test.ppm out.jpg \n\n```","source":"_posts/相机底片的解析.md","raw":"---\ntitle: 相机底片的解析\ncategories: 图片处理\ntags: image\nabbrlink: 4054922039\ndate: 2019-04-16 11:31:36\n---\n\n&nbsp;&nbsp;&nbsp;&nbsp;公司要求对相机原生格式如后缀为dng,CR2等的图片进行转码，然后预览，自己查找了一下资料，目前仅仅是用命令行来进行处理的，因为我们是linux端的服务，所以直接封装命令行比较的简单。\n\n### DNG数据格式的介绍\n```\nhttp://www.cnblogs.com/adong7639/p/4446828.html\nhttps://blog.csdn.net/wgx571859177/article/details/80755793?utm_source=blogxgwz1\n```\n\n### DNG格式基本的概念\n```\n  DNG格式是在TIFF的基础上扩展出来的，要了解DNG，需要清楚TIFF,\nTIFF/EP,DNG,RAW之间的关系。\n  DNG（Digital Negative）是Adobe开发的一种开发的raw image file format ,\n主要是为了统一不同厂商的raw格式。里面使用的tag基本上都定义在TIFF或者TIFF/EP 中，\n在DNG Sepcification中只是定义或者建议了数据的组织方式，颜色空间的转换等等。\n\n```\n\n### TIFF/EP\n```\nTIFF是一个灵活适应性强的文件格式。通过在文件标头中使用\"标签\"，它能够在一个\n文件中处理多幅图像和数据。标签能够标明图像的如图像大小这样的基本几何尺寸，\n或者定义图像数据是如何排列的，或者是否使用了各种各样的图像压缩选项。\n\nTIFF/EP的全称是\"Tag Image File Format / Electronic Photography\"。 \n它是一个名为\"Electronic still-picture imaging – Removable \nmemory – Part 2: TIFF/EP image data format\"ISO标准， 标准号为\nISO12234-2。TIFF/EP对TIFF文件扩展部分标记属性。\n```\n\n### RAW\n```\nRAW文件包含创建一个可视图像所必须的相机传感器数据信息。RAW文件的结构，包括ISO标准的RAW图像格式ISO 12234-2 ，TIFF / EP，往往遵循一个共同的模式，那就是：\n\n一个短的文件头，它通常包含文件的字节顺序，文件标识符和主数据的文件偏移量摄像传感器元数据，用来描述图像传感器的数据，包括传感器的尺寸， 颜色滤波矩阵(color filter array)的属性和它的颜色配置文件\n\n列入任何CMS环境或数据库中需要的图像元数据。这些措施包括曝光设定，相机/扫描仪/镜头模型，拍摄/扫描日期（和可选的位置信息），创作信息和其他。一些原始文件包含可交换图像格式的标准化元数据节；\n\n图像缩略图；\n\n可选的JPEG格式缩小尺寸的图像，可用于快速预览；\n\n在电影胶片扫描中，无论是文件序列的时间码，序列码或帧编号都代表在扫描卷轴中的帧顺序。这个项目允许文件被被按帧顺序排列（不依赖于它的文件名​）；\n\n传感器图像数据；\n```\n\n### 常见的RAW格式\n```\n许多RAW格式, 包括 3FR (Hasselblad), DCR, K25, KDC (Kodak), IIQ (Phase One), CR2 (Canon), \nERF (Epson), MEF (Mamiya), MOS (Leaf), NEF (Nikon), ORF (Olympus), PEF (Pentax), \nRW2 (Panasonic) and ARW, SRF, SR2 (Sony), 都是基于TIFF格式。 这些文件可能在许多方面偏离TIFF标准，\n包括使用一个非标准的文件头，列入额外的图像标记和一些标签的数据加密。\n```\n\n### TIFF, TIFF/EP, DNG, RAW之间的关系\n```\nTIFF和DNG同为Specification，分别定义了后缀名为.tif/.tiff和.dng的文件格式同时在TIFF Specification也定义个baseline及部分扩展的tag。\n\nTIFF/EP则定义并规范了在电子影像中所使用的TAG。\n\nDNG同时与TIFF和TIFF/EP兼容，并包含了EXIF和XMP信息。DNG实际上就是扩张的TIFF， 把DNG的扩展名改成TIF就可以直接预览图片。\n\n在DNG出现以前，各个数码相机制造商都有自己的格式，比如Canon(cr2/crw), Nikon(nef), Olympus(orf), Pentex(pef)等等。之所以出现这么多格式，一方面的原因是在这之前没有统一的raw格式， 但更重要的是，各个厂商希望用这个只对自己公开的数据格式来保护自己的私密信息。Adobe推出DNG希望能一统raw的天下。\n```\n\n### 处理不同格式RAW或者DNG底片的方法\n&nbsp;&nbsp;&nbsp;&nbsp;为了能够得到RAW格式或者DNG格式的jpg图片供我们预览，可以使用DCRAW和ffmpeg来结合使用\n#### dcraw介绍\n```\nhttps://blog.csdn.net/bi_diu1368/article/details/80411304\n```\n```\n1,dcraw 下载   yum  install dcraw\n2.1,如果相机底片有缩略图，则直接可以通过  dcraw  -e   test.dng  获得其缩略图（注意，缩略图也有不存在的时候）\n\n2.2,如果没有缩略图，则可以先将RAW格式的转化为ppm   dcraw  -v  test.dng  获取其ppm的图片；\n然后在通过ffmpeg可以将 ppm格式的图片转码jpg  ffmpeg  -i  test.ppm out.jpg \n\n```","slug":"相机底片的解析","published":1,"updated":"2020-05-11T10:02:09.562Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnnv0023ggqgfud0o1ft","content":"<p>&nbsp;&nbsp;&nbsp;&nbsp;公司要求对相机原生格式如后缀为dng,CR2等的图片进行转码，然后预览，自己查找了一下资料，目前仅仅是用命令行来进行处理的，因为我们是linux端的服务，所以直接封装命令行比较的简单。</p>\n<h3 id=\"DNG数据格式的介绍\"><a href=\"#DNG数据格式的介绍\" class=\"headerlink\" title=\"DNG数据格式的介绍\"></a>DNG数据格式的介绍</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://www.cnblogs.com/adong7639/p/4446828.html</span><br><span class=\"line\">https://blog.csdn.net/wgx571859177/article/details/80755793?utm_source=blogxgwz1</span><br></pre></td></tr></table></figure>\n<h3 id=\"DNG格式基本的概念\"><a href=\"#DNG格式基本的概念\" class=\"headerlink\" title=\"DNG格式基本的概念\"></a>DNG格式基本的概念</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  DNG格式是在TIFF的基础上扩展出来的，要了解DNG，需要清楚TIFF,</span><br><span class=\"line\">TIFF/EP,DNG,RAW之间的关系。</span><br><span class=\"line\">  DNG（Digital Negative）是Adobe开发的一种开发的raw image file format ,</span><br><span class=\"line\">主要是为了统一不同厂商的raw格式。里面使用的tag基本上都定义在TIFF或者TIFF/EP 中，</span><br><span class=\"line\">在DNG Sepcification中只是定义或者建议了数据的组织方式，颜色空间的转换等等。</span><br></pre></td></tr></table></figure>\n<h3 id=\"TIFF-EP\"><a href=\"#TIFF-EP\" class=\"headerlink\" title=\"TIFF/EP\"></a>TIFF/EP</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TIFF是一个灵活适应性强的文件格式。通过在文件标头中使用&quot;标签&quot;，它能够在一个</span><br><span class=\"line\">文件中处理多幅图像和数据。标签能够标明图像的如图像大小这样的基本几何尺寸，</span><br><span class=\"line\">或者定义图像数据是如何排列的，或者是否使用了各种各样的图像压缩选项。</span><br><span class=\"line\"></span><br><span class=\"line\">TIFF/EP的全称是&quot;Tag Image File Format / Electronic Photography&quot;。 </span><br><span class=\"line\">它是一个名为&quot;Electronic still-picture imaging – Removable </span><br><span class=\"line\">memory – Part 2: TIFF/EP image data format&quot;ISO标准， 标准号为</span><br><span class=\"line\">ISO12234-2。TIFF/EP对TIFF文件扩展部分标记属性。</span><br></pre></td></tr></table></figure>\n<h3 id=\"RAW\"><a href=\"#RAW\" class=\"headerlink\" title=\"RAW\"></a>RAW</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RAW文件包含创建一个可视图像所必须的相机传感器数据信息。RAW文件的结构，包括ISO标准的RAW图像格式ISO 12234-2 ，TIFF / EP，往往遵循一个共同的模式，那就是：</span><br><span class=\"line\"></span><br><span class=\"line\">一个短的文件头，它通常包含文件的字节顺序，文件标识符和主数据的文件偏移量摄像传感器元数据，用来描述图像传感器的数据，包括传感器的尺寸， 颜色滤波矩阵(color filter array)的属性和它的颜色配置文件</span><br><span class=\"line\"></span><br><span class=\"line\">列入任何CMS环境或数据库中需要的图像元数据。这些措施包括曝光设定，相机/扫描仪/镜头模型，拍摄/扫描日期（和可选的位置信息），创作信息和其他。一些原始文件包含可交换图像格式的标准化元数据节；</span><br><span class=\"line\"></span><br><span class=\"line\">图像缩略图；</span><br><span class=\"line\"></span><br><span class=\"line\">可选的JPEG格式缩小尺寸的图像，可用于快速预览；</span><br><span class=\"line\"></span><br><span class=\"line\">在电影胶片扫描中，无论是文件序列的时间码，序列码或帧编号都代表在扫描卷轴中的帧顺序。这个项目允许文件被被按帧顺序排列（不依赖于它的文件名​）；</span><br><span class=\"line\"></span><br><span class=\"line\">传感器图像数据；</span><br></pre></td></tr></table></figure>\n<h3 id=\"常见的RAW格式\"><a href=\"#常见的RAW格式\" class=\"headerlink\" title=\"常见的RAW格式\"></a>常见的RAW格式</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">许多RAW格式, 包括 3FR (Hasselblad), DCR, K25, KDC (Kodak), IIQ (Phase One), CR2 (Canon), </span><br><span class=\"line\">ERF (Epson), MEF (Mamiya), MOS (Leaf), NEF (Nikon), ORF (Olympus), PEF (Pentax), </span><br><span class=\"line\">RW2 (Panasonic) and ARW, SRF, SR2 (Sony), 都是基于TIFF格式。 这些文件可能在许多方面偏离TIFF标准，</span><br><span class=\"line\">包括使用一个非标准的文件头，列入额外的图像标记和一些标签的数据加密。</span><br></pre></td></tr></table></figure>\n<h3 id=\"TIFF-TIFF-EP-DNG-RAW之间的关系\"><a href=\"#TIFF-TIFF-EP-DNG-RAW之间的关系\" class=\"headerlink\" title=\"TIFF, TIFF/EP, DNG, RAW之间的关系\"></a>TIFF, TIFF/EP, DNG, RAW之间的关系</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TIFF和DNG同为Specification，分别定义了后缀名为.tif/.tiff和.dng的文件格式同时在TIFF Specification也定义个baseline及部分扩展的tag。</span><br><span class=\"line\"></span><br><span class=\"line\">TIFF/EP则定义并规范了在电子影像中所使用的TAG。</span><br><span class=\"line\"></span><br><span class=\"line\">DNG同时与TIFF和TIFF/EP兼容，并包含了EXIF和XMP信息。DNG实际上就是扩张的TIFF， 把DNG的扩展名改成TIF就可以直接预览图片。</span><br><span class=\"line\"></span><br><span class=\"line\">在DNG出现以前，各个数码相机制造商都有自己的格式，比如Canon(cr2/crw), Nikon(nef), Olympus(orf), Pentex(pef)等等。之所以出现这么多格式，一方面的原因是在这之前没有统一的raw格式， 但更重要的是，各个厂商希望用这个只对自己公开的数据格式来保护自己的私密信息。Adobe推出DNG希望能一统raw的天下。</span><br></pre></td></tr></table></figure>\n<h3 id=\"处理不同格式RAW或者DNG底片的方法\"><a href=\"#处理不同格式RAW或者DNG底片的方法\" class=\"headerlink\" title=\"处理不同格式RAW或者DNG底片的方法\"></a>处理不同格式RAW或者DNG底片的方法</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;为了能够得到RAW格式或者DNG格式的jpg图片供我们预览，可以使用DCRAW和ffmpeg来结合使用</p>\n<h4 id=\"dcraw介绍\"><a href=\"#dcraw介绍\" class=\"headerlink\" title=\"dcraw介绍\"></a>dcraw介绍</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://blog.csdn.net/bi_diu1368/article/details/80411304</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1,dcraw 下载   yum  install dcraw</span><br><span class=\"line\">2.1,如果相机底片有缩略图，则直接可以通过  dcraw  -e   test.dng  获得其缩略图（注意，缩略图也有不存在的时候）</span><br><span class=\"line\"></span><br><span class=\"line\">2.2,如果没有缩略图，则可以先将RAW格式的转化为ppm   dcraw  -v  test.dng  获取其ppm的图片；</span><br><span class=\"line\">然后在通过ffmpeg可以将 ppm格式的图片转码jpg  ffmpeg  -i  test.ppm out.jpg</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p>&nbsp;&nbsp;&nbsp;&nbsp;公司要求对相机原生格式如后缀为dng,CR2等的图片进行转码，然后预览，自己查找了一下资料，目前仅仅是用命令行来进行处理的，因为我们是linux端的服务，所以直接封装命令行比较的简单。</p>\n<h3 id=\"DNG数据格式的介绍\"><a href=\"#DNG数据格式的介绍\" class=\"headerlink\" title=\"DNG数据格式的介绍\"></a>DNG数据格式的介绍</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">http://www.cnblogs.com/adong7639/p/4446828.html</span><br><span class=\"line\">https://blog.csdn.net/wgx571859177/article/details/80755793?utm_source=blogxgwz1</span><br></pre></td></tr></table></figure>\n<h3 id=\"DNG格式基本的概念\"><a href=\"#DNG格式基本的概念\" class=\"headerlink\" title=\"DNG格式基本的概念\"></a>DNG格式基本的概念</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  DNG格式是在TIFF的基础上扩展出来的，要了解DNG，需要清楚TIFF,</span><br><span class=\"line\">TIFF/EP,DNG,RAW之间的关系。</span><br><span class=\"line\">  DNG（Digital Negative）是Adobe开发的一种开发的raw image file format ,</span><br><span class=\"line\">主要是为了统一不同厂商的raw格式。里面使用的tag基本上都定义在TIFF或者TIFF/EP 中，</span><br><span class=\"line\">在DNG Sepcification中只是定义或者建议了数据的组织方式，颜色空间的转换等等。</span><br></pre></td></tr></table></figure>\n<h3 id=\"TIFF-EP\"><a href=\"#TIFF-EP\" class=\"headerlink\" title=\"TIFF/EP\"></a>TIFF/EP</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TIFF是一个灵活适应性强的文件格式。通过在文件标头中使用&quot;标签&quot;，它能够在一个</span><br><span class=\"line\">文件中处理多幅图像和数据。标签能够标明图像的如图像大小这样的基本几何尺寸，</span><br><span class=\"line\">或者定义图像数据是如何排列的，或者是否使用了各种各样的图像压缩选项。</span><br><span class=\"line\"></span><br><span class=\"line\">TIFF/EP的全称是&quot;Tag Image File Format / Electronic Photography&quot;。 </span><br><span class=\"line\">它是一个名为&quot;Electronic still-picture imaging – Removable </span><br><span class=\"line\">memory – Part 2: TIFF/EP image data format&quot;ISO标准， 标准号为</span><br><span class=\"line\">ISO12234-2。TIFF/EP对TIFF文件扩展部分标记属性。</span><br></pre></td></tr></table></figure>\n<h3 id=\"RAW\"><a href=\"#RAW\" class=\"headerlink\" title=\"RAW\"></a>RAW</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">RAW文件包含创建一个可视图像所必须的相机传感器数据信息。RAW文件的结构，包括ISO标准的RAW图像格式ISO 12234-2 ，TIFF / EP，往往遵循一个共同的模式，那就是：</span><br><span class=\"line\"></span><br><span class=\"line\">一个短的文件头，它通常包含文件的字节顺序，文件标识符和主数据的文件偏移量摄像传感器元数据，用来描述图像传感器的数据，包括传感器的尺寸， 颜色滤波矩阵(color filter array)的属性和它的颜色配置文件</span><br><span class=\"line\"></span><br><span class=\"line\">列入任何CMS环境或数据库中需要的图像元数据。这些措施包括曝光设定，相机/扫描仪/镜头模型，拍摄/扫描日期（和可选的位置信息），创作信息和其他。一些原始文件包含可交换图像格式的标准化元数据节；</span><br><span class=\"line\"></span><br><span class=\"line\">图像缩略图；</span><br><span class=\"line\"></span><br><span class=\"line\">可选的JPEG格式缩小尺寸的图像，可用于快速预览；</span><br><span class=\"line\"></span><br><span class=\"line\">在电影胶片扫描中，无论是文件序列的时间码，序列码或帧编号都代表在扫描卷轴中的帧顺序。这个项目允许文件被被按帧顺序排列（不依赖于它的文件名​）；</span><br><span class=\"line\"></span><br><span class=\"line\">传感器图像数据；</span><br></pre></td></tr></table></figure>\n<h3 id=\"常见的RAW格式\"><a href=\"#常见的RAW格式\" class=\"headerlink\" title=\"常见的RAW格式\"></a>常见的RAW格式</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">许多RAW格式, 包括 3FR (Hasselblad), DCR, K25, KDC (Kodak), IIQ (Phase One), CR2 (Canon), </span><br><span class=\"line\">ERF (Epson), MEF (Mamiya), MOS (Leaf), NEF (Nikon), ORF (Olympus), PEF (Pentax), </span><br><span class=\"line\">RW2 (Panasonic) and ARW, SRF, SR2 (Sony), 都是基于TIFF格式。 这些文件可能在许多方面偏离TIFF标准，</span><br><span class=\"line\">包括使用一个非标准的文件头，列入额外的图像标记和一些标签的数据加密。</span><br></pre></td></tr></table></figure>\n<h3 id=\"TIFF-TIFF-EP-DNG-RAW之间的关系\"><a href=\"#TIFF-TIFF-EP-DNG-RAW之间的关系\" class=\"headerlink\" title=\"TIFF, TIFF/EP, DNG, RAW之间的关系\"></a>TIFF, TIFF/EP, DNG, RAW之间的关系</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">TIFF和DNG同为Specification，分别定义了后缀名为.tif/.tiff和.dng的文件格式同时在TIFF Specification也定义个baseline及部分扩展的tag。</span><br><span class=\"line\"></span><br><span class=\"line\">TIFF/EP则定义并规范了在电子影像中所使用的TAG。</span><br><span class=\"line\"></span><br><span class=\"line\">DNG同时与TIFF和TIFF/EP兼容，并包含了EXIF和XMP信息。DNG实际上就是扩张的TIFF， 把DNG的扩展名改成TIF就可以直接预览图片。</span><br><span class=\"line\"></span><br><span class=\"line\">在DNG出现以前，各个数码相机制造商都有自己的格式，比如Canon(cr2/crw), Nikon(nef), Olympus(orf), Pentex(pef)等等。之所以出现这么多格式，一方面的原因是在这之前没有统一的raw格式， 但更重要的是，各个厂商希望用这个只对自己公开的数据格式来保护自己的私密信息。Adobe推出DNG希望能一统raw的天下。</span><br></pre></td></tr></table></figure>\n<h3 id=\"处理不同格式RAW或者DNG底片的方法\"><a href=\"#处理不同格式RAW或者DNG底片的方法\" class=\"headerlink\" title=\"处理不同格式RAW或者DNG底片的方法\"></a>处理不同格式RAW或者DNG底片的方法</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;为了能够得到RAW格式或者DNG格式的jpg图片供我们预览，可以使用DCRAW和ffmpeg来结合使用</p>\n<h4 id=\"dcraw介绍\"><a href=\"#dcraw介绍\" class=\"headerlink\" title=\"dcraw介绍\"></a>dcraw介绍</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://blog.csdn.net/bi_diu1368/article/details/80411304</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1,dcraw 下载   yum  install dcraw</span><br><span class=\"line\">2.1,如果相机底片有缩略图，则直接可以通过  dcraw  -e   test.dng  获得其缩略图（注意，缩略图也有不存在的时候）</span><br><span class=\"line\"></span><br><span class=\"line\">2.2,如果没有缩略图，则可以先将RAW格式的转化为ppm   dcraw  -v  test.dng  获取其ppm的图片；</span><br><span class=\"line\">然后在通过ffmpeg可以将 ppm格式的图片转码jpg  ffmpeg  -i  test.ppm out.jpg</span><br></pre></td></tr></table></figure>"},{"title":"系统io状态排查","abbrlink":4148759935,"date":"2019-04-28T06:36:56.000Z","_content":"\n&nbsp;&nbsp;&nbsp;&nbsp;这几天在排查自己写的转码服务性能上不去，转码特别慢，正常情况下，转码时CPU可以飙到很高，但是在问题机器上CPU只要50%左右，排查了好久，最终确定是某个其它服务io资源占用了太多，导致了我的转码服务io占用几乎没有，所以出现了问题，介绍几个io的工具，帮助以后查看系统的情况。\n\n### iostat\n&nbsp;&nbsp;&nbsp;&nbsp;iostat主要是用来查看系统的io使用情况，\n只记录自己使用的命令\n\n#### 下载\n```\nyum install sysstat\n```\n\n#### 使用\n```\niostat [-c ] [ -d ] [ -k ] [ -m ] [ -x ]\n```\n","source":"_posts/系统io状态排查.md","raw":"---\ntitle: 系统io状态排查\ncategories: centos7\ntags: tools\nabbrlink: 4148759935\ndate: 2019-04-28 14:36:56\n---\n\n&nbsp;&nbsp;&nbsp;&nbsp;这几天在排查自己写的转码服务性能上不去，转码特别慢，正常情况下，转码时CPU可以飙到很高，但是在问题机器上CPU只要50%左右，排查了好久，最终确定是某个其它服务io资源占用了太多，导致了我的转码服务io占用几乎没有，所以出现了问题，介绍几个io的工具，帮助以后查看系统的情况。\n\n### iostat\n&nbsp;&nbsp;&nbsp;&nbsp;iostat主要是用来查看系统的io使用情况，\n只记录自己使用的命令\n\n#### 下载\n```\nyum install sysstat\n```\n\n#### 使用\n```\niostat [-c ] [ -d ] [ -k ] [ -m ] [ -x ]\n```\n","slug":"系统io状态排查","published":1,"updated":"2020-05-11T10:02:09.563Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcnoq0024ggqg37cbd90j","content":"<p>&nbsp;&nbsp;&nbsp;&nbsp;这几天在排查自己写的转码服务性能上不去，转码特别慢，正常情况下，转码时CPU可以飙到很高，但是在问题机器上CPU只要50%左右，排查了好久，最终确定是某个其它服务io资源占用了太多，导致了我的转码服务io占用几乎没有，所以出现了问题，介绍几个io的工具，帮助以后查看系统的情况。</p>\n<h3 id=\"iostat\"><a href=\"#iostat\" class=\"headerlink\" title=\"iostat\"></a>iostat</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;iostat主要是用来查看系统的io使用情况，<br>只记录自己使用的命令</p>\n<h4 id=\"下载\"><a href=\"#下载\" class=\"headerlink\" title=\"下载\"></a>下载</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install sysstat</span><br></pre></td></tr></table></figure>\n<h4 id=\"使用\"><a href=\"#使用\" class=\"headerlink\" title=\"使用\"></a>使用</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">iostat [-c ] [ -d ] [ -k ] [ -m ] [ -x ]</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>&nbsp;&nbsp;&nbsp;&nbsp;这几天在排查自己写的转码服务性能上不去，转码特别慢，正常情况下，转码时CPU可以飙到很高，但是在问题机器上CPU只要50%左右，排查了好久，最终确定是某个其它服务io资源占用了太多，导致了我的转码服务io占用几乎没有，所以出现了问题，介绍几个io的工具，帮助以后查看系统的情况。</p>\n<h3 id=\"iostat\"><a href=\"#iostat\" class=\"headerlink\" title=\"iostat\"></a>iostat</h3><p>&nbsp;&nbsp;&nbsp;&nbsp;iostat主要是用来查看系统的io使用情况，<br>只记录自己使用的命令</p>\n<h4 id=\"下载\"><a href=\"#下载\" class=\"headerlink\" title=\"下载\"></a>下载</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install sysstat</span><br></pre></td></tr></table></figure>\n<h4 id=\"使用\"><a href=\"#使用\" class=\"headerlink\" title=\"使用\"></a>使用</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">iostat [-c ] [ -d ] [ -k ] [ -m ] [ -x ]</span><br></pre></td></tr></table></figure>\n"},{"title":"ffmpeg-源码编译支持GPU","abbrlink":2764140538,"date":"2020-01-14T11:09:01.000Z","_content":"\n> ​\t源码编译需要很多的库的支持，一种是基础的库，一种是你需要的编解码信息的库\n\n## 一，ffmpeg源码的下载\n\n~~~\n在git上找个你需要的版本的库，直接通过git下载\ngit clone https://github.com/FFmpeg/FFmpeg.git\n\nffmpeg 版本 ffmpeg version n4.1.1-3-g53f3f52\ncuda 版本 CUDA Version 10.0.130（这个版本自带驱动，可以不用安装驱动）\ndrive 驱动版本 Driver Version: 410.48 \nnv-codec-headers 版本 sdk/8.1\n~~~\n\n## 二，基础环境的准备\n\n~~~\nyum -y install autoconf automake freetype-devel gcc gcc-c++ git libtool make nasm pkgconfig zlib-devel bzip2 bzip2-devel\n~~~\n\n## 三，编码过程\n\n#### 1，设置环境路径\n\n> ​\t在  /etc/profile 文件中，设置 PKG_CONFIG_PATH  路径\n\n~~~\nvim /etc/profile\nexport PKG_CONFIG_PATH=/usr/local/lib64/pkgconfig:/usr/lib64/pkgconfig:/usr/local/lib/pkgconfig:/usr/lib/pkgconfig\n~~~\n\n#### 2，编码\n\n> ​\t配置好configure之后，通过make可以一步步试探你缺少的库是什么，然后在下载，编译\n>\n> 下载完之后，通过命令来配置你需要的东西\n> ./configure  --help\n\n~~~\nmake 编译的常用命令\n./configure\nmake -j 10 (编译，并行10个核来一起编译，可以取消)\nmake install (安装)\nmake disclean (卸载)\nmake clean (清除编译)\n~~~\n\n#### 3，解决gnutls的问题\n\n![gnutls](/images/gnutls.png)\n\n>我们需要手动的安装gnutls，gnutls3.5.19版本的可以，大于这个版本的有问题,\n>\n>http://www.linuxfromscratch.org/blfs/view/svn/postlfs/gnutls.html \n>\n>有安装的方法\n\n~~~\n1,安装gnutls需要先安装gnutls，所有先手动下载这个\nwget https://ftp.gnu.org/gnu/nettle/nettle-3.1.1.tar.gz\ntar zxf nettle-3.1.1.tar.gz  \n./configure --enable-shared\nmake\nmake install\n2,安装gnutls\nwget https://www.gnupg.org/ftp/gcrypt/gnutls/v3.5/gnutls-3.5.19.tar.xz\nxz  -d gnutls-3.5.19.tar.xz\ntar xf gnutls-3.5.19.tar\ncd gnutls-3.5.19\n./configure --enable-shared\nmake\nmake install\n~~~\n\n在安装gnutls时，我们使用./configure --enable-shared时，可能遇到以下的问题;\n\n* ![gmp](/images/gmp.png)\n\n  > 解决：\n  >\n  > yum install gmp-devel\n\n* ![libtasn1.png](/images/libtasn1.png)\n\n  > 解决：\n  >\n  > yum install libffi libffi-devel\n  >\n  > ./configure --enable-shared --with-included-libtasn1\n\n\n\n* ![unistring.png](/images/unistring.png)\n\n  > 解决：\n  >\n  > yum install libunistring-devel\n  >\n  > ./configure --enable-shared --with-included-libtasn1 --with-included-unistring\n\n* ![P11.png](/images/P11.png)\n\n  > 解决：\n  >\n  > yum install p11-kit-devel\n\n* ![dnssec.png](/images/dnssec.png)\n\n  > yum install unbound unbound-devel unbound-libs\n  >\n  > ./configure --enable-shared --with-included-libtasn1 --with-included-unistring\n\n  \n\n#### 4，解决ladspa.h的问题\n\n![ladspa.png](/images/ladspa.png)\n\n~~~\nyum install  ladspa*\n~~~\n\n#### 5，解决libass的问题\n\n![libass.png](/images/libass.png)\n\n~~~\nyum install libass*\n~~~\n\n#### 6，解决libdc1394-2的问题\n\n~~~\n1,官网下载源码\nhttps://sourceforge.net/projects/libdc1394/files/libdc1394-2/\n2，编译\n./configure\nmake\nmake install\n~~~\n\n#### 7，解决libgsm的问题\n\n![libgsm.png](/images/libgsm.png)\n\n~~~\nyum install gsm-tools gsm-devel\n~~~\n\n#### 8，解决libmp3lame版本的问题\n\n![libmp3lame.png](/images/libmp3lame.png)\n\n~~~\n源码安装，地址\ngit clone https://github.com/gypified/libmp3lame.git\n./configure\nmake\nmake install\n~~~\n\n#### 9，解决libopencore_amrnb的问题\n\n![libopencore_amrnb.png](/images/libopencore_amrnb.png)\n\n~~~\n官网下载源码，再手动编译\nhttps://sourceforge.net/projects/opencore-amr/files/opencore-amr/\n ./configure\n make\n make install\n~~~\n\n\n\n#### 10，解决opencv的问题\n\n#### 11，解决openh264的问题\n\n![openh264.png](/images/openh264.png)\n\n~~~\n从git上下载源码\ngit clone https://github.com/cisco/openh264\n如果下载失败，则直接下载zip包，然后解压安装\nmake ARCH=x86_64\nmake install\n~~~\n\n#### 12，解决libopenjp2版本的问题\n\n![libopenjp2.png](/images/libopenjp2.png)\n\n~~~\ngit下载源码来编译安装\ngit clone https://github.com/uclouvain/openjpeg.git\n如果下载不下来，则下载zip包解压安装 \nunzip openjpeg-master.zip\ncmake 安装\nmkdir build\ncd build\ncmake .. -DCMAKE_BUILD_TYPE=Release\nmake -j 10\nmake install\n~~~\n\n#### 13，解决opus的问题\n\n![opus.png](/images/opus.png)\n\n~~~\n#需要手动的下载安装\nhttps://ftp.osuosl.org/pub/xiph/releases/opus/\n#安装步骤\nwget http://downloads.xiph.org/releases/opus/opus-1.2.1.tar.gz\ntar -zxvf opus-1.2.1.tar.gz\ncd opus-1.2.1\n./configure\nmake\nmake install\n#注意：如果pkg_config没有找到，需要手动的设置路径，见前面PKG_CONFIG_PATH路径的设置，如果设置好之后，库也存在还是不行，则要检查是否使用yum下载了低版本的，若是则删除\nyum remove opus-1.0.2-6.el7.x86_64 opus-tools-0.1.6-1.el7.x86_64 opusfile-0.5-1.el7.x86_64 opus-devel-1.0.2-6.el7.x86_64 opusfile-devel-0.5-1.el7.x86_64\n~~~\n\n\n\n#### 14，解决libpulse的问题\n\n#### 15，解决libsoxr的问题\n\n![libsoxr.png](/images/libsoxr.png)\n\n~~~\n#手动下载包，然后编译安装\nhttps://sourceforge.net/projects/soxr/files/\ntar -xvf soxr-0.1.3-Source.tar\n./go\ncd Realse\nmake install\n~~~\n\n在执行go的时候可能遇到这个问题,则需要下载cmake高级版本\n\n![go.png](/images/go.png)\n\n~~~\n# cmake 安装\nhttps://cmake.org/download/\ntar -zxvf cmake-3.13.0-rc1.tar.gz\n./configure\nmake\nmake install\n~~~\n\n#### 16，解决speex的问题\n\n![speex.png](/images/speex.png)\n\n~~~\n##手动下载安装包，编译，选择 libspeex下载\nhttps://xiph.org/downloads/\n./configure  --enable-shared\nmake\nmake install\n~~~\n\n#### 17，解决libtheora的问题\n\n![libtheora.png](/images/libtheora.png)\n\n~~~\n## 手动下载安装包，编译，选择libtheora下载\nhttps://xiph.org/downloads/\nunzip libtheora-1.1.1.zip\n./configure\nmake\nmake install\n\n~~~\n\n在configure的过程中，可能error,则我们需要下载安装这个\n\n![ogg.png](/images/ogg.png)\n\n~~~\nyum install libogg*\n~~~\n\n#### 18，解决libv412的问题\n\n#### 19，解决vorbis的问题\n\n![vorbis.png](/images/vorbis.png)\n\n~~~\ngit clone https://github.com/xiph/vorbis.git\n./autogen.sh\n./configure  --enable-shared\nmake\nmake install\n~~~\n\n#### 20，解决libx264的问题\n\n![h264.png](/images/libx264.png)\n\n~~~\ngit clone --depth 1 http://git.videolan.org/git/x264\n./configure --enable-shared\nmake\nmake install\n~~~\n\n如果编译时报错，则需要安装nasm\n\n~~~\ncurl -O -L http://www.nasm.us/pub/nasm/releasebuilds/2.13.02/nasm-2.13.02.tar.bz2  \ntar -xjvf nasm-2.13.02.tar.bz2\ncd nasm-2.13.02\n./autogen.sh \n./configure  --enable-shared \nmake\nmake install\n\n~~~\n\n#### 21，解决libx265的问题\n\n![x265.png](/images/x265.png)\n\n~~~\ngit clone  --depth 1 https://github.com/videolan/x265.git\ncd x265\ncd build\ncmake ../source\nmake\nmake install\n~~~\n\n\n\n#### 22，解决libxvid的问题\n\n![libxvid.png](/images/libxvid.png)\n\n~~~\n##官网下载\nhttps://www.xvid.com/download/\n## 按下图过程来查找\n## 然后按照README来安装\ncd build/generic\n./configure\nmake -j 10\n\nmake install\n~~~\n\n![ xvid](/images/xvid.png)\n\n![readme.png](C:/Users/Administrator/Desktop/leopard4.1/images/readme.png)\n\n![bar.png](/images/bar.png)\n\n#### 23，解决openal的问题\n\n![openal.png](/images/openal.png)\n\n~~~\nyum install openal-soft openal-soft-devel\n~~~\n\n\n\n#### 24，解决libcdio的问题\n\n#### 25，解决bzlib的问题\n\n#### 26，解决libxcb的问题\n\n![libxcb.png](/images/libxcb.png)\n\n~~~\nyum install libxcb-devel\n~~~\n\n\n\n## 四，添加硬件编解码\n\n#### 1，查看机器上显卡的型号\n\n~~~\nlspci | grep VGA\n~~~\n\n![vga](/images/vga.png)\n\n#### 2，安装对应显卡的驱动\n\n~~~\nhttps://www.nvidia.com/Download/index.aspx?lang=en-us\n安装的方法见显卡驱动安装的文档\n~~~\n\n#### 3，重新编译ffmpeg\n\n~~~\n在./configure时添加以下的选项，来重新编译ffmpeg，既可以驱动显卡\n--enable-cuda-sdk \\\n--enable-cuvid \\\n--enable-nvenc \\\n--enable-nonfree \\\n--enable-libnpp \\\n--extra-cflags=-I/usr/local/cuda/include \\\n--extra-ldflags=-L/usr/local/cuda/lib64 \\\n~~~\n\n#### 4，查看是否安装成功\n\n~~~\n使用ffmpeg -hwaccels命令查看支持的硬件加速选项\nffmpeg -hwaccels\n~~~\n\n![hw.png](/images/hw.png)\n\n#### 5，查看cuvid提供的GPU编解码器\n\n~~~\nffmpeg -codecs | grep cuvid\n~~~\n\n![cuvid.png](/images/cuvid.png)\n\n#### 6，使用GPU进行转码\n\n> 用GPU进行转码的命令和软转码命令不太一样，CPU转码的时候，我们可以依赖ffmpeg识别输入视频的编码格式并选择对应的解码器，但ffmpeg只会自动选择CPU解码器，要让ffmpeg使用GPU解码器，必须先用ffprobe识别出输入视频的编码格式，然后在命令行中指定对应的GPU解码器。\n>\n> 例如，将h264编码的源视频转码为指定尺寸和码率的h264编码视频：\n\n~~~\nffmpeg  -hwaccel cuvid -c:v h264_cuvid -i video/video-H264-AAC.mkv -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y /root/transcode.mp4\n\n-hwaccel cuvid：指定使用cuvid硬件加速\n-c:v h264_cuvid：使用h264_cuvid进行视频解码\n-c:v h264_nvenc：使用h264_nvenc进行视频编码\n-vf scale_npp=1280:-1：指定输出视频的宽高，注意，这里和软解码时使用的-vf scale=x:x不一样\n转码期间使用nvidia-smi查看显卡状态，能够看到ffmpeg确实是在使用GPU进行转码：\n~~~\n\n如果在执行命令的时候报错，则需要,进行nv-codec-headers和驱动的版本匹配的处理\n\n![drive.png](/images/drive.png)\n\n我开始编译nv-codec-headers使用的是最新版本9.1的，编译出错，有两种方法，一种是升级drive的版本，升级到430以上，这个比较的麻烦，另一种是降低nv-codec-headers的版本，我降低到8.1版本，就可以成功\n\n~~~\nffmpeg 版本 ffmpeg version n4.1.1-3-g53f3f52\ncuda 版本 CUDA Version 10.0.130（这个版本自带驱动，可以不用安装驱动）\ndrive 驱动版本 Driver Version: 410.48 \nnv-codec-headers 版本 sdk/8.1\n~~~\n\n#### 7,在容器中使用NVIDIA\n\n~~~\n在将自己的服务打包成镜像的时候，开始没有设置环境变量，导致怎么都无法调用NVIDIA进行硬件的转码；\n最后查询了很多的资料，发现需要添加一个环境变量，在Dockfile中\nENV NVIDIA_DRIVER_CAPABILITIES video,compute,utility\n才能保证容器中使用成功\n~~~\n\n\n\n#### 8，gpu和cpu转码测试\n\n​\t对于同一个视频，分别采用cpu和GPU两种方式来进行转码，对比这两者之间的效率\n\n~~~\n#机器信息\n逻辑核：24\n内存：64G\n24  Intel(R) Xeon(R) CPU E5-2620 v2 @ 2.10GHz\n系统：CentOS Linux release 7.6.1810 (Core)\n#视频信息：\nname: 11.mkv\nsize： 1.1G\nVideo: h264 (High), yuv420p(progressive), 1280x720 [SAR 1:1 DAR 16:9], 25 fps, 25 tbr, 1k tbn, 50 tbc (default)\nAudio: ac3, 48000 Hz, stereo, fltp, 192 kb/s (default)\n#软件转码：\n[time] ffmpeg  -i video/11.mkv -c:v libx264 -b:v 2048k -vf scale=1280:-1 -y /root/transcode.mp4\n#结果\nreal\t11m18.807s\nuser\t180m16.290s\nsys\t\t1m36.925s\ncpu占用\t平均1600%\n[time] ./softhw /root/video/11.mkv /opt/nvitra1.mp4\nreal\t14m51.166s\nuser\t220m2.857s\nsys\t\t1m21.718s\ncpu占用  平均1600%\n#硬件转码：\n[time] ffmpeg  -hwaccel cuvid -c:v h264_cuvid -i video/11.mkv -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y /root/transcode.mp4\n#结果\nreal\t1m45.228s\nuser\t1m15.910s\nsys\t\t0m18.734s\ncpu占用\t平均90%\n[time] ./hw /root/video/11.mkv /opt/nvitra.mp4\nreal\t1m29.478s\nuser\t0m22.754s\nsys\t\t0m23.465s\ncpu占用 50%\n~~~\n\n#### 8，指定显卡进行转码\n\n~~~\nffmpeg -hwaccel cuvid -hwaccel_device 0 -c:v h264_cuvid -i <input> -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y <output>\n\nffmpeg -hwaccel cuvid -hwaccel_device 1 -c:v h264_cuvid -i <input> -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y <output>\n\nffmpeg -hwaccel cuvid -hwaccel_device 0 -c:v h264_cuvid -i /root/source_media/flv.flv -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1  -y /root/flv.mp4\n~~~\n\n\n\n\n\n\n\n","source":"_posts/ffmpeg-源码编译支持GPU.md","raw":"---\ntitle: ffmpeg-源码编译支持GPU\ncategories: ffmpeg\ntags:\n  - ffmpeg\n  - centos7\nabbrlink: 2764140538\ndate: 2020-01-14 19:09:01\n---\n\n> ​\t源码编译需要很多的库的支持，一种是基础的库，一种是你需要的编解码信息的库\n\n## 一，ffmpeg源码的下载\n\n~~~\n在git上找个你需要的版本的库，直接通过git下载\ngit clone https://github.com/FFmpeg/FFmpeg.git\n\nffmpeg 版本 ffmpeg version n4.1.1-3-g53f3f52\ncuda 版本 CUDA Version 10.0.130（这个版本自带驱动，可以不用安装驱动）\ndrive 驱动版本 Driver Version: 410.48 \nnv-codec-headers 版本 sdk/8.1\n~~~\n\n## 二，基础环境的准备\n\n~~~\nyum -y install autoconf automake freetype-devel gcc gcc-c++ git libtool make nasm pkgconfig zlib-devel bzip2 bzip2-devel\n~~~\n\n## 三，编码过程\n\n#### 1，设置环境路径\n\n> ​\t在  /etc/profile 文件中，设置 PKG_CONFIG_PATH  路径\n\n~~~\nvim /etc/profile\nexport PKG_CONFIG_PATH=/usr/local/lib64/pkgconfig:/usr/lib64/pkgconfig:/usr/local/lib/pkgconfig:/usr/lib/pkgconfig\n~~~\n\n#### 2，编码\n\n> ​\t配置好configure之后，通过make可以一步步试探你缺少的库是什么，然后在下载，编译\n>\n> 下载完之后，通过命令来配置你需要的东西\n> ./configure  --help\n\n~~~\nmake 编译的常用命令\n./configure\nmake -j 10 (编译，并行10个核来一起编译，可以取消)\nmake install (安装)\nmake disclean (卸载)\nmake clean (清除编译)\n~~~\n\n#### 3，解决gnutls的问题\n\n![gnutls](/images/gnutls.png)\n\n>我们需要手动的安装gnutls，gnutls3.5.19版本的可以，大于这个版本的有问题,\n>\n>http://www.linuxfromscratch.org/blfs/view/svn/postlfs/gnutls.html \n>\n>有安装的方法\n\n~~~\n1,安装gnutls需要先安装gnutls，所有先手动下载这个\nwget https://ftp.gnu.org/gnu/nettle/nettle-3.1.1.tar.gz\ntar zxf nettle-3.1.1.tar.gz  \n./configure --enable-shared\nmake\nmake install\n2,安装gnutls\nwget https://www.gnupg.org/ftp/gcrypt/gnutls/v3.5/gnutls-3.5.19.tar.xz\nxz  -d gnutls-3.5.19.tar.xz\ntar xf gnutls-3.5.19.tar\ncd gnutls-3.5.19\n./configure --enable-shared\nmake\nmake install\n~~~\n\n在安装gnutls时，我们使用./configure --enable-shared时，可能遇到以下的问题;\n\n* ![gmp](/images/gmp.png)\n\n  > 解决：\n  >\n  > yum install gmp-devel\n\n* ![libtasn1.png](/images/libtasn1.png)\n\n  > 解决：\n  >\n  > yum install libffi libffi-devel\n  >\n  > ./configure --enable-shared --with-included-libtasn1\n\n\n\n* ![unistring.png](/images/unistring.png)\n\n  > 解决：\n  >\n  > yum install libunistring-devel\n  >\n  > ./configure --enable-shared --with-included-libtasn1 --with-included-unistring\n\n* ![P11.png](/images/P11.png)\n\n  > 解决：\n  >\n  > yum install p11-kit-devel\n\n* ![dnssec.png](/images/dnssec.png)\n\n  > yum install unbound unbound-devel unbound-libs\n  >\n  > ./configure --enable-shared --with-included-libtasn1 --with-included-unistring\n\n  \n\n#### 4，解决ladspa.h的问题\n\n![ladspa.png](/images/ladspa.png)\n\n~~~\nyum install  ladspa*\n~~~\n\n#### 5，解决libass的问题\n\n![libass.png](/images/libass.png)\n\n~~~\nyum install libass*\n~~~\n\n#### 6，解决libdc1394-2的问题\n\n~~~\n1,官网下载源码\nhttps://sourceforge.net/projects/libdc1394/files/libdc1394-2/\n2，编译\n./configure\nmake\nmake install\n~~~\n\n#### 7，解决libgsm的问题\n\n![libgsm.png](/images/libgsm.png)\n\n~~~\nyum install gsm-tools gsm-devel\n~~~\n\n#### 8，解决libmp3lame版本的问题\n\n![libmp3lame.png](/images/libmp3lame.png)\n\n~~~\n源码安装，地址\ngit clone https://github.com/gypified/libmp3lame.git\n./configure\nmake\nmake install\n~~~\n\n#### 9，解决libopencore_amrnb的问题\n\n![libopencore_amrnb.png](/images/libopencore_amrnb.png)\n\n~~~\n官网下载源码，再手动编译\nhttps://sourceforge.net/projects/opencore-amr/files/opencore-amr/\n ./configure\n make\n make install\n~~~\n\n\n\n#### 10，解决opencv的问题\n\n#### 11，解决openh264的问题\n\n![openh264.png](/images/openh264.png)\n\n~~~\n从git上下载源码\ngit clone https://github.com/cisco/openh264\n如果下载失败，则直接下载zip包，然后解压安装\nmake ARCH=x86_64\nmake install\n~~~\n\n#### 12，解决libopenjp2版本的问题\n\n![libopenjp2.png](/images/libopenjp2.png)\n\n~~~\ngit下载源码来编译安装\ngit clone https://github.com/uclouvain/openjpeg.git\n如果下载不下来，则下载zip包解压安装 \nunzip openjpeg-master.zip\ncmake 安装\nmkdir build\ncd build\ncmake .. -DCMAKE_BUILD_TYPE=Release\nmake -j 10\nmake install\n~~~\n\n#### 13，解决opus的问题\n\n![opus.png](/images/opus.png)\n\n~~~\n#需要手动的下载安装\nhttps://ftp.osuosl.org/pub/xiph/releases/opus/\n#安装步骤\nwget http://downloads.xiph.org/releases/opus/opus-1.2.1.tar.gz\ntar -zxvf opus-1.2.1.tar.gz\ncd opus-1.2.1\n./configure\nmake\nmake install\n#注意：如果pkg_config没有找到，需要手动的设置路径，见前面PKG_CONFIG_PATH路径的设置，如果设置好之后，库也存在还是不行，则要检查是否使用yum下载了低版本的，若是则删除\nyum remove opus-1.0.2-6.el7.x86_64 opus-tools-0.1.6-1.el7.x86_64 opusfile-0.5-1.el7.x86_64 opus-devel-1.0.2-6.el7.x86_64 opusfile-devel-0.5-1.el7.x86_64\n~~~\n\n\n\n#### 14，解决libpulse的问题\n\n#### 15，解决libsoxr的问题\n\n![libsoxr.png](/images/libsoxr.png)\n\n~~~\n#手动下载包，然后编译安装\nhttps://sourceforge.net/projects/soxr/files/\ntar -xvf soxr-0.1.3-Source.tar\n./go\ncd Realse\nmake install\n~~~\n\n在执行go的时候可能遇到这个问题,则需要下载cmake高级版本\n\n![go.png](/images/go.png)\n\n~~~\n# cmake 安装\nhttps://cmake.org/download/\ntar -zxvf cmake-3.13.0-rc1.tar.gz\n./configure\nmake\nmake install\n~~~\n\n#### 16，解决speex的问题\n\n![speex.png](/images/speex.png)\n\n~~~\n##手动下载安装包，编译，选择 libspeex下载\nhttps://xiph.org/downloads/\n./configure  --enable-shared\nmake\nmake install\n~~~\n\n#### 17，解决libtheora的问题\n\n![libtheora.png](/images/libtheora.png)\n\n~~~\n## 手动下载安装包，编译，选择libtheora下载\nhttps://xiph.org/downloads/\nunzip libtheora-1.1.1.zip\n./configure\nmake\nmake install\n\n~~~\n\n在configure的过程中，可能error,则我们需要下载安装这个\n\n![ogg.png](/images/ogg.png)\n\n~~~\nyum install libogg*\n~~~\n\n#### 18，解决libv412的问题\n\n#### 19，解决vorbis的问题\n\n![vorbis.png](/images/vorbis.png)\n\n~~~\ngit clone https://github.com/xiph/vorbis.git\n./autogen.sh\n./configure  --enable-shared\nmake\nmake install\n~~~\n\n#### 20，解决libx264的问题\n\n![h264.png](/images/libx264.png)\n\n~~~\ngit clone --depth 1 http://git.videolan.org/git/x264\n./configure --enable-shared\nmake\nmake install\n~~~\n\n如果编译时报错，则需要安装nasm\n\n~~~\ncurl -O -L http://www.nasm.us/pub/nasm/releasebuilds/2.13.02/nasm-2.13.02.tar.bz2  \ntar -xjvf nasm-2.13.02.tar.bz2\ncd nasm-2.13.02\n./autogen.sh \n./configure  --enable-shared \nmake\nmake install\n\n~~~\n\n#### 21，解决libx265的问题\n\n![x265.png](/images/x265.png)\n\n~~~\ngit clone  --depth 1 https://github.com/videolan/x265.git\ncd x265\ncd build\ncmake ../source\nmake\nmake install\n~~~\n\n\n\n#### 22，解决libxvid的问题\n\n![libxvid.png](/images/libxvid.png)\n\n~~~\n##官网下载\nhttps://www.xvid.com/download/\n## 按下图过程来查找\n## 然后按照README来安装\ncd build/generic\n./configure\nmake -j 10\n\nmake install\n~~~\n\n![ xvid](/images/xvid.png)\n\n![readme.png](C:/Users/Administrator/Desktop/leopard4.1/images/readme.png)\n\n![bar.png](/images/bar.png)\n\n#### 23，解决openal的问题\n\n![openal.png](/images/openal.png)\n\n~~~\nyum install openal-soft openal-soft-devel\n~~~\n\n\n\n#### 24，解决libcdio的问题\n\n#### 25，解决bzlib的问题\n\n#### 26，解决libxcb的问题\n\n![libxcb.png](/images/libxcb.png)\n\n~~~\nyum install libxcb-devel\n~~~\n\n\n\n## 四，添加硬件编解码\n\n#### 1，查看机器上显卡的型号\n\n~~~\nlspci | grep VGA\n~~~\n\n![vga](/images/vga.png)\n\n#### 2，安装对应显卡的驱动\n\n~~~\nhttps://www.nvidia.com/Download/index.aspx?lang=en-us\n安装的方法见显卡驱动安装的文档\n~~~\n\n#### 3，重新编译ffmpeg\n\n~~~\n在./configure时添加以下的选项，来重新编译ffmpeg，既可以驱动显卡\n--enable-cuda-sdk \\\n--enable-cuvid \\\n--enable-nvenc \\\n--enable-nonfree \\\n--enable-libnpp \\\n--extra-cflags=-I/usr/local/cuda/include \\\n--extra-ldflags=-L/usr/local/cuda/lib64 \\\n~~~\n\n#### 4，查看是否安装成功\n\n~~~\n使用ffmpeg -hwaccels命令查看支持的硬件加速选项\nffmpeg -hwaccels\n~~~\n\n![hw.png](/images/hw.png)\n\n#### 5，查看cuvid提供的GPU编解码器\n\n~~~\nffmpeg -codecs | grep cuvid\n~~~\n\n![cuvid.png](/images/cuvid.png)\n\n#### 6，使用GPU进行转码\n\n> 用GPU进行转码的命令和软转码命令不太一样，CPU转码的时候，我们可以依赖ffmpeg识别输入视频的编码格式并选择对应的解码器，但ffmpeg只会自动选择CPU解码器，要让ffmpeg使用GPU解码器，必须先用ffprobe识别出输入视频的编码格式，然后在命令行中指定对应的GPU解码器。\n>\n> 例如，将h264编码的源视频转码为指定尺寸和码率的h264编码视频：\n\n~~~\nffmpeg  -hwaccel cuvid -c:v h264_cuvid -i video/video-H264-AAC.mkv -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y /root/transcode.mp4\n\n-hwaccel cuvid：指定使用cuvid硬件加速\n-c:v h264_cuvid：使用h264_cuvid进行视频解码\n-c:v h264_nvenc：使用h264_nvenc进行视频编码\n-vf scale_npp=1280:-1：指定输出视频的宽高，注意，这里和软解码时使用的-vf scale=x:x不一样\n转码期间使用nvidia-smi查看显卡状态，能够看到ffmpeg确实是在使用GPU进行转码：\n~~~\n\n如果在执行命令的时候报错，则需要,进行nv-codec-headers和驱动的版本匹配的处理\n\n![drive.png](/images/drive.png)\n\n我开始编译nv-codec-headers使用的是最新版本9.1的，编译出错，有两种方法，一种是升级drive的版本，升级到430以上，这个比较的麻烦，另一种是降低nv-codec-headers的版本，我降低到8.1版本，就可以成功\n\n~~~\nffmpeg 版本 ffmpeg version n4.1.1-3-g53f3f52\ncuda 版本 CUDA Version 10.0.130（这个版本自带驱动，可以不用安装驱动）\ndrive 驱动版本 Driver Version: 410.48 \nnv-codec-headers 版本 sdk/8.1\n~~~\n\n#### 7,在容器中使用NVIDIA\n\n~~~\n在将自己的服务打包成镜像的时候，开始没有设置环境变量，导致怎么都无法调用NVIDIA进行硬件的转码；\n最后查询了很多的资料，发现需要添加一个环境变量，在Dockfile中\nENV NVIDIA_DRIVER_CAPABILITIES video,compute,utility\n才能保证容器中使用成功\n~~~\n\n\n\n#### 8，gpu和cpu转码测试\n\n​\t对于同一个视频，分别采用cpu和GPU两种方式来进行转码，对比这两者之间的效率\n\n~~~\n#机器信息\n逻辑核：24\n内存：64G\n24  Intel(R) Xeon(R) CPU E5-2620 v2 @ 2.10GHz\n系统：CentOS Linux release 7.6.1810 (Core)\n#视频信息：\nname: 11.mkv\nsize： 1.1G\nVideo: h264 (High), yuv420p(progressive), 1280x720 [SAR 1:1 DAR 16:9], 25 fps, 25 tbr, 1k tbn, 50 tbc (default)\nAudio: ac3, 48000 Hz, stereo, fltp, 192 kb/s (default)\n#软件转码：\n[time] ffmpeg  -i video/11.mkv -c:v libx264 -b:v 2048k -vf scale=1280:-1 -y /root/transcode.mp4\n#结果\nreal\t11m18.807s\nuser\t180m16.290s\nsys\t\t1m36.925s\ncpu占用\t平均1600%\n[time] ./softhw /root/video/11.mkv /opt/nvitra1.mp4\nreal\t14m51.166s\nuser\t220m2.857s\nsys\t\t1m21.718s\ncpu占用  平均1600%\n#硬件转码：\n[time] ffmpeg  -hwaccel cuvid -c:v h264_cuvid -i video/11.mkv -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y /root/transcode.mp4\n#结果\nreal\t1m45.228s\nuser\t1m15.910s\nsys\t\t0m18.734s\ncpu占用\t平均90%\n[time] ./hw /root/video/11.mkv /opt/nvitra.mp4\nreal\t1m29.478s\nuser\t0m22.754s\nsys\t\t0m23.465s\ncpu占用 50%\n~~~\n\n#### 8，指定显卡进行转码\n\n~~~\nffmpeg -hwaccel cuvid -hwaccel_device 0 -c:v h264_cuvid -i <input> -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y <output>\n\nffmpeg -hwaccel cuvid -hwaccel_device 1 -c:v h264_cuvid -i <input> -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y <output>\n\nffmpeg -hwaccel cuvid -hwaccel_device 0 -c:v h264_cuvid -i /root/source_media/flv.flv -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1  -y /root/flv.mp4\n~~~\n\n\n\n\n\n\n\n","slug":"ffmpeg-源码编译支持GPU","published":1,"updated":"2020-05-11T10:02:09.557Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ckalvcntn004aggqg38hhe5ck","content":"<blockquote>\n<p>​    源码编译需要很多的库的支持，一种是基础的库，一种是你需要的编解码信息的库</p>\n</blockquote>\n<h2 id=\"一，ffmpeg源码的下载\"><a href=\"#一，ffmpeg源码的下载\" class=\"headerlink\" title=\"一，ffmpeg源码的下载\"></a>一，ffmpeg源码的下载</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在git上找个你需要的版本的库，直接通过git下载</span><br><span class=\"line\">git clone https://github.com/FFmpeg/FFmpeg.git</span><br><span class=\"line\"></span><br><span class=\"line\">ffmpeg 版本 ffmpeg version n4.1.1-3-g53f3f52</span><br><span class=\"line\">cuda 版本 CUDA Version 10.0.130（这个版本自带驱动，可以不用安装驱动）</span><br><span class=\"line\">drive 驱动版本 Driver Version: 410.48 </span><br><span class=\"line\">nv-codec-headers 版本 sdk/8.1</span><br></pre></td></tr></table></figure>\n<h2 id=\"二，基础环境的准备\"><a href=\"#二，基础环境的准备\" class=\"headerlink\" title=\"二，基础环境的准备\"></a>二，基础环境的准备</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install autoconf automake freetype-devel gcc gcc-c++ git libtool make nasm pkgconfig zlib-devel bzip2 bzip2-devel</span><br></pre></td></tr></table></figure>\n<h2 id=\"三，编码过程\"><a href=\"#三，编码过程\" class=\"headerlink\" title=\"三，编码过程\"></a>三，编码过程</h2><h4 id=\"1，设置环境路径\"><a href=\"#1，设置环境路径\" class=\"headerlink\" title=\"1，设置环境路径\"></a>1，设置环境路径</h4><blockquote>\n<p>​    在  /etc/profile 文件中，设置 PKG_CONFIG_PATH  路径</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/profile</span><br><span class=\"line\">export PKG_CONFIG_PATH=/usr/local/lib64/pkgconfig:/usr/lib64/pkgconfig:/usr/local/lib/pkgconfig:/usr/lib/pkgconfig</span><br></pre></td></tr></table></figure>\n<h4 id=\"2，编码\"><a href=\"#2，编码\" class=\"headerlink\" title=\"2，编码\"></a>2，编码</h4><blockquote>\n<p>​    配置好configure之后，通过make可以一步步试探你缺少的库是什么，然后在下载，编译</p>\n<p>下载完之后，通过命令来配置你需要的东西<br>./configure  –help</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make 编译的常用命令</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make -j 10 (编译，并行10个核来一起编译，可以取消)</span><br><span class=\"line\">make install (安装)</span><br><span class=\"line\">make disclean (卸载)</span><br><span class=\"line\">make clean (清除编译)</span><br></pre></td></tr></table></figure>\n<h4 id=\"3，解决gnutls的问题\"><a href=\"#3，解决gnutls的问题\" class=\"headerlink\" title=\"3，解决gnutls的问题\"></a>3，解决gnutls的问题</h4><p><img src=\"/images/gnutls.png\" alt=\"gnutls\"></p>\n<blockquote>\n<p>我们需要手动的安装gnutls，gnutls3.5.19版本的可以，大于这个版本的有问题,</p>\n<p><a href=\"http://www.linuxfromscratch.org/blfs/view/svn/postlfs/gnutls.html\" target=\"_blank\" rel=\"noopener\">http://www.linuxfromscratch.org/blfs/view/svn/postlfs/gnutls.html</a> </p>\n<p>有安装的方法</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1,安装gnutls需要先安装gnutls，所有先手动下载这个</span><br><span class=\"line\">wget https://ftp.gnu.org/gnu/nettle/nettle-3.1.1.tar.gz</span><br><span class=\"line\">tar zxf nettle-3.1.1.tar.gz  </span><br><span class=\"line\">./configure --enable-shared</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br><span class=\"line\">2,安装gnutls</span><br><span class=\"line\">wget https://www.gnupg.org/ftp/gcrypt/gnutls/v3.5/gnutls-3.5.19.tar.xz</span><br><span class=\"line\">xz  -d gnutls-3.5.19.tar.xz</span><br><span class=\"line\">tar xf gnutls-3.5.19.tar</span><br><span class=\"line\">cd gnutls-3.5.19</span><br><span class=\"line\">./configure --enable-shared</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<p>在安装gnutls时，我们使用./configure –enable-shared时，可能遇到以下的问题;</p>\n<ul>\n<li><p><img src=\"/images/gmp.png\" alt=\"gmp\"></p>\n<blockquote>\n<p>解决：</p>\n<p>yum install gmp-devel</p>\n</blockquote>\n</li>\n<li><p><img src=\"/images/libtasn1.png\" alt=\"libtasn1.png\"></p>\n<blockquote>\n<p>解决：</p>\n<p>yum install libffi libffi-devel</p>\n<p>./configure –enable-shared –with-included-libtasn1</p>\n</blockquote>\n</li>\n</ul>\n<ul>\n<li><p><img src=\"/images/unistring.png\" alt=\"unistring.png\"></p>\n<blockquote>\n<p>解决：</p>\n<p>yum install libunistring-devel</p>\n<p>./configure –enable-shared –with-included-libtasn1 –with-included-unistring</p>\n</blockquote>\n</li>\n<li><p><img src=\"/images/P11.png\" alt=\"P11.png\"></p>\n<blockquote>\n<p>解决：</p>\n<p>yum install p11-kit-devel</p>\n</blockquote>\n</li>\n<li><p><img src=\"/images/dnssec.png\" alt=\"dnssec.png\"></p>\n<blockquote>\n<p>yum install unbound unbound-devel unbound-libs</p>\n<p>./configure –enable-shared –with-included-libtasn1 –with-included-unistring</p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"4，解决ladspa-h的问题\"><a href=\"#4，解决ladspa-h的问题\" class=\"headerlink\" title=\"4，解决ladspa.h的问题\"></a>4，解决ladspa.h的问题</h4><p><img src=\"/images/ladspa.png\" alt=\"ladspa.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install  ladspa*</span><br></pre></td></tr></table></figure>\n<h4 id=\"5，解决libass的问题\"><a href=\"#5，解决libass的问题\" class=\"headerlink\" title=\"5，解决libass的问题\"></a>5，解决libass的问题</h4><p><img src=\"/images/libass.png\" alt=\"libass.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install libass*</span><br></pre></td></tr></table></figure>\n<h4 id=\"6，解决libdc1394-2的问题\"><a href=\"#6，解决libdc1394-2的问题\" class=\"headerlink\" title=\"6，解决libdc1394-2的问题\"></a>6，解决libdc1394-2的问题</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1,官网下载源码</span><br><span class=\"line\">https://sourceforge.net/projects/libdc1394/files/libdc1394-2/</span><br><span class=\"line\">2，编译</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"7，解决libgsm的问题\"><a href=\"#7，解决libgsm的问题\" class=\"headerlink\" title=\"7，解决libgsm的问题\"></a>7，解决libgsm的问题</h4><p><img src=\"/images/libgsm.png\" alt=\"libgsm.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install gsm-tools gsm-devel</span><br></pre></td></tr></table></figure>\n<h4 id=\"8，解决libmp3lame版本的问题\"><a href=\"#8，解决libmp3lame版本的问题\" class=\"headerlink\" title=\"8，解决libmp3lame版本的问题\"></a>8，解决libmp3lame版本的问题</h4><p><img src=\"/images/libmp3lame.png\" alt=\"libmp3lame.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">源码安装，地址</span><br><span class=\"line\">git clone https://github.com/gypified/libmp3lame.git</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"9，解决libopencore-amrnb的问题\"><a href=\"#9，解决libopencore-amrnb的问题\" class=\"headerlink\" title=\"9，解决libopencore_amrnb的问题\"></a>9，解决libopencore_amrnb的问题</h4><p><img src=\"/images/libopencore_amrnb.png\" alt=\"libopencore_amrnb.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">官网下载源码，再手动编译</span><br><span class=\"line\">https://sourceforge.net/projects/opencore-amr/files/opencore-amr/</span><br><span class=\"line\"> ./configure</span><br><span class=\"line\"> make</span><br><span class=\"line\"> make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"10，解决opencv的问题\"><a href=\"#10，解决opencv的问题\" class=\"headerlink\" title=\"10，解决opencv的问题\"></a>10，解决opencv的问题</h4><h4 id=\"11，解决openh264的问题\"><a href=\"#11，解决openh264的问题\" class=\"headerlink\" title=\"11，解决openh264的问题\"></a>11，解决openh264的问题</h4><p><img src=\"/images/openh264.png\" alt=\"openh264.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">从git上下载源码</span><br><span class=\"line\">git clone https://github.com/cisco/openh264</span><br><span class=\"line\">如果下载失败，则直接下载zip包，然后解压安装</span><br><span class=\"line\">make ARCH=x86_64</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"12，解决libopenjp2版本的问题\"><a href=\"#12，解决libopenjp2版本的问题\" class=\"headerlink\" title=\"12，解决libopenjp2版本的问题\"></a>12，解决libopenjp2版本的问题</h4><p><img src=\"/images/libopenjp2.png\" alt=\"libopenjp2.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git下载源码来编译安装</span><br><span class=\"line\">git clone https://github.com/uclouvain/openjpeg.git</span><br><span class=\"line\">如果下载不下来，则下载zip包解压安装 </span><br><span class=\"line\">unzip openjpeg-master.zip</span><br><span class=\"line\">cmake 安装</span><br><span class=\"line\">mkdir build</span><br><span class=\"line\">cd build</span><br><span class=\"line\">cmake .. -DCMAKE_BUILD_TYPE=Release</span><br><span class=\"line\">make -j 10</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"13，解决opus的问题\"><a href=\"#13，解决opus的问题\" class=\"headerlink\" title=\"13，解决opus的问题\"></a>13，解决opus的问题</h4><p><img src=\"/images/opus.png\" alt=\"opus.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#需要手动的下载安装</span><br><span class=\"line\">https://ftp.osuosl.org/pub/xiph/releases/opus/</span><br><span class=\"line\">#安装步骤</span><br><span class=\"line\">wget http://downloads.xiph.org/releases/opus/opus-1.2.1.tar.gz</span><br><span class=\"line\">tar -zxvf opus-1.2.1.tar.gz</span><br><span class=\"line\">cd opus-1.2.1</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br><span class=\"line\">#注意：如果pkg_config没有找到，需要手动的设置路径，见前面PKG_CONFIG_PATH路径的设置，如果设置好之后，库也存在还是不行，则要检查是否使用yum下载了低版本的，若是则删除</span><br><span class=\"line\">yum remove opus-1.0.2-6.el7.x86_64 opus-tools-0.1.6-1.el7.x86_64 opusfile-0.5-1.el7.x86_64 opus-devel-1.0.2-6.el7.x86_64 opusfile-devel-0.5-1.el7.x86_64</span><br></pre></td></tr></table></figure>\n<h4 id=\"14，解决libpulse的问题\"><a href=\"#14，解决libpulse的问题\" class=\"headerlink\" title=\"14，解决libpulse的问题\"></a>14，解决libpulse的问题</h4><h4 id=\"15，解决libsoxr的问题\"><a href=\"#15，解决libsoxr的问题\" class=\"headerlink\" title=\"15，解决libsoxr的问题\"></a>15，解决libsoxr的问题</h4><p><img src=\"/images/libsoxr.png\" alt=\"libsoxr.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#手动下载包，然后编译安装</span><br><span class=\"line\">https://sourceforge.net/projects/soxr/files/</span><br><span class=\"line\">tar -xvf soxr-0.1.3-Source.tar</span><br><span class=\"line\">./go</span><br><span class=\"line\">cd Realse</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<p>在执行go的时候可能遇到这个问题,则需要下载cmake高级版本</p>\n<p><img src=\"/images/go.png\" alt=\"go.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># cmake 安装</span><br><span class=\"line\">https://cmake.org/download/</span><br><span class=\"line\">tar -zxvf cmake-3.13.0-rc1.tar.gz</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"16，解决speex的问题\"><a href=\"#16，解决speex的问题\" class=\"headerlink\" title=\"16，解决speex的问题\"></a>16，解决speex的问题</h4><p><img src=\"/images/speex.png\" alt=\"speex.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">##手动下载安装包，编译，选择 libspeex下载</span><br><span class=\"line\">https://xiph.org/downloads/</span><br><span class=\"line\">./configure  --enable-shared</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"17，解决libtheora的问题\"><a href=\"#17，解决libtheora的问题\" class=\"headerlink\" title=\"17，解决libtheora的问题\"></a>17，解决libtheora的问题</h4><p><img src=\"/images/libtheora.png\" alt=\"libtheora.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## 手动下载安装包，编译，选择libtheora下载</span><br><span class=\"line\">https://xiph.org/downloads/</span><br><span class=\"line\">unzip libtheora-1.1.1.zip</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<p>在configure的过程中，可能error,则我们需要下载安装这个</p>\n<p><img src=\"/images/ogg.png\" alt=\"ogg.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install libogg*</span><br></pre></td></tr></table></figure>\n<h4 id=\"18，解决libv412的问题\"><a href=\"#18，解决libv412的问题\" class=\"headerlink\" title=\"18，解决libv412的问题\"></a>18，解决libv412的问题</h4><h4 id=\"19，解决vorbis的问题\"><a href=\"#19，解决vorbis的问题\" class=\"headerlink\" title=\"19，解决vorbis的问题\"></a>19，解决vorbis的问题</h4><p><img src=\"/images/vorbis.png\" alt=\"vorbis.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/xiph/vorbis.git</span><br><span class=\"line\">./autogen.sh</span><br><span class=\"line\">./configure  --enable-shared</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"20，解决libx264的问题\"><a href=\"#20，解决libx264的问题\" class=\"headerlink\" title=\"20，解决libx264的问题\"></a>20，解决libx264的问题</h4><p><img src=\"/images/libx264.png\" alt=\"h264.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone --depth 1 http://git.videolan.org/git/x264</span><br><span class=\"line\">./configure --enable-shared</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<p>如果编译时报错，则需要安装nasm</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -O -L http://www.nasm.us/pub/nasm/releasebuilds/2.13.02/nasm-2.13.02.tar.bz2  </span><br><span class=\"line\">tar -xjvf nasm-2.13.02.tar.bz2</span><br><span class=\"line\">cd nasm-2.13.02</span><br><span class=\"line\">./autogen.sh </span><br><span class=\"line\">./configure  --enable-shared </span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"21，解决libx265的问题\"><a href=\"#21，解决libx265的问题\" class=\"headerlink\" title=\"21，解决libx265的问题\"></a>21，解决libx265的问题</h4><p><img src=\"/images/x265.png\" alt=\"x265.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone  --depth 1 https://github.com/videolan/x265.git</span><br><span class=\"line\">cd x265</span><br><span class=\"line\">cd build</span><br><span class=\"line\">cmake ../source</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"22，解决libxvid的问题\"><a href=\"#22，解决libxvid的问题\" class=\"headerlink\" title=\"22，解决libxvid的问题\"></a>22，解决libxvid的问题</h4><p><img src=\"/images/libxvid.png\" alt=\"libxvid.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">##官网下载</span><br><span class=\"line\">https://www.xvid.com/download/</span><br><span class=\"line\">## 按下图过程来查找</span><br><span class=\"line\">## 然后按照README来安装</span><br><span class=\"line\">cd build/generic</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make -j 10</span><br><span class=\"line\"></span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/xvid.png\" alt=\" xvid\"></p>\n<p><img src=\"C:/Users/Administrator/Desktop/leopard4.1/images/readme.png\" alt=\"readme.png\"></p>\n<p><img src=\"/images/bar.png\" alt=\"bar.png\"></p>\n<h4 id=\"23，解决openal的问题\"><a href=\"#23，解决openal的问题\" class=\"headerlink\" title=\"23，解决openal的问题\"></a>23，解决openal的问题</h4><p><img src=\"/images/openal.png\" alt=\"openal.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install openal-soft openal-soft-devel</span><br></pre></td></tr></table></figure>\n<h4 id=\"24，解决libcdio的问题\"><a href=\"#24，解决libcdio的问题\" class=\"headerlink\" title=\"24，解决libcdio的问题\"></a>24，解决libcdio的问题</h4><h4 id=\"25，解决bzlib的问题\"><a href=\"#25，解决bzlib的问题\" class=\"headerlink\" title=\"25，解决bzlib的问题\"></a>25，解决bzlib的问题</h4><h4 id=\"26，解决libxcb的问题\"><a href=\"#26，解决libxcb的问题\" class=\"headerlink\" title=\"26，解决libxcb的问题\"></a>26，解决libxcb的问题</h4><p><img src=\"/images/libxcb.png\" alt=\"libxcb.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install libxcb-devel</span><br></pre></td></tr></table></figure>\n<h2 id=\"四，添加硬件编解码\"><a href=\"#四，添加硬件编解码\" class=\"headerlink\" title=\"四，添加硬件编解码\"></a>四，添加硬件编解码</h2><h4 id=\"1，查看机器上显卡的型号\"><a href=\"#1，查看机器上显卡的型号\" class=\"headerlink\" title=\"1，查看机器上显卡的型号\"></a>1，查看机器上显卡的型号</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lspci | grep VGA</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/vga.png\" alt=\"vga\"></p>\n<h4 id=\"2，安装对应显卡的驱动\"><a href=\"#2，安装对应显卡的驱动\" class=\"headerlink\" title=\"2，安装对应显卡的驱动\"></a>2，安装对应显卡的驱动</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://www.nvidia.com/Download/index.aspx?lang=en-us</span><br><span class=\"line\">安装的方法见显卡驱动安装的文档</span><br></pre></td></tr></table></figure>\n<h4 id=\"3，重新编译ffmpeg\"><a href=\"#3，重新编译ffmpeg\" class=\"headerlink\" title=\"3，重新编译ffmpeg\"></a>3，重新编译ffmpeg</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在./configure时添加以下的选项，来重新编译ffmpeg，既可以驱动显卡</span><br><span class=\"line\">--enable-cuda-sdk \\</span><br><span class=\"line\">--enable-cuvid \\</span><br><span class=\"line\">--enable-nvenc \\</span><br><span class=\"line\">--enable-nonfree \\</span><br><span class=\"line\">--enable-libnpp \\</span><br><span class=\"line\">--extra-cflags=-I/usr/local/cuda/include \\</span><br><span class=\"line\">--extra-ldflags=-L/usr/local/cuda/lib64 \\</span><br></pre></td></tr></table></figure>\n<h4 id=\"4，查看是否安装成功\"><a href=\"#4，查看是否安装成功\" class=\"headerlink\" title=\"4，查看是否安装成功\"></a>4，查看是否安装成功</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">使用ffmpeg -hwaccels命令查看支持的硬件加速选项</span><br><span class=\"line\">ffmpeg -hwaccels</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/hw.png\" alt=\"hw.png\"></p>\n<h4 id=\"5，查看cuvid提供的GPU编解码器\"><a href=\"#5，查看cuvid提供的GPU编解码器\" class=\"headerlink\" title=\"5，查看cuvid提供的GPU编解码器\"></a>5，查看cuvid提供的GPU编解码器</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffmpeg -codecs | grep cuvid</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/cuvid.png\" alt=\"cuvid.png\"></p>\n<h4 id=\"6，使用GPU进行转码\"><a href=\"#6，使用GPU进行转码\" class=\"headerlink\" title=\"6，使用GPU进行转码\"></a>6，使用GPU进行转码</h4><blockquote>\n<p>用GPU进行转码的命令和软转码命令不太一样，CPU转码的时候，我们可以依赖ffmpeg识别输入视频的编码格式并选择对应的解码器，但ffmpeg只会自动选择CPU解码器，要让ffmpeg使用GPU解码器，必须先用ffprobe识别出输入视频的编码格式，然后在命令行中指定对应的GPU解码器。</p>\n<p>例如，将h264编码的源视频转码为指定尺寸和码率的h264编码视频：</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffmpeg  -hwaccel cuvid -c:v h264_cuvid -i video/video-H264-AAC.mkv -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y /root/transcode.mp4</span><br><span class=\"line\"></span><br><span class=\"line\">-hwaccel cuvid：指定使用cuvid硬件加速</span><br><span class=\"line\">-c:v h264_cuvid：使用h264_cuvid进行视频解码</span><br><span class=\"line\">-c:v h264_nvenc：使用h264_nvenc进行视频编码</span><br><span class=\"line\">-vf scale_npp=1280:-1：指定输出视频的宽高，注意，这里和软解码时使用的-vf scale=x:x不一样</span><br><span class=\"line\">转码期间使用nvidia-smi查看显卡状态，能够看到ffmpeg确实是在使用GPU进行转码：</span><br></pre></td></tr></table></figure>\n<p>如果在执行命令的时候报错，则需要,进行nv-codec-headers和驱动的版本匹配的处理</p>\n<p><img src=\"/images/drive.png\" alt=\"drive.png\"></p>\n<p>我开始编译nv-codec-headers使用的是最新版本9.1的，编译出错，有两种方法，一种是升级drive的版本，升级到430以上，这个比较的麻烦，另一种是降低nv-codec-headers的版本，我降低到8.1版本，就可以成功</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffmpeg 版本 ffmpeg version n4.1.1-3-g53f3f52</span><br><span class=\"line\">cuda 版本 CUDA Version 10.0.130（这个版本自带驱动，可以不用安装驱动）</span><br><span class=\"line\">drive 驱动版本 Driver Version: 410.48 </span><br><span class=\"line\">nv-codec-headers 版本 sdk/8.1</span><br></pre></td></tr></table></figure>\n<h4 id=\"7-在容器中使用NVIDIA\"><a href=\"#7-在容器中使用NVIDIA\" class=\"headerlink\" title=\"7,在容器中使用NVIDIA\"></a>7,在容器中使用NVIDIA</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在将自己的服务打包成镜像的时候，开始没有设置环境变量，导致怎么都无法调用NVIDIA进行硬件的转码；</span><br><span class=\"line\">最后查询了很多的资料，发现需要添加一个环境变量，在Dockfile中</span><br><span class=\"line\">ENV NVIDIA_DRIVER_CAPABILITIES video,compute,utility</span><br><span class=\"line\">才能保证容器中使用成功</span><br></pre></td></tr></table></figure>\n<h4 id=\"8，gpu和cpu转码测试\"><a href=\"#8，gpu和cpu转码测试\" class=\"headerlink\" title=\"8，gpu和cpu转码测试\"></a>8，gpu和cpu转码测试</h4><p>​    对于同一个视频，分别采用cpu和GPU两种方式来进行转码，对比这两者之间的效率</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#机器信息</span><br><span class=\"line\">逻辑核：24</span><br><span class=\"line\">内存：64G</span><br><span class=\"line\">24  Intel(R) Xeon(R) CPU E5-2620 v2 @ 2.10GHz</span><br><span class=\"line\">系统：CentOS Linux release 7.6.1810 (Core)</span><br><span class=\"line\">#视频信息：</span><br><span class=\"line\">name: 11.mkv</span><br><span class=\"line\">size： 1.1G</span><br><span class=\"line\">Video: h264 (High), yuv420p(progressive), 1280x720 [SAR 1:1 DAR 16:9], 25 fps, 25 tbr, 1k tbn, 50 tbc (default)</span><br><span class=\"line\">Audio: ac3, 48000 Hz, stereo, fltp, 192 kb/s (default)</span><br><span class=\"line\">#软件转码：</span><br><span class=\"line\">[time] ffmpeg  -i video/11.mkv -c:v libx264 -b:v 2048k -vf scale=1280:-1 -y /root/transcode.mp4</span><br><span class=\"line\">#结果</span><br><span class=\"line\">real\t11m18.807s</span><br><span class=\"line\">user\t180m16.290s</span><br><span class=\"line\">sys\t\t1m36.925s</span><br><span class=\"line\">cpu占用\t平均1600%</span><br><span class=\"line\">[time] ./softhw /root/video/11.mkv /opt/nvitra1.mp4</span><br><span class=\"line\">real\t14m51.166s</span><br><span class=\"line\">user\t220m2.857s</span><br><span class=\"line\">sys\t\t1m21.718s</span><br><span class=\"line\">cpu占用  平均1600%</span><br><span class=\"line\">#硬件转码：</span><br><span class=\"line\">[time] ffmpeg  -hwaccel cuvid -c:v h264_cuvid -i video/11.mkv -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y /root/transcode.mp4</span><br><span class=\"line\">#结果</span><br><span class=\"line\">real\t1m45.228s</span><br><span class=\"line\">user\t1m15.910s</span><br><span class=\"line\">sys\t\t0m18.734s</span><br><span class=\"line\">cpu占用\t平均90%</span><br><span class=\"line\">[time] ./hw /root/video/11.mkv /opt/nvitra.mp4</span><br><span class=\"line\">real\t1m29.478s</span><br><span class=\"line\">user\t0m22.754s</span><br><span class=\"line\">sys\t\t0m23.465s</span><br><span class=\"line\">cpu占用 50%</span><br></pre></td></tr></table></figure>\n<h4 id=\"8，指定显卡进行转码\"><a href=\"#8，指定显卡进行转码\" class=\"headerlink\" title=\"8，指定显卡进行转码\"></a>8，指定显卡进行转码</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffmpeg -hwaccel cuvid -hwaccel_device 0 -c:v h264_cuvid -i &lt;input&gt; -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y &lt;output&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">ffmpeg -hwaccel cuvid -hwaccel_device 1 -c:v h264_cuvid -i &lt;input&gt; -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y &lt;output&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">ffmpeg -hwaccel cuvid -hwaccel_device 0 -c:v h264_cuvid -i /root/source_media/flv.flv -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1  -y /root/flv.mp4</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<blockquote>\n<p>​    源码编译需要很多的库的支持，一种是基础的库，一种是你需要的编解码信息的库</p>\n</blockquote>\n<h2 id=\"一，ffmpeg源码的下载\"><a href=\"#一，ffmpeg源码的下载\" class=\"headerlink\" title=\"一，ffmpeg源码的下载\"></a>一，ffmpeg源码的下载</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在git上找个你需要的版本的库，直接通过git下载</span><br><span class=\"line\">git clone https://github.com/FFmpeg/FFmpeg.git</span><br><span class=\"line\"></span><br><span class=\"line\">ffmpeg 版本 ffmpeg version n4.1.1-3-g53f3f52</span><br><span class=\"line\">cuda 版本 CUDA Version 10.0.130（这个版本自带驱动，可以不用安装驱动）</span><br><span class=\"line\">drive 驱动版本 Driver Version: 410.48 </span><br><span class=\"line\">nv-codec-headers 版本 sdk/8.1</span><br></pre></td></tr></table></figure>\n<h2 id=\"二，基础环境的准备\"><a href=\"#二，基础环境的准备\" class=\"headerlink\" title=\"二，基础环境的准备\"></a>二，基础环境的准备</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum -y install autoconf automake freetype-devel gcc gcc-c++ git libtool make nasm pkgconfig zlib-devel bzip2 bzip2-devel</span><br></pre></td></tr></table></figure>\n<h2 id=\"三，编码过程\"><a href=\"#三，编码过程\" class=\"headerlink\" title=\"三，编码过程\"></a>三，编码过程</h2><h4 id=\"1，设置环境路径\"><a href=\"#1，设置环境路径\" class=\"headerlink\" title=\"1，设置环境路径\"></a>1，设置环境路径</h4><blockquote>\n<p>​    在  /etc/profile 文件中，设置 PKG_CONFIG_PATH  路径</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vim /etc/profile</span><br><span class=\"line\">export PKG_CONFIG_PATH=/usr/local/lib64/pkgconfig:/usr/lib64/pkgconfig:/usr/local/lib/pkgconfig:/usr/lib/pkgconfig</span><br></pre></td></tr></table></figure>\n<h4 id=\"2，编码\"><a href=\"#2，编码\" class=\"headerlink\" title=\"2，编码\"></a>2，编码</h4><blockquote>\n<p>​    配置好configure之后，通过make可以一步步试探你缺少的库是什么，然后在下载，编译</p>\n<p>下载完之后，通过命令来配置你需要的东西<br>./configure  –help</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make 编译的常用命令</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make -j 10 (编译，并行10个核来一起编译，可以取消)</span><br><span class=\"line\">make install (安装)</span><br><span class=\"line\">make disclean (卸载)</span><br><span class=\"line\">make clean (清除编译)</span><br></pre></td></tr></table></figure>\n<h4 id=\"3，解决gnutls的问题\"><a href=\"#3，解决gnutls的问题\" class=\"headerlink\" title=\"3，解决gnutls的问题\"></a>3，解决gnutls的问题</h4><p><img src=\"/images/gnutls.png\" alt=\"gnutls\"></p>\n<blockquote>\n<p>我们需要手动的安装gnutls，gnutls3.5.19版本的可以，大于这个版本的有问题,</p>\n<p><a href=\"http://www.linuxfromscratch.org/blfs/view/svn/postlfs/gnutls.html\" target=\"_blank\" rel=\"noopener\">http://www.linuxfromscratch.org/blfs/view/svn/postlfs/gnutls.html</a> </p>\n<p>有安装的方法</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1,安装gnutls需要先安装gnutls，所有先手动下载这个</span><br><span class=\"line\">wget https://ftp.gnu.org/gnu/nettle/nettle-3.1.1.tar.gz</span><br><span class=\"line\">tar zxf nettle-3.1.1.tar.gz  </span><br><span class=\"line\">./configure --enable-shared</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br><span class=\"line\">2,安装gnutls</span><br><span class=\"line\">wget https://www.gnupg.org/ftp/gcrypt/gnutls/v3.5/gnutls-3.5.19.tar.xz</span><br><span class=\"line\">xz  -d gnutls-3.5.19.tar.xz</span><br><span class=\"line\">tar xf gnutls-3.5.19.tar</span><br><span class=\"line\">cd gnutls-3.5.19</span><br><span class=\"line\">./configure --enable-shared</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<p>在安装gnutls时，我们使用./configure –enable-shared时，可能遇到以下的问题;</p>\n<ul>\n<li><p><img src=\"/images/gmp.png\" alt=\"gmp\"></p>\n<blockquote>\n<p>解决：</p>\n<p>yum install gmp-devel</p>\n</blockquote>\n</li>\n<li><p><img src=\"/images/libtasn1.png\" alt=\"libtasn1.png\"></p>\n<blockquote>\n<p>解决：</p>\n<p>yum install libffi libffi-devel</p>\n<p>./configure –enable-shared –with-included-libtasn1</p>\n</blockquote>\n</li>\n</ul>\n<ul>\n<li><p><img src=\"/images/unistring.png\" alt=\"unistring.png\"></p>\n<blockquote>\n<p>解决：</p>\n<p>yum install libunistring-devel</p>\n<p>./configure –enable-shared –with-included-libtasn1 –with-included-unistring</p>\n</blockquote>\n</li>\n<li><p><img src=\"/images/P11.png\" alt=\"P11.png\"></p>\n<blockquote>\n<p>解决：</p>\n<p>yum install p11-kit-devel</p>\n</blockquote>\n</li>\n<li><p><img src=\"/images/dnssec.png\" alt=\"dnssec.png\"></p>\n<blockquote>\n<p>yum install unbound unbound-devel unbound-libs</p>\n<p>./configure –enable-shared –with-included-libtasn1 –with-included-unistring</p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"4，解决ladspa-h的问题\"><a href=\"#4，解决ladspa-h的问题\" class=\"headerlink\" title=\"4，解决ladspa.h的问题\"></a>4，解决ladspa.h的问题</h4><p><img src=\"/images/ladspa.png\" alt=\"ladspa.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install  ladspa*</span><br></pre></td></tr></table></figure>\n<h4 id=\"5，解决libass的问题\"><a href=\"#5，解决libass的问题\" class=\"headerlink\" title=\"5，解决libass的问题\"></a>5，解决libass的问题</h4><p><img src=\"/images/libass.png\" alt=\"libass.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install libass*</span><br></pre></td></tr></table></figure>\n<h4 id=\"6，解决libdc1394-2的问题\"><a href=\"#6，解决libdc1394-2的问题\" class=\"headerlink\" title=\"6，解决libdc1394-2的问题\"></a>6，解决libdc1394-2的问题</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1,官网下载源码</span><br><span class=\"line\">https://sourceforge.net/projects/libdc1394/files/libdc1394-2/</span><br><span class=\"line\">2，编译</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"7，解决libgsm的问题\"><a href=\"#7，解决libgsm的问题\" class=\"headerlink\" title=\"7，解决libgsm的问题\"></a>7，解决libgsm的问题</h4><p><img src=\"/images/libgsm.png\" alt=\"libgsm.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install gsm-tools gsm-devel</span><br></pre></td></tr></table></figure>\n<h4 id=\"8，解决libmp3lame版本的问题\"><a href=\"#8，解决libmp3lame版本的问题\" class=\"headerlink\" title=\"8，解决libmp3lame版本的问题\"></a>8，解决libmp3lame版本的问题</h4><p><img src=\"/images/libmp3lame.png\" alt=\"libmp3lame.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">源码安装，地址</span><br><span class=\"line\">git clone https://github.com/gypified/libmp3lame.git</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"9，解决libopencore-amrnb的问题\"><a href=\"#9，解决libopencore-amrnb的问题\" class=\"headerlink\" title=\"9，解决libopencore_amrnb的问题\"></a>9，解决libopencore_amrnb的问题</h4><p><img src=\"/images/libopencore_amrnb.png\" alt=\"libopencore_amrnb.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">官网下载源码，再手动编译</span><br><span class=\"line\">https://sourceforge.net/projects/opencore-amr/files/opencore-amr/</span><br><span class=\"line\"> ./configure</span><br><span class=\"line\"> make</span><br><span class=\"line\"> make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"10，解决opencv的问题\"><a href=\"#10，解决opencv的问题\" class=\"headerlink\" title=\"10，解决opencv的问题\"></a>10，解决opencv的问题</h4><h4 id=\"11，解决openh264的问题\"><a href=\"#11，解决openh264的问题\" class=\"headerlink\" title=\"11，解决openh264的问题\"></a>11，解决openh264的问题</h4><p><img src=\"/images/openh264.png\" alt=\"openh264.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">从git上下载源码</span><br><span class=\"line\">git clone https://github.com/cisco/openh264</span><br><span class=\"line\">如果下载失败，则直接下载zip包，然后解压安装</span><br><span class=\"line\">make ARCH=x86_64</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"12，解决libopenjp2版本的问题\"><a href=\"#12，解决libopenjp2版本的问题\" class=\"headerlink\" title=\"12，解决libopenjp2版本的问题\"></a>12，解决libopenjp2版本的问题</h4><p><img src=\"/images/libopenjp2.png\" alt=\"libopenjp2.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git下载源码来编译安装</span><br><span class=\"line\">git clone https://github.com/uclouvain/openjpeg.git</span><br><span class=\"line\">如果下载不下来，则下载zip包解压安装 </span><br><span class=\"line\">unzip openjpeg-master.zip</span><br><span class=\"line\">cmake 安装</span><br><span class=\"line\">mkdir build</span><br><span class=\"line\">cd build</span><br><span class=\"line\">cmake .. -DCMAKE_BUILD_TYPE=Release</span><br><span class=\"line\">make -j 10</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"13，解决opus的问题\"><a href=\"#13，解决opus的问题\" class=\"headerlink\" title=\"13，解决opus的问题\"></a>13，解决opus的问题</h4><p><img src=\"/images/opus.png\" alt=\"opus.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#需要手动的下载安装</span><br><span class=\"line\">https://ftp.osuosl.org/pub/xiph/releases/opus/</span><br><span class=\"line\">#安装步骤</span><br><span class=\"line\">wget http://downloads.xiph.org/releases/opus/opus-1.2.1.tar.gz</span><br><span class=\"line\">tar -zxvf opus-1.2.1.tar.gz</span><br><span class=\"line\">cd opus-1.2.1</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br><span class=\"line\">#注意：如果pkg_config没有找到，需要手动的设置路径，见前面PKG_CONFIG_PATH路径的设置，如果设置好之后，库也存在还是不行，则要检查是否使用yum下载了低版本的，若是则删除</span><br><span class=\"line\">yum remove opus-1.0.2-6.el7.x86_64 opus-tools-0.1.6-1.el7.x86_64 opusfile-0.5-1.el7.x86_64 opus-devel-1.0.2-6.el7.x86_64 opusfile-devel-0.5-1.el7.x86_64</span><br></pre></td></tr></table></figure>\n<h4 id=\"14，解决libpulse的问题\"><a href=\"#14，解决libpulse的问题\" class=\"headerlink\" title=\"14，解决libpulse的问题\"></a>14，解决libpulse的问题</h4><h4 id=\"15，解决libsoxr的问题\"><a href=\"#15，解决libsoxr的问题\" class=\"headerlink\" title=\"15，解决libsoxr的问题\"></a>15，解决libsoxr的问题</h4><p><img src=\"/images/libsoxr.png\" alt=\"libsoxr.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#手动下载包，然后编译安装</span><br><span class=\"line\">https://sourceforge.net/projects/soxr/files/</span><br><span class=\"line\">tar -xvf soxr-0.1.3-Source.tar</span><br><span class=\"line\">./go</span><br><span class=\"line\">cd Realse</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<p>在执行go的时候可能遇到这个问题,则需要下载cmake高级版本</p>\n<p><img src=\"/images/go.png\" alt=\"go.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># cmake 安装</span><br><span class=\"line\">https://cmake.org/download/</span><br><span class=\"line\">tar -zxvf cmake-3.13.0-rc1.tar.gz</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"16，解决speex的问题\"><a href=\"#16，解决speex的问题\" class=\"headerlink\" title=\"16，解决speex的问题\"></a>16，解决speex的问题</h4><p><img src=\"/images/speex.png\" alt=\"speex.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">##手动下载安装包，编译，选择 libspeex下载</span><br><span class=\"line\">https://xiph.org/downloads/</span><br><span class=\"line\">./configure  --enable-shared</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"17，解决libtheora的问题\"><a href=\"#17，解决libtheora的问题\" class=\"headerlink\" title=\"17，解决libtheora的问题\"></a>17，解决libtheora的问题</h4><p><img src=\"/images/libtheora.png\" alt=\"libtheora.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">## 手动下载安装包，编译，选择libtheora下载</span><br><span class=\"line\">https://xiph.org/downloads/</span><br><span class=\"line\">unzip libtheora-1.1.1.zip</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<p>在configure的过程中，可能error,则我们需要下载安装这个</p>\n<p><img src=\"/images/ogg.png\" alt=\"ogg.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install libogg*</span><br></pre></td></tr></table></figure>\n<h4 id=\"18，解决libv412的问题\"><a href=\"#18，解决libv412的问题\" class=\"headerlink\" title=\"18，解决libv412的问题\"></a>18，解决libv412的问题</h4><h4 id=\"19，解决vorbis的问题\"><a href=\"#19，解决vorbis的问题\" class=\"headerlink\" title=\"19，解决vorbis的问题\"></a>19，解决vorbis的问题</h4><p><img src=\"/images/vorbis.png\" alt=\"vorbis.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/xiph/vorbis.git</span><br><span class=\"line\">./autogen.sh</span><br><span class=\"line\">./configure  --enable-shared</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"20，解决libx264的问题\"><a href=\"#20，解决libx264的问题\" class=\"headerlink\" title=\"20，解决libx264的问题\"></a>20，解决libx264的问题</h4><p><img src=\"/images/libx264.png\" alt=\"h264.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone --depth 1 http://git.videolan.org/git/x264</span><br><span class=\"line\">./configure --enable-shared</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<p>如果编译时报错，则需要安装nasm</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -O -L http://www.nasm.us/pub/nasm/releasebuilds/2.13.02/nasm-2.13.02.tar.bz2  </span><br><span class=\"line\">tar -xjvf nasm-2.13.02.tar.bz2</span><br><span class=\"line\">cd nasm-2.13.02</span><br><span class=\"line\">./autogen.sh </span><br><span class=\"line\">./configure  --enable-shared </span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"21，解决libx265的问题\"><a href=\"#21，解决libx265的问题\" class=\"headerlink\" title=\"21，解决libx265的问题\"></a>21，解决libx265的问题</h4><p><img src=\"/images/x265.png\" alt=\"x265.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone  --depth 1 https://github.com/videolan/x265.git</span><br><span class=\"line\">cd x265</span><br><span class=\"line\">cd build</span><br><span class=\"line\">cmake ../source</span><br><span class=\"line\">make</span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<h4 id=\"22，解决libxvid的问题\"><a href=\"#22，解决libxvid的问题\" class=\"headerlink\" title=\"22，解决libxvid的问题\"></a>22，解决libxvid的问题</h4><p><img src=\"/images/libxvid.png\" alt=\"libxvid.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">##官网下载</span><br><span class=\"line\">https://www.xvid.com/download/</span><br><span class=\"line\">## 按下图过程来查找</span><br><span class=\"line\">## 然后按照README来安装</span><br><span class=\"line\">cd build/generic</span><br><span class=\"line\">./configure</span><br><span class=\"line\">make -j 10</span><br><span class=\"line\"></span><br><span class=\"line\">make install</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/xvid.png\" alt=\" xvid\"></p>\n<p><img src=\"C:/Users/Administrator/Desktop/leopard4.1/images/readme.png\" alt=\"readme.png\"></p>\n<p><img src=\"/images/bar.png\" alt=\"bar.png\"></p>\n<h4 id=\"23，解决openal的问题\"><a href=\"#23，解决openal的问题\" class=\"headerlink\" title=\"23，解决openal的问题\"></a>23，解决openal的问题</h4><p><img src=\"/images/openal.png\" alt=\"openal.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install openal-soft openal-soft-devel</span><br></pre></td></tr></table></figure>\n<h4 id=\"24，解决libcdio的问题\"><a href=\"#24，解决libcdio的问题\" class=\"headerlink\" title=\"24，解决libcdio的问题\"></a>24，解决libcdio的问题</h4><h4 id=\"25，解决bzlib的问题\"><a href=\"#25，解决bzlib的问题\" class=\"headerlink\" title=\"25，解决bzlib的问题\"></a>25，解决bzlib的问题</h4><h4 id=\"26，解决libxcb的问题\"><a href=\"#26，解决libxcb的问题\" class=\"headerlink\" title=\"26，解决libxcb的问题\"></a>26，解决libxcb的问题</h4><p><img src=\"/images/libxcb.png\" alt=\"libxcb.png\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install libxcb-devel</span><br></pre></td></tr></table></figure>\n<h2 id=\"四，添加硬件编解码\"><a href=\"#四，添加硬件编解码\" class=\"headerlink\" title=\"四，添加硬件编解码\"></a>四，添加硬件编解码</h2><h4 id=\"1，查看机器上显卡的型号\"><a href=\"#1，查看机器上显卡的型号\" class=\"headerlink\" title=\"1，查看机器上显卡的型号\"></a>1，查看机器上显卡的型号</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lspci | grep VGA</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/vga.png\" alt=\"vga\"></p>\n<h4 id=\"2，安装对应显卡的驱动\"><a href=\"#2，安装对应显卡的驱动\" class=\"headerlink\" title=\"2，安装对应显卡的驱动\"></a>2，安装对应显卡的驱动</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">https://www.nvidia.com/Download/index.aspx?lang=en-us</span><br><span class=\"line\">安装的方法见显卡驱动安装的文档</span><br></pre></td></tr></table></figure>\n<h4 id=\"3，重新编译ffmpeg\"><a href=\"#3，重新编译ffmpeg\" class=\"headerlink\" title=\"3，重新编译ffmpeg\"></a>3，重新编译ffmpeg</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在./configure时添加以下的选项，来重新编译ffmpeg，既可以驱动显卡</span><br><span class=\"line\">--enable-cuda-sdk \\</span><br><span class=\"line\">--enable-cuvid \\</span><br><span class=\"line\">--enable-nvenc \\</span><br><span class=\"line\">--enable-nonfree \\</span><br><span class=\"line\">--enable-libnpp \\</span><br><span class=\"line\">--extra-cflags=-I/usr/local/cuda/include \\</span><br><span class=\"line\">--extra-ldflags=-L/usr/local/cuda/lib64 \\</span><br></pre></td></tr></table></figure>\n<h4 id=\"4，查看是否安装成功\"><a href=\"#4，查看是否安装成功\" class=\"headerlink\" title=\"4，查看是否安装成功\"></a>4，查看是否安装成功</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">使用ffmpeg -hwaccels命令查看支持的硬件加速选项</span><br><span class=\"line\">ffmpeg -hwaccels</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/hw.png\" alt=\"hw.png\"></p>\n<h4 id=\"5，查看cuvid提供的GPU编解码器\"><a href=\"#5，查看cuvid提供的GPU编解码器\" class=\"headerlink\" title=\"5，查看cuvid提供的GPU编解码器\"></a>5，查看cuvid提供的GPU编解码器</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffmpeg -codecs | grep cuvid</span><br></pre></td></tr></table></figure>\n<p><img src=\"/images/cuvid.png\" alt=\"cuvid.png\"></p>\n<h4 id=\"6，使用GPU进行转码\"><a href=\"#6，使用GPU进行转码\" class=\"headerlink\" title=\"6，使用GPU进行转码\"></a>6，使用GPU进行转码</h4><blockquote>\n<p>用GPU进行转码的命令和软转码命令不太一样，CPU转码的时候，我们可以依赖ffmpeg识别输入视频的编码格式并选择对应的解码器，但ffmpeg只会自动选择CPU解码器，要让ffmpeg使用GPU解码器，必须先用ffprobe识别出输入视频的编码格式，然后在命令行中指定对应的GPU解码器。</p>\n<p>例如，将h264编码的源视频转码为指定尺寸和码率的h264编码视频：</p>\n</blockquote>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffmpeg  -hwaccel cuvid -c:v h264_cuvid -i video/video-H264-AAC.mkv -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y /root/transcode.mp4</span><br><span class=\"line\"></span><br><span class=\"line\">-hwaccel cuvid：指定使用cuvid硬件加速</span><br><span class=\"line\">-c:v h264_cuvid：使用h264_cuvid进行视频解码</span><br><span class=\"line\">-c:v h264_nvenc：使用h264_nvenc进行视频编码</span><br><span class=\"line\">-vf scale_npp=1280:-1：指定输出视频的宽高，注意，这里和软解码时使用的-vf scale=x:x不一样</span><br><span class=\"line\">转码期间使用nvidia-smi查看显卡状态，能够看到ffmpeg确实是在使用GPU进行转码：</span><br></pre></td></tr></table></figure>\n<p>如果在执行命令的时候报错，则需要,进行nv-codec-headers和驱动的版本匹配的处理</p>\n<p><img src=\"/images/drive.png\" alt=\"drive.png\"></p>\n<p>我开始编译nv-codec-headers使用的是最新版本9.1的，编译出错，有两种方法，一种是升级drive的版本，升级到430以上，这个比较的麻烦，另一种是降低nv-codec-headers的版本，我降低到8.1版本，就可以成功</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffmpeg 版本 ffmpeg version n4.1.1-3-g53f3f52</span><br><span class=\"line\">cuda 版本 CUDA Version 10.0.130（这个版本自带驱动，可以不用安装驱动）</span><br><span class=\"line\">drive 驱动版本 Driver Version: 410.48 </span><br><span class=\"line\">nv-codec-headers 版本 sdk/8.1</span><br></pre></td></tr></table></figure>\n<h4 id=\"7-在容器中使用NVIDIA\"><a href=\"#7-在容器中使用NVIDIA\" class=\"headerlink\" title=\"7,在容器中使用NVIDIA\"></a>7,在容器中使用NVIDIA</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在将自己的服务打包成镜像的时候，开始没有设置环境变量，导致怎么都无法调用NVIDIA进行硬件的转码；</span><br><span class=\"line\">最后查询了很多的资料，发现需要添加一个环境变量，在Dockfile中</span><br><span class=\"line\">ENV NVIDIA_DRIVER_CAPABILITIES video,compute,utility</span><br><span class=\"line\">才能保证容器中使用成功</span><br></pre></td></tr></table></figure>\n<h4 id=\"8，gpu和cpu转码测试\"><a href=\"#8，gpu和cpu转码测试\" class=\"headerlink\" title=\"8，gpu和cpu转码测试\"></a>8，gpu和cpu转码测试</h4><p>​    对于同一个视频，分别采用cpu和GPU两种方式来进行转码，对比这两者之间的效率</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#机器信息</span><br><span class=\"line\">逻辑核：24</span><br><span class=\"line\">内存：64G</span><br><span class=\"line\">24  Intel(R) Xeon(R) CPU E5-2620 v2 @ 2.10GHz</span><br><span class=\"line\">系统：CentOS Linux release 7.6.1810 (Core)</span><br><span class=\"line\">#视频信息：</span><br><span class=\"line\">name: 11.mkv</span><br><span class=\"line\">size： 1.1G</span><br><span class=\"line\">Video: h264 (High), yuv420p(progressive), 1280x720 [SAR 1:1 DAR 16:9], 25 fps, 25 tbr, 1k tbn, 50 tbc (default)</span><br><span class=\"line\">Audio: ac3, 48000 Hz, stereo, fltp, 192 kb/s (default)</span><br><span class=\"line\">#软件转码：</span><br><span class=\"line\">[time] ffmpeg  -i video/11.mkv -c:v libx264 -b:v 2048k -vf scale=1280:-1 -y /root/transcode.mp4</span><br><span class=\"line\">#结果</span><br><span class=\"line\">real\t11m18.807s</span><br><span class=\"line\">user\t180m16.290s</span><br><span class=\"line\">sys\t\t1m36.925s</span><br><span class=\"line\">cpu占用\t平均1600%</span><br><span class=\"line\">[time] ./softhw /root/video/11.mkv /opt/nvitra1.mp4</span><br><span class=\"line\">real\t14m51.166s</span><br><span class=\"line\">user\t220m2.857s</span><br><span class=\"line\">sys\t\t1m21.718s</span><br><span class=\"line\">cpu占用  平均1600%</span><br><span class=\"line\">#硬件转码：</span><br><span class=\"line\">[time] ffmpeg  -hwaccel cuvid -c:v h264_cuvid -i video/11.mkv -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y /root/transcode.mp4</span><br><span class=\"line\">#结果</span><br><span class=\"line\">real\t1m45.228s</span><br><span class=\"line\">user\t1m15.910s</span><br><span class=\"line\">sys\t\t0m18.734s</span><br><span class=\"line\">cpu占用\t平均90%</span><br><span class=\"line\">[time] ./hw /root/video/11.mkv /opt/nvitra.mp4</span><br><span class=\"line\">real\t1m29.478s</span><br><span class=\"line\">user\t0m22.754s</span><br><span class=\"line\">sys\t\t0m23.465s</span><br><span class=\"line\">cpu占用 50%</span><br></pre></td></tr></table></figure>\n<h4 id=\"8，指定显卡进行转码\"><a href=\"#8，指定显卡进行转码\" class=\"headerlink\" title=\"8，指定显卡进行转码\"></a>8，指定显卡进行转码</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ffmpeg -hwaccel cuvid -hwaccel_device 0 -c:v h264_cuvid -i &lt;input&gt; -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y &lt;output&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">ffmpeg -hwaccel cuvid -hwaccel_device 1 -c:v h264_cuvid -i &lt;input&gt; -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y &lt;output&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">ffmpeg -hwaccel cuvid -hwaccel_device 0 -c:v h264_cuvid -i /root/source_media/flv.flv -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1  -y /root/flv.mp4</span><br></pre></td></tr></table></figure>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"ckalvcniy0008ggqg26m3d4q4","category_id":"ckalvcnid0004ggqg1bxd61go","_id":"ckalvcnjz000fggqgx0gmye4c"},{"post_id":"ckalvcngx0000ggqghkppzkzz","category_id":"ckalvcnid0004ggqg1bxd61go","_id":"ckalvcnk2000kggqg2271zw2j"},{"post_id":"ckalvcnhi0002ggqgbin739bc","category_id":"ckalvcnid0004ggqg1bxd61go","_id":"ckalvcnk5000nggqgwatf8vv5"},{"post_id":"ckalvcniq0006ggqg71krvqml","category_id":"ckalvcnid0004ggqg1bxd61go","_id":"ckalvcnkd000sggqg4nhkdea3"},{"post_id":"ckalvcnj80009ggqgdbxupb75","category_id":"ckalvcnk5000mggqgz5b6b6jm","_id":"ckalvcnku000xggqgto45uuq9"},{"post_id":"ckalvcnjp000dggqgg69q9ba3","category_id":"ckalvcnke000tggqgs33iht5f","_id":"ckalvcnlb0013ggqgs7lo035c"},{"post_id":"ckalvcnjx000eggqg28mof0ef","category_id":"ckalvcnku000yggqgkdav2h6y","_id":"ckalvcnlv001aggqg94346twt"},{"post_id":"ckalvcnk1000jggqgw9t8f3zr","category_id":"ckalvcnku000yggqgkdav2h6y","_id":"ckalvcnm5001fggqg8rayuunw"},{"post_id":"ckalvcnk4000lggqgwn2e03by","category_id":"ckalvcnlu0019ggqgdlodv7av","_id":"ckalvcnms001mggqgufoaf0lm"},{"post_id":"ckalvcnk7000pggqgp7s8tkml","category_id":"ckalvcnmg001hggqg18mk7e1x","_id":"ckalvcnna001tggqgt5bt783n"},{"post_id":"ckalvcnka000rggqgzi9ufjna","category_id":"ckalvcnmg001hggqg18mk7e1x","_id":"ckalvcnns001zggqgtl0y76sa"},{"post_id":"ckalvcnko000vggqgead7oue9","category_id":"ckalvcnn9001sggqg4nbu3emc","_id":"ckalvcnot0025ggqgs9zhcim3"},{"post_id":"ckalvcnkw0010ggqgyu7633ep","category_id":"ckalvcnnt0021ggqgje477b6i","_id":"ckalvcnp0002bggqgbc88j498"},{"post_id":"ckalvcnoq0024ggqg37cbd90j","category_id":"ckalvcnid0004ggqg1bxd61go","_id":"ckalvcnpa002eggqgbs5mukio"},{"post_id":"ckalvcnl80012ggqgjfh46cy7","category_id":"ckalvcnnt0021ggqgje477b6i","_id":"ckalvcnpf002hggqge97vdtvd"},{"post_id":"ckalvcnle0016ggqg1cjbvl4y","category_id":"ckalvcnnt0021ggqgje477b6i","_id":"ckalvcnpj002kggqgsiy3ga6h"},{"post_id":"ckalvcnlj0018ggqgz8s5mnh7","category_id":"ckalvcnpd002gggqg2j2yftky","_id":"ckalvcnpu002pggqgvppgao0j"},{"post_id":"ckalvcnlw001bggqges4p2w4n","category_id":"ckalvcnpd002gggqg2j2yftky","_id":"ckalvcnq0002tggqg730lcaub"},{"post_id":"ckalvcnm1001dggqg6nyzj80m","category_id":"ckalvcnpd002gggqg2j2yftky","_id":"ckalvcnqe002wggqgw29m65gt"},{"post_id":"ckalvcnmj001kggqgpvxmo41n","category_id":"ckalvcnpy002sggqgn3rbt1xh","_id":"ckalvcnqn0030ggqgtdee1y4j"},{"post_id":"ckalvcnmn001lggqgo1vkres2","category_id":"ckalvcnqf002xggqglwd3j4t0","_id":"ckalvcnqr0034ggqgceifkigg"},{"post_id":"ckalvcnn2001pggqgi9mb7hwc","category_id":"ckalvcnqn0031ggqg0omzsz3g","_id":"ckalvcnr00039ggqg5i3u7qpf"},{"post_id":"ckalvcnn6001rggqg02dqxe5w","category_id":"ckalvcnqs0036ggqgzfukrrwd","_id":"ckalvcnr3003cggqgphnqwqrg"},{"post_id":"ckalvcnnh001wggqgue4v2jf5","category_id":"ckalvcnr1003aggqglnss4zg4","_id":"ckalvcnr7003gggqgigzbh6ya"},{"post_id":"ckalvcnnn001yggqg7k5jy41y","category_id":"ckalvcnr4003dggqgy4qeprve","_id":"ckalvcnra003lggqgqc7u1fzx"},{"post_id":"ckalvcnnv0023ggqgfud0o1ft","category_id":"ckalvcnpd002gggqg2j2yftky","_id":"ckalvcnrc003pggqgn2souynk"},{"post_id":"ckalvcntn004aggqg38hhe5ck","category_id":"ckalvcnku000yggqgkdav2h6y","_id":"ckalvcntv004dggqg7vjzojpx"}],"PostTag":[{"post_id":"ckalvcngx0000ggqghkppzkzz","tag_id":"ckalvcnio0005ggqggxawd031","_id":"ckalvcnjn000cggqgxeen9hf0"},{"post_id":"ckalvcnhi0002ggqgbin739bc","tag_id":"ckalvcnio0005ggqggxawd031","_id":"ckalvcnk1000iggqg6np1fugu"},{"post_id":"ckalvcniq0006ggqg71krvqml","tag_id":"ckalvcnjz000hggqgm0m5fxq9","_id":"ckalvcnk9000qggqgkce4y1b4"},{"post_id":"ckalvcnj80009ggqgdbxupb75","tag_id":"ckalvcnk6000oggqgvw0lu7yl","_id":"ckalvcnl40011ggqgidhg55dm"},{"post_id":"ckalvcnj80009ggqgdbxupb75","tag_id":"ckalvcnkl000uggqgccggxezg","_id":"ckalvcnlc0014ggqg70hn6j6u"},{"post_id":"ckalvcnjp000dggqgg69q9ba3","tag_id":"ckalvcnkv000zggqg9xe4wp1o","_id":"ckalvcnm3001eggqgecclr30b"},{"post_id":"ckalvcnjp000dggqgg69q9ba3","tag_id":"ckalvcnlh0017ggqg0e4y164v","_id":"ckalvcnmg001iggqghidnlten"},{"post_id":"ckalvcnjx000eggqg28mof0ef","tag_id":"ckalvcnlh0017ggqg0e4y164v","_id":"ckalvcnn5001qggqgd9n6pavf"},{"post_id":"ckalvcnjx000eggqg28mof0ef","tag_id":"ckalvcnmh001jggqg1ei5k7zk","_id":"ckalvcnna001uggqguji2mgd8"},{"post_id":"ckalvcnn2001pggqgi9mb7hwc","tag_id":"ckalvcnjz000hggqgm0m5fxq9","_id":"ckalvcnnm001xggqg1nnvemkt"},{"post_id":"ckalvcnk1000jggqgw9t8f3zr","tag_id":"ckalvcnlh0017ggqg0e4y164v","_id":"ckalvcnns0020ggqg2xhl0tev"},{"post_id":"ckalvcnk4000lggqgwn2e03by","tag_id":"ckalvcnkv000zggqg9xe4wp1o","_id":"ckalvcnoy0028ggqgtxwqasg2"},{"post_id":"ckalvcnk4000lggqgwn2e03by","tag_id":"ckalvcnnt0022ggqgpry5va8q","_id":"ckalvcnoz0029ggqga52w8wig"},{"post_id":"ckalvcnoq0024ggqg37cbd90j","tag_id":"ckalvcnnt0022ggqgpry5va8q","_id":"ckalvcnp7002dggqgbm87cfq6"},{"post_id":"ckalvcnk7000pggqgp7s8tkml","tag_id":"ckalvcnow0027ggqgd4d6f1wz","_id":"ckalvcnpc002fggqgqdwhh5ux"},{"post_id":"ckalvcnka000rggqgzi9ufjna","tag_id":"ckalvcnow0027ggqgd4d6f1wz","_id":"ckalvcnpi002jggqgale0sh9h"},{"post_id":"ckalvcnko000vggqgead7oue9","tag_id":"ckalvcnpg002iggqg98aeiev9","_id":"ckalvcnpp002nggqgi6acbl29"},{"post_id":"ckalvcnko000vggqgead7oue9","tag_id":"ckalvcnjz000hggqgm0m5fxq9","_id":"ckalvcnpv002qggqg1m6yuwvf"},{"post_id":"ckalvcnkw0010ggqgyu7633ep","tag_id":"ckalvcnpm002mggqgijvv2wos","_id":"ckalvcnq9002vggqgof2m2ey4"},{"post_id":"ckalvcnkw0010ggqgyu7633ep","tag_id":"ckalvcnpw002rggqgluq6a3m4","_id":"ckalvcnqg002yggqgo9bjvxra"},{"post_id":"ckalvcnl80012ggqgjfh46cy7","tag_id":"ckalvcnpm002mggqgijvv2wos","_id":"ckalvcnqq0033ggqgnwp1xojm"},{"post_id":"ckalvcnl80012ggqgjfh46cy7","tag_id":"ckalvcnnt0022ggqgpry5va8q","_id":"ckalvcnqr0035ggqgrwxmtiqm"},{"post_id":"ckalvcnle0016ggqg1cjbvl4y","tag_id":"ckalvcnqo0032ggqgghswjgnc","_id":"ckalvcnqy0038ggqg7e0hshd0"},{"post_id":"ckalvcnlj0018ggqgz8s5mnh7","tag_id":"ckalvcnqv0037ggqgr31rtpu5","_id":"ckalvcnr7003fggqg5p1k328o"},{"post_id":"ckalvcnlj0018ggqgz8s5mnh7","tag_id":"ckalvcnjz000hggqgm0m5fxq9","_id":"ckalvcnr8003hggqg7fttxqup"},{"post_id":"ckalvcnlj0018ggqgz8s5mnh7","tag_id":"ckalvcnr2003bggqg6dogmhht","_id":"ckalvcnr9003kggqgrlsdxbq1"},{"post_id":"ckalvcnlw001bggqges4p2w4n","tag_id":"ckalvcnqv0037ggqgr31rtpu5","_id":"ckalvcnrc003nggqgchntsu2g"},{"post_id":"ckalvcnlw001bggqges4p2w4n","tag_id":"ckalvcnjz000hggqgm0m5fxq9","_id":"ckalvcnrc003oggqgqa7gxu30"},{"post_id":"ckalvcnlw001bggqges4p2w4n","tag_id":"ckalvcnr2003bggqg6dogmhht","_id":"ckalvcnrd003rggqgwd9673bn"},{"post_id":"ckalvcnm1001dggqg6nyzj80m","tag_id":"ckalvcnqv0037ggqgr31rtpu5","_id":"ckalvcnre003tggqgz8a58nd8"},{"post_id":"ckalvcnm1001dggqg6nyzj80m","tag_id":"ckalvcnjz000hggqgm0m5fxq9","_id":"ckalvcnrf003uggqg8qxehbi1"},{"post_id":"ckalvcnm1001dggqg6nyzj80m","tag_id":"ckalvcnr2003bggqg6dogmhht","_id":"ckalvcnrf003wggqg60g3umjz"},{"post_id":"ckalvcnmj001kggqgpvxmo41n","tag_id":"ckalvcnre003sggqgjbcrafvz","_id":"ckalvcnrg003xggqg9s8276s7"},{"post_id":"ckalvcnmn001lggqgo1vkres2","tag_id":"ckalvcnjz000hggqgm0m5fxq9","_id":"ckalvcnrj0040ggqgke5865mo"},{"post_id":"ckalvcnmn001lggqgo1vkres2","tag_id":"ckalvcnrf003vggqgqmg0atzu","_id":"ckalvcnrj0041ggqgj8udjr6t"},{"post_id":"ckalvcnmn001lggqgo1vkres2","tag_id":"ckalvcnnt0022ggqgpry5va8q","_id":"ckalvcnrk0043ggqgucsr1ape"},{"post_id":"ckalvcnnh001wggqgue4v2jf5","tag_id":"ckalvcnrf003vggqgqmg0atzu","_id":"ckalvcnrl0044ggqgabkd110j"},{"post_id":"ckalvcnnh001wggqgue4v2jf5","tag_id":"ckalvcnkv000zggqg9xe4wp1o","_id":"ckalvcnro0046ggqgrhrhf51c"},{"post_id":"ckalvcnnn001yggqg7k5jy41y","tag_id":"ckalvcnrj0042ggqgwteg28ap","_id":"ckalvcnrp0047ggqgkl5czv3w"},{"post_id":"ckalvcnnn001yggqg7k5jy41y","tag_id":"ckalvcnjz000hggqgm0m5fxq9","_id":"ckalvcnrs0048ggqgwws71p2s"},{"post_id":"ckalvcnnv0023ggqgfud0o1ft","tag_id":"ckalvcnqv0037ggqgr31rtpu5","_id":"ckalvcnrs0049ggqgjgpjq8y2"},{"post_id":"ckalvcntn004aggqg38hhe5ck","tag_id":"ckalvcnlh0017ggqg0e4y164v","_id":"ckalvcntq004bggqgzb2o3d35"},{"post_id":"ckalvcntn004aggqg38hhe5ck","tag_id":"ckalvcnjz000hggqgm0m5fxq9","_id":"ckalvcntu004cggqgo3acrzwa"}],"Tag":[{"name":"yum","_id":"ckalvcnio0005ggqggxawd031"},{"name":"centos7","_id":"ckalvcnjz000hggqgm0m5fxq9"},{"name":"nvidia","_id":"ckalvcnk6000oggqgvw0lu7yl"},{"name":"驱动","_id":"ckalvcnkl000uggqgccggxezg"},{"name":"cpp","_id":"ckalvcnkv000zggqg9xe4wp1o"},{"name":"ffmpeg","_id":"ckalvcnlh0017ggqg0e4y164v"},{"name":"avfilter","_id":"ckalvcnmh001jggqg1ei5k7zk"},{"name":"tools","_id":"ckalvcnnt0022ggqgpry5va8q"},{"name":"git","_id":"ckalvcnow0027ggqgd4d6f1wz"},{"name":"grpc","_id":"ckalvcnpg002iggqg98aeiev9"},{"name":"hexo","_id":"ckalvcnpm002mggqgijvv2wos"},{"name":"gulp","_id":"ckalvcnpw002rggqgluq6a3m4"},{"name":"next","_id":"ckalvcnqo0032ggqgghswjgnc"},{"name":"image","_id":"ckalvcnqv0037ggqgr31rtpu5"},{"name":"lib.so","_id":"ckalvcnr2003bggqg6dogmhht"},{"name":"pdf","_id":"ckalvcnre003sggqgjbcrafvz"},{"name":"mysql","_id":"ckalvcnrf003vggqgqmg0atzu"},{"name":"s3","_id":"ckalvcnrj0042ggqgwteg28ap"}]}}